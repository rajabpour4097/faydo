# ðŸ”§ ØªØ³Øª Ù†Ù‡Ø§ÛŒÛŒ - Ù…Ø´Ú©Ù„ Nginx Ùˆ Ø´Ø¨Ú©Ù‡ Ø®Ø§Ø±Ø¬ÛŒ

## âœ… ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ù„ÛŒ

Ø§Ø² Ù„Ù¾ØªØ§Ù¾ Ø®ÙˆØ¯ØªØ§Ù† Ù‡Ù…Ù‡ Ú†ÛŒØ² Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯:
```bash
âœ… Django: http://192.168.70.102:8000
âœ… Vite: http://192.168.70.102:5173
âœ… Nginx: https://192.168.70.102
âœ… Nginx Static: https://192.168.70.102/nginx-test.html
```

## ðŸ“± ØªØ³Øª Ø±ÙˆÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ - Ù…Ø±Ø­Ù„Ù‡ Ø¨Ù‡ Ù…Ø±Ø­Ù„Ù‡

### Ú¯Ø§Ù… 1: ØªØ³Øª Ø®Ø§Ù„Øµ Nginx (Ø¨Ø¯ÙˆÙ† proxy)
Ø§ÛŒÙ† ØµÙØ­Ù‡ Ù…Ø³ØªÙ‚ÛŒÙ…Ø§Ù‹ ØªÙˆØ³Ø· Nginx serve Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ø¨Ø¯ÙˆÙ† Ù‡ÛŒÚ† proxy:

**Ø±ÙˆÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯:**
```
https://192.168.70.102/nginx-test.html
```

**Ù†ØªØ§ÛŒØ¬ Ø§Ø­ØªÙ…Ø§Ù„ÛŒ:**

#### âœ… Ø§Ú¯Ø± Ø¨Ø§Ø² Ø´Ø¯ (ØµÙØ­Ù‡ Ø¨Ù†ÙØ´ Ø¨Ø§ "Nginx Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯"):
**ÛŒØ¹Ù†ÛŒ:** Nginx Ø§Ø² Ø´Ø¨Ú©Ù‡ Ù‚Ø§Ø¨Ù„ Ø¯Ø³ØªØ±Ø³ Ø§Ø³Øª!
**Ù…Ø´Ú©Ù„:** ÙÙ‚Ø· proxy Ø¨Ù‡ Django/Vite Ù…Ø´Ú©Ù„ Ø¯Ø§Ø±Ø¯
**Ø§Ø¯Ø§Ù…Ù‡:** Ø¨Ù‡ Ú¯Ø§Ù… 2 Ø¨Ø±ÙˆÛŒØ¯

#### âŒ Ø§Ú¯Ø± Ø¨Ø§Ø² Ù†Ø´Ø¯:
**ÛŒØ¹Ù†ÛŒ:** Nginx Ø§ØµÙ„Ø§Ù‹ Ø§Ø² Ø´Ø¨Ú©Ù‡ Ù‚Ø§Ø¨Ù„ Ø¯Ø³ØªØ±Ø³ Ù†ÛŒØ³Øª
**Ø¯Ù„Ø§ÛŒÙ„ Ø§Ø­ØªÙ…Ø§Ù„ÛŒ:**
1. **AP Isolation** Ø¯Ø± Router ÙØ¹Ø§Ù„ Ø§Ø³Øª
2. Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¯Ø± Ø´Ø¨Ú©Ù‡ Ø¯ÛŒÚ¯Ø±ÛŒ Ø§Ø³Øª
3. Firewall Ø±ÙˆÛŒ Router ØªØ±Ø§ÙÛŒÚ© Ø±Ø§ block Ù…ÛŒâ€ŒÚ©Ù†Ø¯

---

### Ú¯Ø§Ù… 2: ØªØ³Øª HTTP Ø³Ø§Ø¯Ù‡ (Ø¨Ø¯ÙˆÙ† SSL)
**Ø±ÙˆÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯:**
```
http://192.168.70.102/network-test.html
```

#### âœ… Ø§Ú¯Ø± Ø¨Ø§Ø² Ø´Ø¯:
- Ø´Ø¨Ú©Ù‡ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- ÙÙ‚Ø· SSL Ù…Ø´Ú©Ù„ Ø¯Ø§Ø±Ø¯ ÛŒØ§ proxy

#### âŒ Ø§Ú¯Ø± Ø¨Ø§Ø² Ù†Ø´Ø¯:
- Ù…Ø´Ú©Ù„ Ø§Ø² Ø§ØªØµØ§Ù„ Ø´Ø¨Ú©Ù‡ Ø§Ø³Øª

---

### Ú¯Ø§Ù… 3: ØªØ³Øª API Ù…Ø³ØªÙ‚ÛŒÙ… (Ø¨Ø¯ÙˆÙ† Nginx)
**Ø±ÙˆÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø§ÛŒÙ† Ø¢Ø¯Ø±Ø³ Ø±Ø§ Ø¯Ø± browser Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯:**
```
http://192.168.70.102:8000/api/accounts/users/
```

#### âœ… Ø§Ú¯Ø± JSON response Ø¯ÛŒØ¯ÛŒØ¯:
- Django Ø§Ø² Ø´Ø¨Ú©Ù‡ Ù‚Ø§Ø¨Ù„ Ø¯Ø³ØªØ±Ø³ Ø§Ø³Øª
- Ù…Ø´Ú©Ù„ ÙÙ‚Ø· Ø§Ø² Nginx proxy Ø§Ø³Øª

---

## ðŸ” Ø¯ÛŒØ¨Ø§Ú¯ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ

### Ø±ÙˆÛŒ Ù„Ù¾ØªØ§Ù¾ Ø§ÛŒÙ† Ø±Ø§ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯:
```bash
# Terminal 1: Monitor Nginx access logs
sudo tail -f /var/log/nginx/faydo-access.log

# Terminal 2: Monitor Nginx error logs  
sudo tail -f /var/log/nginx/faydo-error.log
```

### Ø³Ù¾Ø³ Ø±ÙˆÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„:
1. Ø¨Ù‡ `https://192.168.70.102` Ø¨Ø±ÙˆÛŒØ¯
2. Ø¨Ù‡ log Ù‡Ø§ÛŒ Ù„Ù¾ØªØ§Ù¾ Ù†Ú¯Ø§Ù‡ Ú©Ù†ÛŒØ¯

**Ú†Ù‡ Ø¨Ø§ÛŒØ¯ Ø¨Ø¨ÛŒÙ†ÛŒØ¯:**
- **access.log**: Ø¨Ø§ÛŒØ¯ IP Ù…ÙˆØ¨Ø§ÛŒÙ„ Ùˆ request Ø±Ø§ Ù†Ø´Ø§Ù† Ø¯Ù‡Ø¯
- **error.log**: Ø§Ú¯Ø± Ø®Ø·Ø§ Ù‡Ø³ØªØŒ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ú†Ù‡ Ø®Ø·Ø§ÛŒÛŒ Ø§Ø³Øª

---

## ðŸ’¡ Ø±Ø§Ù‡â€ŒØ­Ù„â€ŒÙ‡Ø§ÛŒ Ø§Ø­ØªÙ…Ø§Ù„ÛŒ

### Ù…Ø´Ú©Ù„ 1: AP Isolation

**ØªØ´Ø®ÛŒØµ:**
- `/nginx-test.html` Ø¨Ø§Ø² Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯
- Ping Ø§Ø² Ù„Ù¾ØªØ§Ù¾ Ø¨Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¬ÙˆØ§Ø¨ Ù†Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
- Direct access Ø¨Ù‡ Ù¾ÙˆØ±Øª 8000 Ù‡Ù… Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯

**Ø±Ø§Ù‡â€ŒØ­Ù„:**
1. Ø¨Ù‡ Router login Ú©Ù†ÛŒØ¯ (Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ `192.168.70.1`)
2. "AP Isolation" ÛŒØ§ "Client Isolation" Ø±Ø§ ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯
3. ÛŒØ§ Ø§Ø² USB tethering Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯

### Ù…Ø´Ú©Ù„ 2: Nginx Proxy Ø¨Ù‡ localhost

**ØªØ´Ø®ÛŒØµ:**
- `/nginx-test.html` Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- Ø§Ù…Ø§ `/` ÛŒØ§ `/api/` Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- Ø¯Ø± error.log Ù…ÛŒâ€ŒØ¨ÛŒÙ†ÛŒØ¯: "Connection refused... upstream: http://127.0.0.1:..."

**Ø±Ø§Ù‡â€ŒØ­Ù„:**
Ø§ÛŒÙ† Ù†Ø¨Ø§ÛŒØ¯ Ù…Ø´Ú©Ù„ Ø¨Ø§Ø´Ø¯ Ú†ÙˆÙ† Django Ùˆ Vite Ø±ÙˆÛŒ `0.0.0.0` bind Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯.
Ø§Ù…Ø§ Ø§Ú¯Ø± Ù…Ø´Ú©Ù„ Ø¯Ø§Ø±Ø¯ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Nginx Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒÙ… Ø¨Ù‡:
```nginx
proxy_pass http://192.168.70.102:5173;  # Ø¨Ù‡ Ø¬Ø§ÛŒ localhost
```

### Ù…Ø´Ú©Ù„ 3: Firewall Ø±ÙˆÛŒ Router

**ØªØ´Ø®ÛŒØµ:**
- Ø§Ø² Ù„Ù¾ØªØ§Ù¾ Ù‡Ù…Ù‡ Ú†ÛŒØ² Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- Ø§Ø² Ù…ÙˆØ¨Ø§ÛŒÙ„ Ù‡ÛŒÚ†â€ŒÚ†ÛŒØ² Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- Ø­ØªÛŒ ping Ù‡Ù… Ø¬ÙˆØ§Ø¨ Ù†Ù…ÛŒâ€ŒØ¯Ù‡Ø¯

**Ø±Ø§Ù‡â€ŒØ­Ù„:**
- Ø¯Ø± Router Ø¨Ù‡ Ø¯Ù†Ø¨Ø§Ù„ Firewall settings Ø¨Ú¯Ø±Ø¯ÛŒØ¯
- "Block WAN to LAN" ÛŒØ§ Ù…Ø´Ø§Ø¨Ù‡ Ø±Ø§ ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯
- ÛŒØ§ Port Forwarding ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ÛŒØ¯ (Ø§Ú¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¯Ø± WAN Ø§Ø³Øª - Ù†Ø§Ù…Ø­ØªÙ…Ù„)

---

## ðŸš€ Ø¯Ø³ØªÙˆØ± Ø³Ø±ÛŒØ¹ Ø¨Ø±Ø§ÛŒ ØªØ³Øª

```bash
# Ø±ÙˆÛŒ Ù„Ù¾ØªØ§Ù¾
./troubleshoot-mobile.sh

# Ù†ØªÛŒØ¬Ù‡:
# âœ… Ù‡Ù…Ù‡ Ú†ÛŒØ² OK â†’ Ù…Ø´Ú©Ù„ Ø§Ø² Ù…ÙˆØ¨Ø§ÛŒÙ„ ÛŒØ§ Router Ø§Ø³Øª
# âŒ Ú†ÛŒØ²ÛŒ Ù‚Ø±Ù…Ø² â†’ Ù…Ø´Ú©Ù„ Ø§Ø² Ø³Ø±ÙˆØ± Ø§Ø³Øª
```

---

## ðŸ“ Ú¯Ø²Ø§Ø±Ø´ Ø¨Ù‡ Ù…Ù†

Ù„Ø·ÙØ§Ù‹ Ø§ÛŒÙ† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø§ Ø¨Ù‡ Ù…Ù† Ø¨Ø¯Ù‡ÛŒØ¯:

### âœ… ØªØ³Øª 1: Nginx Static
```
Ø¢Ø¯Ø±Ø³: https://192.168.70.102/nginx-test.html
Ù†ØªÛŒØ¬Ù‡: [ ] Ø¨Ø§Ø² Ø´Ø¯  [ ] Ø¨Ø§Ø² Ù†Ø´Ø¯
Ø§Ú¯Ø± Ù†Ø´Ø¯ØŒ Ø®Ø·Ø§: _______
```

### âœ… ØªØ³Øª 2: HTTP Network Test
```
Ø¢Ø¯Ø±Ø³: http://192.168.70.102/network-test.html  
Ù†ØªÛŒØ¬Ù‡: [ ] Ø¨Ø§Ø² Ø´Ø¯  [ ] Ø¨Ø§Ø² Ù†Ø´Ø¯
Ø§Ú¯Ø± Ù†Ø´Ø¯ØŒ Ø®Ø·Ø§: _______
```

### âœ… ØªØ³Øª 3: API Ù…Ø³ØªÙ‚ÛŒÙ…
```
Ø¢Ø¯Ø±Ø³: http://192.168.70.102:8000/api/accounts/users/
Ù†ØªÛŒØ¬Ù‡: [ ] JSON Ø¯ÛŒØ¯Ù…  [ ] Ø¨Ø§Ø² Ù†Ø´Ø¯
Ø§Ú¯Ø± Ù†Ø´Ø¯ØŒ Ø®Ø·Ø§: _______
```

### âœ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø¨Ú©Ù‡
```
IP Ù…ÙˆØ¨Ø§ÛŒÙ„: _______ (Settings > WiFi > Ù†Ø§Ù… Ø´Ø¨Ú©Ù‡)
Ù†Ø§Ù… WiFi: _______
Ø¢ÛŒØ§ Ping Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ [ ] Ø¨Ù„Ù‡  [ ] Ø®ÛŒØ±
```

Ø¨Ø§ Ø§ÛŒÙ† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ø¨Ú¯ÙˆÛŒÙ… Ù…Ø´Ú©Ù„ Ú†ÛŒØ³Øª!
