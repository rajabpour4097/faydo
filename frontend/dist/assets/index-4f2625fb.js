var Xx=Object.defineProperty;var ev=(e,t,r)=>t in e?Xx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Au=(e,t,r)=>(ev(e,typeof t!="symbol"?t+"":t,r),r);function tv(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in e)){const u=Object.getOwnPropertyDescriptor(i,l);u&&Object.defineProperty(e,l,u.get?u:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();var ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var op={exports:{}},kc={},lp={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo=Symbol.for("react.element"),nv=Symbol.for("react.portal"),rv=Symbol.for("react.fragment"),iv=Symbol.for("react.strict_mode"),sv=Symbol.for("react.profiler"),av=Symbol.for("react.provider"),ov=Symbol.for("react.context"),lv=Symbol.for("react.forward_ref"),cv=Symbol.for("react.suspense"),uv=Symbol.for("react.memo"),dv=Symbol.for("react.lazy"),Tf=Symbol.iterator;function hv(e){return e===null||typeof e!="object"?null:(e=Tf&&e[Tf]||e["@@iterator"],typeof e=="function"?e:null)}var cp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},up=Object.assign,dp={};function Hs(e,t,r){this.props=e,this.context=t,this.refs=dp,this.updater=r||cp}Hs.prototype.isReactComponent={};Hs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hp(){}hp.prototype=Hs.prototype;function mh(e,t,r){this.props=e,this.context=t,this.refs=dp,this.updater=r||cp}var ph=mh.prototype=new hp;ph.constructor=mh;up(ph,Hs.prototype);ph.isPureReactComponent=!0;var Cf=Array.isArray,fp=Object.prototype.hasOwnProperty,gh={current:null},mp={key:!0,ref:!0,__self:!0,__source:!0};function pp(e,t,r){var i,l={},u=null,f=null;if(t!=null)for(i in t.ref!==void 0&&(f=t.ref),t.key!==void 0&&(u=""+t.key),t)fp.call(t,i)&&!mp.hasOwnProperty(i)&&(l[i]=t[i]);var p=arguments.length-2;if(p===1)l.children=r;else if(1<p){for(var v=Array(p),_=0;_<p;_++)v[_]=arguments[_+2];l.children=v}if(e&&e.defaultProps)for(i in p=e.defaultProps,p)l[i]===void 0&&(l[i]=p[i]);return{$$typeof:wo,type:e,key:u,ref:f,props:l,_owner:gh.current}}function fv(e,t){return{$$typeof:wo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xh(e){return typeof e=="object"&&e!==null&&e.$$typeof===wo}function mv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ef=/\/+/g;function Fu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mv(""+e.key):t.toString(36)}function Al(e,t,r,i,l){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(u){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case wo:case nv:f=!0}}if(f)return f=e,l=l(f),e=i===""?"."+Fu(f,0):i,Cf(l)?(r="",e!=null&&(r=e.replace(Ef,"$&/")+"/"),Al(l,t,r,"",function(_){return _})):l!=null&&(xh(l)&&(l=fv(l,r+(!l.key||f&&f.key===l.key?"":(""+l.key).replace(Ef,"$&/")+"/")+e)),t.push(l)),1;if(f=0,i=i===""?".":i+":",Cf(e))for(var p=0;p<e.length;p++){u=e[p];var v=i+Fu(u,p);f+=Al(u,t,r,v,l)}else if(v=hv(e),typeof v=="function")for(e=v.call(e),p=0;!(u=e.next()).done;)u=u.value,v=i+Fu(u,p++),f+=Al(u,t,r,v,l);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return f}function yl(e,t,r){if(e==null)return e;var i=[],l=0;return Al(e,i,"","",function(u){return t.call(r,u,l++)}),i}function pv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Tt={current:null},Fl={transition:null},gv={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:Fl,ReactCurrentOwner:gh};function gp(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:yl,forEach:function(e,t,r){yl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return yl(e,function(){t++}),t},toArray:function(e){return yl(e,function(t){return t})||[]},only:function(e){if(!xh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=Hs;Ne.Fragment=rv;Ne.Profiler=sv;Ne.PureComponent=mh;Ne.StrictMode=iv;Ne.Suspense=cv;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gv;Ne.act=gp;Ne.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=up({},e.props),l=e.key,u=e.ref,f=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,f=gh.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(v in t)fp.call(t,v)&&!mp.hasOwnProperty(v)&&(i[v]=t[v]===void 0&&p!==void 0?p[v]:t[v])}var v=arguments.length-2;if(v===1)i.children=r;else if(1<v){p=Array(v);for(var _=0;_<v;_++)p[_]=arguments[_+2];i.children=p}return{$$typeof:wo,type:e.type,key:l,ref:u,props:i,_owner:f}};Ne.createContext=function(e){return e={$$typeof:ov,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:av,_context:e},e.Consumer=e};Ne.createElement=pp;Ne.createFactory=function(e){var t=pp.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:lv,render:e}};Ne.isValidElement=xh;Ne.lazy=function(e){return{$$typeof:dv,_payload:{_status:-1,_result:e},_init:pv}};Ne.memo=function(e,t){return{$$typeof:uv,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=Fl.transition;Fl.transition={};try{e()}finally{Fl.transition=t}};Ne.unstable_act=gp;Ne.useCallback=function(e,t){return Tt.current.useCallback(e,t)};Ne.useContext=function(e){return Tt.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return Tt.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return Tt.current.useEffect(e,t)};Ne.useId=function(){return Tt.current.useId()};Ne.useImperativeHandle=function(e,t,r){return Tt.current.useImperativeHandle(e,t,r)};Ne.useInsertionEffect=function(e,t){return Tt.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return Tt.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return Tt.current.useMemo(e,t)};Ne.useReducer=function(e,t,r){return Tt.current.useReducer(e,t,r)};Ne.useRef=function(e){return Tt.current.useRef(e)};Ne.useState=function(e){return Tt.current.useState(e)};Ne.useSyncExternalStore=function(e,t,r){return Tt.current.useSyncExternalStore(e,t,r)};Ne.useTransition=function(){return Tt.current.useTransition()};Ne.version="18.3.1";lp.exports=Ne;var z=lp.exports;const zi=fh(z),xv=tv({__proto__:null,default:zi},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv=z,_v=Symbol.for("react.element"),yv=Symbol.for("react.fragment"),wv=Object.prototype.hasOwnProperty,jv=vv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bv={key:!0,ref:!0,__self:!0,__source:!0};function xp(e,t,r){var i,l={},u=null,f=null;r!==void 0&&(u=""+r),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(f=t.ref);for(i in t)wv.call(t,i)&&!bv.hasOwnProperty(i)&&(l[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)l[i]===void 0&&(l[i]=t[i]);return{$$typeof:_v,type:e,key:u,ref:f,props:l,_owner:jv.current}}kc.Fragment=yv;kc.jsx=xp;kc.jsxs=xp;op.exports=kc;var a=op.exports,md={},vp={exports:{}},rn={},_p={exports:{}},yp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,le){var H=W.length;W.push(le);e:for(;0<H;){var ie=H-1>>>1,he=W[ie];if(0<l(he,le))W[ie]=le,W[H]=he,H=ie;else break e}}function r(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var le=W[0],H=W.pop();if(H!==le){W[0]=H;e:for(var ie=0,he=W.length,Ee=he>>>1;ie<Ee;){var ye=2*(ie+1)-1,J=W[ye],K=ye+1,we=W[K];if(0>l(J,H))K<he&&0>l(we,J)?(W[ie]=we,W[K]=H,ie=K):(W[ie]=J,W[ye]=H,ie=ye);else if(K<he&&0>l(we,H))W[ie]=we,W[K]=H,ie=K;else break e}}return le}function l(W,le){var H=W.sortIndex-le.sortIndex;return H!==0?H:W.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();e.unstable_now=function(){return f.now()-p}}var v=[],_=[],C=1,k=null,M=3,O=!1,T=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(W){for(var le=r(_);le!==null;){if(le.callback===null)i(_);else if(le.startTime<=W)i(_),le.sortIndex=le.expirationTime,t(v,le);else break;le=r(_)}}function I(W){if(N=!1,P(W),!T)if(r(v)!==null)T=!0,de(A);else{var le=r(_);le!==null&&je(I,le.startTime-W)}}function A(W,le){T=!1,N&&(N=!1,b(Q),Q=-1),O=!0;var H=M;try{for(P(le),k=r(v);k!==null&&(!(k.expirationTime>le)||W&&!ge());){var ie=k.callback;if(typeof ie=="function"){k.callback=null,M=k.priorityLevel;var he=ie(k.expirationTime<=le);le=e.unstable_now(),typeof he=="function"?k.callback=he:k===r(v)&&i(v),P(le)}else i(v);k=r(v)}if(k!==null)var Ee=!0;else{var ye=r(_);ye!==null&&je(I,ye.startTime-le),Ee=!1}return Ee}finally{k=null,M=H,O=!1}}var B=!1,V=null,Q=-1,ce=5,ne=-1;function ge(){return!(e.unstable_now()-ne<ce)}function X(){if(V!==null){var W=e.unstable_now();ne=W;var le=!0;try{le=V(!0,W)}finally{le?U():(B=!1,V=null)}}else B=!1}var U;if(typeof w=="function")U=function(){w(X)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Y=ae.port2;ae.port1.onmessage=X,U=function(){Y.postMessage(null)}}else U=function(){S(X,0)};function de(W){V=W,B||(B=!0,U())}function je(W,le){Q=S(function(){W(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){T||O||(T=!0,de(A))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return M},e.unstable_getFirstCallbackNode=function(){return r(v)},e.unstable_next=function(W){switch(M){case 1:case 2:case 3:var le=3;break;default:le=M}var H=M;M=le;try{return W()}finally{M=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var H=M;M=W;try{return le()}finally{M=H}},e.unstable_scheduleCallback=function(W,le,H){var ie=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ie+H:ie):H=ie,W){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=H+he,W={id:C++,callback:le,priorityLevel:W,startTime:H,expirationTime:he,sortIndex:-1},H>ie?(W.sortIndex=H,t(_,W),r(v)===null&&W===r(_)&&(N?(b(Q),Q=-1):N=!0,je(I,H-ie))):(W.sortIndex=he,t(v,W),T||O||(T=!0,de(A))),W},e.unstable_shouldYield=ge,e.unstable_wrapCallback=function(W){var le=M;return function(){var H=M;M=le;try{return W.apply(this,arguments)}finally{M=H}}}})(yp);_p.exports=yp;var Nv=_p.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv=z,nn=Nv;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wp=new Set,eo={};function Yi(e,t){Fs(e,t),Fs(e+"Capture",t)}function Fs(e,t){for(eo[e]=t,e=0;e<t.length;e++)wp.add(t[e])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pd=Object.prototype.hasOwnProperty,Sv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Df={},Of={};function Pv(e){return pd.call(Of,e)?!0:pd.call(Df,e)?!1:Sv.test(e)?Of[e]=!0:(Df[e]=!0,!1)}function Mv(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Lv(e,t,r,i){if(t===null||typeof t>"u"||Mv(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ct(e,t,r,i,l,u,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=f}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new Ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var vh=/[\-:]([a-z])/g;function _h(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vh,_h);vt[t]=new Ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vh,_h);vt[t]=new Ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vh,_h);vt[t]=new Ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Ct(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function yh(e,t,r,i){var l=vt.hasOwnProperty(t)?vt[t]:null;(l!==null?l.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Lv(t,r,l,i)&&(r=null),i||l===null?Pv(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,i=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var ur=kv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wl=Symbol.for("react.element"),ys=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),wh=Symbol.for("react.strict_mode"),gd=Symbol.for("react.profiler"),jp=Symbol.for("react.provider"),bp=Symbol.for("react.context"),jh=Symbol.for("react.forward_ref"),xd=Symbol.for("react.suspense"),vd=Symbol.for("react.suspense_list"),bh=Symbol.for("react.memo"),Mr=Symbol.for("react.lazy"),Np=Symbol.for("react.offscreen"),zf=Symbol.iterator;function Ca(e){return e===null||typeof e!="object"?null:(e=zf&&e[zf]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,$u;function Fa(e){if($u===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$u=t&&t[1]||""}return`
`+$u+e}var Yu=!1;function Bu(e,t){if(!e||Yu)return"";Yu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(_){var i=_}Reflect.construct(e,[],t)}else{try{t.call()}catch(_){i=_}e.call(t.prototype)}else{try{throw Error()}catch(_){i=_}e()}}catch(_){if(_&&i&&typeof _.stack=="string"){for(var l=_.stack.split(`
`),u=i.stack.split(`
`),f=l.length-1,p=u.length-1;1<=f&&0<=p&&l[f]!==u[p];)p--;for(;1<=f&&0<=p;f--,p--)if(l[f]!==u[p]){if(f!==1||p!==1)do if(f--,p--,0>p||l[f]!==u[p]){var v=`
`+l[f].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=f&&0<=p);break}}}finally{Yu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Fa(e):""}function Tv(e){switch(e.tag){case 5:return Fa(e.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return e=Bu(e.type,!1),e;case 11:return e=Bu(e.type.render,!1),e;case 1:return e=Bu(e.type,!0),e;default:return""}}function _d(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ws:return"Fragment";case ys:return"Portal";case gd:return"Profiler";case wh:return"StrictMode";case xd:return"Suspense";case vd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bp:return(e.displayName||"Context")+".Consumer";case jp:return(e._context.displayName||"Context")+".Provider";case jh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bh:return t=e.displayName||null,t!==null?t:_d(e.type)||"Memo";case Mr:t=e._payload,e=e._init;try{return _d(e(t))}catch{}}return null}function Cv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _d(t);case 8:return t===wh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ev(e){var t=kp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(f){i=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(f){i=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jl(e){e._valueTracker||(e._valueTracker=Ev(e))}function Sp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=kp(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function Jl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yd(e,t){var r=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function If(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=Hr(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Pp(e,t){t=t.checked,t!=null&&yh(e,"checked",t,!1)}function wd(e,t){Pp(e,t);var r=Hr(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jd(e,t.type,r):t.hasOwnProperty("defaultValue")&&jd(e,t.type,Hr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function jd(e,t,r){(t!=="number"||Jl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $a=Array.isArray;function Ds(e,t,r,i){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&i&&(e[r].defaultSelected=!0)}else{for(r=""+Hr(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function bd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Af(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if($a(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Hr(r)}}function Mp(e,t){var r=Hr(t.value),i=Hr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function Ff(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bl,Tp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bl=bl||document.createElement("div"),bl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function to(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dv=["Webkit","ms","Moz","O"];Object.keys(Ua).forEach(function(e){Dv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ua[t]=Ua[e]})});function Cp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ua.hasOwnProperty(e)&&Ua[e]?(""+t).trim():t+"px"}function Ep(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,l=Cp(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,l):e[r]=l}}var Ov=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kd(e,t){if(t){if(Ov[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Sd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pd=null;function Nh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Md=null,Os=null,zs=null;function $f(e){if(e=No(e)){if(typeof Md!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Tc(t),Md(e.stateNode,e.type,t))}}function Dp(e){Os?zs?zs.push(e):zs=[e]:Os=e}function Op(){if(Os){var e=Os,t=zs;if(zs=Os=null,$f(e),t)for(e=0;e<t.length;e++)$f(t[e])}}function zp(e,t){return e(t)}function Ip(){}var Wu=!1;function Rp(e,t,r){if(Wu)return e(t,r);Wu=!0;try{return zp(e,t,r)}finally{Wu=!1,(Os!==null||zs!==null)&&(Ip(),Op())}}function no(e,t){var r=e.stateNode;if(r===null)return null;var i=Tc(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var Ld=!1;if(ar)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){Ld=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{Ld=!1}function zv(e,t,r,i,l,u,f,p,v){var _=Array.prototype.slice.call(arguments,3);try{t.apply(r,_)}catch(C){this.onError(C)}}var Za=!1,Kl=null,Ql=!1,Td=null,Iv={onError:function(e){Za=!0,Kl=e}};function Rv(e,t,r,i,l,u,f,p,v){Za=!1,Kl=null,zv.apply(Iv,arguments)}function Av(e,t,r,i,l,u,f,p,v){if(Rv.apply(this,arguments),Za){if(Za){var _=Kl;Za=!1,Kl=null}else throw Error(G(198));Ql||(Ql=!0,Td=_)}}function Bi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ap(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yf(e){if(Bi(e)!==e)throw Error(G(188))}function Fv(e){var t=e.alternate;if(!t){if(t=Bi(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,i=t;;){var l=r.return;if(l===null)break;var u=l.alternate;if(u===null){if(i=l.return,i!==null){r=i;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===r)return Yf(l),e;if(u===i)return Yf(l),t;u=u.sibling}throw Error(G(188))}if(r.return!==i.return)r=l,i=u;else{for(var f=!1,p=l.child;p;){if(p===r){f=!0,r=l,i=u;break}if(p===i){f=!0,i=l,r=u;break}p=p.sibling}if(!f){for(p=u.child;p;){if(p===r){f=!0,r=u,i=l;break}if(p===i){f=!0,i=u,r=l;break}p=p.sibling}if(!f)throw Error(G(189))}}if(r.alternate!==i)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function Fp(e){return e=Fv(e),e!==null?$p(e):null}function $p(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$p(e);if(t!==null)return t;e=e.sibling}return null}var Yp=nn.unstable_scheduleCallback,Bf=nn.unstable_cancelCallback,$v=nn.unstable_shouldYield,Yv=nn.unstable_requestPaint,nt=nn.unstable_now,Bv=nn.unstable_getCurrentPriorityLevel,kh=nn.unstable_ImmediatePriority,Bp=nn.unstable_UserBlockingPriority,Xl=nn.unstable_NormalPriority,Wv=nn.unstable_LowPriority,Wp=nn.unstable_IdlePriority,Sc=null,In=null;function Uv(e){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Sc,e,void 0,(e.current.flags&128)===128)}catch{}}var Nn=Math.clz32?Math.clz32:Vv,Zv=Math.log,Hv=Math.LN2;function Vv(e){return e>>>=0,e===0?32:31-(Zv(e)/Hv|0)|0}var Nl=64,kl=4194304;function Ya(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ec(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,l=e.suspendedLanes,u=e.pingedLanes,f=r&268435455;if(f!==0){var p=f&~l;p!==0?i=Ya(p):(u&=f,u!==0&&(i=Ya(u)))}else f=r&~l,f!==0?i=Ya(f):u!==0&&(i=Ya(u));if(i===0)return 0;if(t!==0&&t!==i&&!(t&l)&&(l=i&-i,u=t&-t,l>=u||l===16&&(u&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-Nn(t),l=1<<r,i|=e[r],t&=~l;return i}function Gv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qv(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,u=e.pendingLanes;0<u;){var f=31-Nn(u),p=1<<f,v=l[f];v===-1?(!(p&r)||p&i)&&(l[f]=Gv(p,t)):v<=t&&(e.expiredLanes|=p),u&=~p}}function Cd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Up(){var e=Nl;return Nl<<=1,!(Nl&4194240)&&(Nl=64),e}function Uu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function jo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nn(t),e[t]=r}function Jv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-Nn(r),u=1<<l;t[l]=0,i[l]=-1,e[l]=-1,r&=~u}}function Sh(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-Nn(r),l=1<<i;l&t|e[i]&t&&(e[i]|=t),r&=~l}}var ze=0;function Zp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hp,Ph,Vp,Gp,qp,Ed=!1,Sl=[],Rr=null,Ar=null,Fr=null,ro=new Map,io=new Map,Tr=[],Kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wf(e,t){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":ro.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(t.pointerId)}}function Da(e,t,r,i,l,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:u,targetContainers:[l]},t!==null&&(t=No(t),t!==null&&Ph(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Qv(e,t,r,i,l){switch(t){case"focusin":return Rr=Da(Rr,e,t,r,i,l),!0;case"dragenter":return Ar=Da(Ar,e,t,r,i,l),!0;case"mouseover":return Fr=Da(Fr,e,t,r,i,l),!0;case"pointerover":var u=l.pointerId;return ro.set(u,Da(ro.get(u)||null,e,t,r,i,l)),!0;case"gotpointercapture":return u=l.pointerId,io.set(u,Da(io.get(u)||null,e,t,r,i,l)),!0}return!1}function Jp(e){var t=Ti(e.target);if(t!==null){var r=Bi(t);if(r!==null){if(t=r.tag,t===13){if(t=Ap(r),t!==null){e.blockedOn=t,qp(e.priority,function(){Vp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $l(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Dd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Pd=i,r.target.dispatchEvent(i),Pd=null}else return t=No(r),t!==null&&Ph(t),e.blockedOn=r,!1;t.shift()}return!0}function Uf(e,t,r){$l(e)&&r.delete(t)}function Xv(){Ed=!1,Rr!==null&&$l(Rr)&&(Rr=null),Ar!==null&&$l(Ar)&&(Ar=null),Fr!==null&&$l(Fr)&&(Fr=null),ro.forEach(Uf),io.forEach(Uf)}function Oa(e,t){e.blockedOn===t&&(e.blockedOn=null,Ed||(Ed=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,Xv)))}function so(e){function t(l){return Oa(l,e)}if(0<Sl.length){Oa(Sl[0],e);for(var r=1;r<Sl.length;r++){var i=Sl[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Rr!==null&&Oa(Rr,e),Ar!==null&&Oa(Ar,e),Fr!==null&&Oa(Fr,e),ro.forEach(t),io.forEach(t),r=0;r<Tr.length;r++)i=Tr[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Tr.length&&(r=Tr[0],r.blockedOn===null);)Jp(r),r.blockedOn===null&&Tr.shift()}var Is=ur.ReactCurrentBatchConfig,tc=!0;function e_(e,t,r,i){var l=ze,u=Is.transition;Is.transition=null;try{ze=1,Mh(e,t,r,i)}finally{ze=l,Is.transition=u}}function t_(e,t,r,i){var l=ze,u=Is.transition;Is.transition=null;try{ze=4,Mh(e,t,r,i)}finally{ze=l,Is.transition=u}}function Mh(e,t,r,i){if(tc){var l=Dd(e,t,r,i);if(l===null)ed(e,t,i,nc,r),Wf(e,i);else if(Qv(l,e,t,r,i))i.stopPropagation();else if(Wf(e,i),t&4&&-1<Kv.indexOf(e)){for(;l!==null;){var u=No(l);if(u!==null&&Hp(u),u=Dd(e,t,r,i),u===null&&ed(e,t,i,nc,r),u===l)break;l=u}l!==null&&i.stopPropagation()}else ed(e,t,i,null,r)}}var nc=null;function Dd(e,t,r,i){if(nc=null,e=Nh(i),e=Ti(e),e!==null)if(t=Bi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ap(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nc=e,null}function Kp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bv()){case kh:return 1;case Bp:return 4;case Xl:case Wv:return 16;case Wp:return 536870912;default:return 16}default:return 16}}var Er=null,Lh=null,Yl=null;function Qp(){if(Yl)return Yl;var e,t=Lh,r=t.length,i,l="value"in Er?Er.value:Er.textContent,u=l.length;for(e=0;e<r&&t[e]===l[e];e++);var f=r-e;for(i=1;i<=f&&t[r-i]===l[u-i];i++);return Yl=l.slice(e,1<i?1-i:void 0)}function Bl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pl(){return!0}function Zf(){return!1}function sn(e){function t(r,i,l,u,f){this._reactName=r,this._targetInst=l,this.type=i,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(r=e[p],this[p]=r?r(u):u[p]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Pl:Zf,this.isPropagationStopped=Zf,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),t}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Th=sn(Vs),bo=Qe({},Vs,{view:0,detail:0}),n_=sn(bo),Zu,Hu,za,Pc=Qe({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ch,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==za&&(za&&e.type==="mousemove"?(Zu=e.screenX-za.screenX,Hu=e.screenY-za.screenY):Hu=Zu=0,za=e),Zu)},movementY:function(e){return"movementY"in e?e.movementY:Hu}}),Hf=sn(Pc),r_=Qe({},Pc,{dataTransfer:0}),i_=sn(r_),s_=Qe({},bo,{relatedTarget:0}),Vu=sn(s_),a_=Qe({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),o_=sn(a_),l_=Qe({},Vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),c_=sn(l_),u_=Qe({},Vs,{data:0}),Vf=sn(u_),d_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=f_[e])?!!t[e]:!1}function Ch(){return m_}var p_=Qe({},bo,{key:function(e){if(e.key){var t=d_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?h_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ch,charCode:function(e){return e.type==="keypress"?Bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),g_=sn(p_),x_=Qe({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=sn(x_),v_=Qe({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ch}),__=sn(v_),y_=Qe({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),w_=sn(y_),j_=Qe({},Pc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),b_=sn(j_),N_=[9,13,27,32],Eh=ar&&"CompositionEvent"in window,Ha=null;ar&&"documentMode"in document&&(Ha=document.documentMode);var k_=ar&&"TextEvent"in window&&!Ha,Xp=ar&&(!Eh||Ha&&8<Ha&&11>=Ha),qf=String.fromCharCode(32),Jf=!1;function e0(e,t){switch(e){case"keyup":return N_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var js=!1;function S_(e,t){switch(e){case"compositionend":return t0(t);case"keypress":return t.which!==32?null:(Jf=!0,qf);case"textInput":return e=t.data,e===qf&&Jf?null:e;default:return null}}function P_(e,t){if(js)return e==="compositionend"||!Eh&&e0(e,t)?(e=Qp(),Yl=Lh=Er=null,js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xp&&t.locale!=="ko"?null:t.data;default:return null}}var M_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M_[e.type]:t==="textarea"}function n0(e,t,r,i){Dp(i),t=rc(t,"onChange"),0<t.length&&(r=new Th("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Va=null,ao=null;function L_(e){f0(e,0)}function Mc(e){var t=ks(e);if(Sp(t))return e}function T_(e,t){if(e==="change")return t}var r0=!1;if(ar){var Gu;if(ar){var qu="oninput"in document;if(!qu){var Qf=document.createElement("div");Qf.setAttribute("oninput","return;"),qu=typeof Qf.oninput=="function"}Gu=qu}else Gu=!1;r0=Gu&&(!document.documentMode||9<document.documentMode)}function Xf(){Va&&(Va.detachEvent("onpropertychange",i0),ao=Va=null)}function i0(e){if(e.propertyName==="value"&&Mc(ao)){var t=[];n0(t,ao,e,Nh(e)),Rp(L_,t)}}function C_(e,t,r){e==="focusin"?(Xf(),Va=t,ao=r,Va.attachEvent("onpropertychange",i0)):e==="focusout"&&Xf()}function E_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mc(ao)}function D_(e,t){if(e==="click")return Mc(t)}function O_(e,t){if(e==="input"||e==="change")return Mc(t)}function z_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sn=typeof Object.is=="function"?Object.is:z_;function oo(e,t){if(Sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var l=r[i];if(!pd.call(t,l)||!Sn(e[l],t[l]))return!1}return!0}function em(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tm(e,t){var r=em(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=em(r)}}function s0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?s0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function a0(){for(var e=window,t=Jl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Jl(e.document)}return t}function Dh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function I_(e){var t=a0(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&s0(r.ownerDocument.documentElement,r)){if(i!==null&&Dh(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,u=Math.min(i.start,l);i=i.end===void 0?u:Math.min(i.end,l),!e.extend&&u>i&&(l=i,i=u,u=l),l=tm(r,u);var f=tm(r,i);l&&f&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),u>i?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var R_=ar&&"documentMode"in document&&11>=document.documentMode,bs=null,Od=null,Ga=null,zd=!1;function nm(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zd||bs==null||bs!==Jl(i)||(i=bs,"selectionStart"in i&&Dh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ga&&oo(Ga,i)||(Ga=i,i=rc(Od,"onSelect"),0<i.length&&(t=new Th("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=bs)))}function Ml(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ns={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},Ju={},o0={};ar&&(o0=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Lc(e){if(Ju[e])return Ju[e];if(!Ns[e])return e;var t=Ns[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in o0)return Ju[e]=t[r];return e}var l0=Lc("animationend"),c0=Lc("animationiteration"),u0=Lc("animationstart"),d0=Lc("transitionend"),h0=new Map,rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(e,t){h0.set(e,t),Yi(t,[e])}for(var Ku=0;Ku<rm.length;Ku++){var Qu=rm[Ku],A_=Qu.toLowerCase(),F_=Qu[0].toUpperCase()+Qu.slice(1);qr(A_,"on"+F_)}qr(l0,"onAnimationEnd");qr(c0,"onAnimationIteration");qr(u0,"onAnimationStart");qr("dblclick","onDoubleClick");qr("focusin","onFocus");qr("focusout","onBlur");qr(d0,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function im(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,Av(i,t,void 0,e),e.currentTarget=null}function f0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],l=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var f=i.length-1;0<=f;f--){var p=i[f],v=p.instance,_=p.currentTarget;if(p=p.listener,v!==u&&l.isPropagationStopped())break e;im(l,p,_),u=v}else for(f=0;f<i.length;f++){if(p=i[f],v=p.instance,_=p.currentTarget,p=p.listener,v!==u&&l.isPropagationStopped())break e;im(l,p,_),u=v}}}if(Ql)throw e=Td,Ql=!1,Td=null,e}function We(e,t){var r=t[$d];r===void 0&&(r=t[$d]=new Set);var i=e+"__bubble";r.has(i)||(m0(t,e,2,!1),r.add(i))}function Xu(e,t,r){var i=0;t&&(i|=4),m0(r,e,i,t)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function lo(e){if(!e[Ll]){e[Ll]=!0,wp.forEach(function(r){r!=="selectionchange"&&($_.has(r)||Xu(r,!1,e),Xu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ll]||(t[Ll]=!0,Xu("selectionchange",!1,t))}}function m0(e,t,r,i){switch(Kp(t)){case 1:var l=e_;break;case 4:l=t_;break;default:l=Mh}r=l.bind(null,t,r,e),l=void 0,!Ld||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function ed(e,t,r,i,l){var u=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var f=i.tag;if(f===3||f===4){var p=i.stateNode.containerInfo;if(p===l||p.nodeType===8&&p.parentNode===l)break;if(f===4)for(f=i.return;f!==null;){var v=f.tag;if((v===3||v===4)&&(v=f.stateNode.containerInfo,v===l||v.nodeType===8&&v.parentNode===l))return;f=f.return}for(;p!==null;){if(f=Ti(p),f===null)return;if(v=f.tag,v===5||v===6){i=u=f;continue e}p=p.parentNode}}i=i.return}Rp(function(){var _=u,C=Nh(r),k=[];e:{var M=h0.get(e);if(M!==void 0){var O=Th,T=e;switch(e){case"keypress":if(Bl(r)===0)break e;case"keydown":case"keyup":O=g_;break;case"focusin":T="focus",O=Vu;break;case"focusout":T="blur",O=Vu;break;case"beforeblur":case"afterblur":O=Vu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=Hf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=i_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=__;break;case l0:case c0:case u0:O=o_;break;case d0:O=w_;break;case"scroll":O=n_;break;case"wheel":O=b_;break;case"copy":case"cut":case"paste":O=c_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Gf}var N=(t&4)!==0,S=!N&&e==="scroll",b=N?M!==null?M+"Capture":null:M;N=[];for(var w=_,P;w!==null;){P=w;var I=P.stateNode;if(P.tag===5&&I!==null&&(P=I,b!==null&&(I=no(w,b),I!=null&&N.push(co(w,I,P)))),S)break;w=w.return}0<N.length&&(M=new O(M,T,null,r,C),k.push({event:M,listeners:N}))}}if(!(t&7)){e:{if(M=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",M&&r!==Pd&&(T=r.relatedTarget||r.fromElement)&&(Ti(T)||T[or]))break e;if((O||M)&&(M=C.window===C?C:(M=C.ownerDocument)?M.defaultView||M.parentWindow:window,O?(T=r.relatedTarget||r.toElement,O=_,T=T?Ti(T):null,T!==null&&(S=Bi(T),T!==S||T.tag!==5&&T.tag!==6)&&(T=null)):(O=null,T=_),O!==T)){if(N=Hf,I="onMouseLeave",b="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(N=Gf,I="onPointerLeave",b="onPointerEnter",w="pointer"),S=O==null?M:ks(O),P=T==null?M:ks(T),M=new N(I,w+"leave",O,r,C),M.target=S,M.relatedTarget=P,I=null,Ti(C)===_&&(N=new N(b,w+"enter",T,r,C),N.target=P,N.relatedTarget=S,I=N),S=I,O&&T)t:{for(N=O,b=T,w=0,P=N;P;P=_s(P))w++;for(P=0,I=b;I;I=_s(I))P++;for(;0<w-P;)N=_s(N),w--;for(;0<P-w;)b=_s(b),P--;for(;w--;){if(N===b||b!==null&&N===b.alternate)break t;N=_s(N),b=_s(b)}N=null}else N=null;O!==null&&sm(k,M,O,N,!1),T!==null&&S!==null&&sm(k,S,T,N,!0)}}e:{if(M=_?ks(_):window,O=M.nodeName&&M.nodeName.toLowerCase(),O==="select"||O==="input"&&M.type==="file")var A=T_;else if(Kf(M))if(r0)A=O_;else{A=E_;var B=C_}else(O=M.nodeName)&&O.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(A=D_);if(A&&(A=A(e,_))){n0(k,A,r,C);break e}B&&B(e,M,_),e==="focusout"&&(B=M._wrapperState)&&B.controlled&&M.type==="number"&&jd(M,"number",M.value)}switch(B=_?ks(_):window,e){case"focusin":(Kf(B)||B.contentEditable==="true")&&(bs=B,Od=_,Ga=null);break;case"focusout":Ga=Od=bs=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":zd=!1,nm(k,r,C);break;case"selectionchange":if(R_)break;case"keydown":case"keyup":nm(k,r,C)}var V;if(Eh)e:{switch(e){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else js?e0(e,r)&&(Q="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Q="onCompositionStart");Q&&(Xp&&r.locale!=="ko"&&(js||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&js&&(V=Qp()):(Er=C,Lh="value"in Er?Er.value:Er.textContent,js=!0)),B=rc(_,Q),0<B.length&&(Q=new Vf(Q,e,null,r,C),k.push({event:Q,listeners:B}),V?Q.data=V:(V=t0(r),V!==null&&(Q.data=V)))),(V=k_?S_(e,r):P_(e,r))&&(_=rc(_,"onBeforeInput"),0<_.length&&(C=new Vf("onBeforeInput","beforeinput",null,r,C),k.push({event:C,listeners:_}),C.data=V))}f0(k,t)})}function co(e,t,r){return{instance:e,listener:t,currentTarget:r}}function rc(e,t){for(var r=t+"Capture",i=[];e!==null;){var l=e,u=l.stateNode;l.tag===5&&u!==null&&(l=u,u=no(e,r),u!=null&&i.unshift(co(e,u,l)),u=no(e,t),u!=null&&i.push(co(e,u,l))),e=e.return}return i}function _s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sm(e,t,r,i,l){for(var u=t._reactName,f=[];r!==null&&r!==i;){var p=r,v=p.alternate,_=p.stateNode;if(v!==null&&v===i)break;p.tag===5&&_!==null&&(p=_,l?(v=no(r,u),v!=null&&f.unshift(co(r,v,p))):l||(v=no(r,u),v!=null&&f.push(co(r,v,p)))),r=r.return}f.length!==0&&e.push({event:t,listeners:f})}var Y_=/\r\n?/g,B_=/\u0000|\uFFFD/g;function am(e){return(typeof e=="string"?e:""+e).replace(Y_,`
`).replace(B_,"")}function Tl(e,t,r){if(t=am(t),am(e)!==t&&r)throw Error(G(425))}function ic(){}var Id=null,Rd=null;function Ad(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fd=typeof setTimeout=="function"?setTimeout:void 0,W_=typeof clearTimeout=="function"?clearTimeout:void 0,om=typeof Promise=="function"?Promise:void 0,U_=typeof queueMicrotask=="function"?queueMicrotask:typeof om<"u"?function(e){return om.resolve(null).then(e).catch(Z_)}:Fd;function Z_(e){setTimeout(function(){throw e})}function td(e,t){var r=t,i=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(i===0){e.removeChild(l),so(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=l}while(r);so(t)}function $r(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),zn="__reactFiber$"+Gs,uo="__reactProps$"+Gs,or="__reactContainer$"+Gs,$d="__reactEvents$"+Gs,H_="__reactListeners$"+Gs,V_="__reactHandles$"+Gs;function Ti(e){var t=e[zn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[or]||r[zn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=lm(e);e!==null;){if(r=e[zn])return r;e=lm(e)}return t}e=r,r=e.parentNode}return null}function No(e){return e=e[zn]||e[or],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ks(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Tc(e){return e[uo]||null}var Yd=[],Ss=-1;function Jr(e){return{current:e}}function Ze(e){0>Ss||(e.current=Yd[Ss],Yd[Ss]=null,Ss--)}function Ye(e,t){Ss++,Yd[Ss]=e.current,e.current=t}var Vr={},kt=Jr(Vr),Wt=Jr(!1),Ii=Vr;function $s(e,t){var r=e.type.contextTypes;if(!r)return Vr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var l={},u;for(u in r)l[u]=t[u];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ut(e){return e=e.childContextTypes,e!=null}function sc(){Ze(Wt),Ze(kt)}function cm(e,t,r){if(kt.current!==Vr)throw Error(G(168));Ye(kt,t),Ye(Wt,r)}function p0(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var l in i)if(!(l in t))throw Error(G(108,Cv(e)||"Unknown",l));return Qe({},r,i)}function ac(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vr,Ii=kt.current,Ye(kt,e),Ye(Wt,Wt.current),!0}function um(e,t,r){var i=e.stateNode;if(!i)throw Error(G(169));r?(e=p0(e,t,Ii),i.__reactInternalMemoizedMergedChildContext=e,Ze(Wt),Ze(kt),Ye(kt,e)):Ze(Wt),Ye(Wt,r)}var tr=null,Cc=!1,nd=!1;function g0(e){tr===null?tr=[e]:tr.push(e)}function G_(e){Cc=!0,g0(e)}function Kr(){if(!nd&&tr!==null){nd=!0;var e=0,t=ze;try{var r=tr;for(ze=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}tr=null,Cc=!1}catch(l){throw tr!==null&&(tr=tr.slice(e+1)),Yp(kh,Kr),l}finally{ze=t,nd=!1}}return null}var Ps=[],Ms=0,oc=null,lc=0,dn=[],hn=0,Ri=null,rr=1,ir="";function Mi(e,t){Ps[Ms++]=lc,Ps[Ms++]=oc,oc=e,lc=t}function x0(e,t,r){dn[hn++]=rr,dn[hn++]=ir,dn[hn++]=Ri,Ri=e;var i=rr;e=ir;var l=32-Nn(i)-1;i&=~(1<<l),r+=1;var u=32-Nn(t)+l;if(30<u){var f=l-l%5;u=(i&(1<<f)-1).toString(32),i>>=f,l-=f,rr=1<<32-Nn(t)+l|r<<l|i,ir=u+e}else rr=1<<u|r<<l|i,ir=e}function Oh(e){e.return!==null&&(Mi(e,1),x0(e,1,0))}function zh(e){for(;e===oc;)oc=Ps[--Ms],Ps[Ms]=null,lc=Ps[--Ms],Ps[Ms]=null;for(;e===Ri;)Ri=dn[--hn],dn[hn]=null,ir=dn[--hn],dn[hn]=null,rr=dn[--hn],dn[hn]=null}var tn=null,en=null,He=!1,bn=null;function v0(e,t){var r=fn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function dm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tn=e,en=$r(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tn=e,en=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ri!==null?{id:rr,overflow:ir}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,tn=e,en=null,!0):!1;default:return!1}}function Bd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wd(e){if(He){var t=en;if(t){var r=t;if(!dm(e,t)){if(Bd(e))throw Error(G(418));t=$r(r.nextSibling);var i=tn;t&&dm(e,t)?v0(i,r):(e.flags=e.flags&-4097|2,He=!1,tn=e)}}else{if(Bd(e))throw Error(G(418));e.flags=e.flags&-4097|2,He=!1,tn=e}}}function hm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tn=e}function Cl(e){if(e!==tn)return!1;if(!He)return hm(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ad(e.type,e.memoizedProps)),t&&(t=en)){if(Bd(e))throw _0(),Error(G(418));for(;t;)v0(e,t),t=$r(t.nextSibling)}if(hm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){en=$r(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}en=null}}else en=tn?$r(e.stateNode.nextSibling):null;return!0}function _0(){for(var e=en;e;)e=$r(e.nextSibling)}function Ys(){en=tn=null,He=!1}function Ih(e){bn===null?bn=[e]:bn.push(e)}var q_=ur.ReactCurrentBatchConfig;function Ia(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var i=r.stateNode}if(!i)throw Error(G(147,e));var l=i,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(f){var p=l.refs;f===null?delete p[u]:p[u]=f},t._stringRef=u,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function El(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fm(e){var t=e._init;return t(e._payload)}function y0(e){function t(b,w){if(e){var P=b.deletions;P===null?(b.deletions=[w],b.flags|=16):P.push(w)}}function r(b,w){if(!e)return null;for(;w!==null;)t(b,w),w=w.sibling;return null}function i(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function l(b,w){return b=Ur(b,w),b.index=0,b.sibling=null,b}function u(b,w,P){return b.index=P,e?(P=b.alternate,P!==null?(P=P.index,P<w?(b.flags|=2,w):P):(b.flags|=2,w)):(b.flags|=1048576,w)}function f(b){return e&&b.alternate===null&&(b.flags|=2),b}function p(b,w,P,I){return w===null||w.tag!==6?(w=cd(P,b.mode,I),w.return=b,w):(w=l(w,P),w.return=b,w)}function v(b,w,P,I){var A=P.type;return A===ws?C(b,w,P.props.children,I,P.key):w!==null&&(w.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Mr&&fm(A)===w.type)?(I=l(w,P.props),I.ref=Ia(b,w,P),I.return=b,I):(I=ql(P.type,P.key,P.props,null,b.mode,I),I.ref=Ia(b,w,P),I.return=b,I)}function _(b,w,P,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==P.containerInfo||w.stateNode.implementation!==P.implementation?(w=ud(P,b.mode,I),w.return=b,w):(w=l(w,P.children||[]),w.return=b,w)}function C(b,w,P,I,A){return w===null||w.tag!==7?(w=Oi(P,b.mode,I,A),w.return=b,w):(w=l(w,P),w.return=b,w)}function k(b,w,P){if(typeof w=="string"&&w!==""||typeof w=="number")return w=cd(""+w,b.mode,P),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wl:return P=ql(w.type,w.key,w.props,null,b.mode,P),P.ref=Ia(b,null,w),P.return=b,P;case ys:return w=ud(w,b.mode,P),w.return=b,w;case Mr:var I=w._init;return k(b,I(w._payload),P)}if($a(w)||Ca(w))return w=Oi(w,b.mode,P,null),w.return=b,w;El(b,w)}return null}function M(b,w,P,I){var A=w!==null?w.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return A!==null?null:p(b,w,""+P,I);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case wl:return P.key===A?v(b,w,P,I):null;case ys:return P.key===A?_(b,w,P,I):null;case Mr:return A=P._init,M(b,w,A(P._payload),I)}if($a(P)||Ca(P))return A!==null?null:C(b,w,P,I,null);El(b,P)}return null}function O(b,w,P,I,A){if(typeof I=="string"&&I!==""||typeof I=="number")return b=b.get(P)||null,p(w,b,""+I,A);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case wl:return b=b.get(I.key===null?P:I.key)||null,v(w,b,I,A);case ys:return b=b.get(I.key===null?P:I.key)||null,_(w,b,I,A);case Mr:var B=I._init;return O(b,w,P,B(I._payload),A)}if($a(I)||Ca(I))return b=b.get(P)||null,C(w,b,I,A,null);El(w,I)}return null}function T(b,w,P,I){for(var A=null,B=null,V=w,Q=w=0,ce=null;V!==null&&Q<P.length;Q++){V.index>Q?(ce=V,V=null):ce=V.sibling;var ne=M(b,V,P[Q],I);if(ne===null){V===null&&(V=ce);break}e&&V&&ne.alternate===null&&t(b,V),w=u(ne,w,Q),B===null?A=ne:B.sibling=ne,B=ne,V=ce}if(Q===P.length)return r(b,V),He&&Mi(b,Q),A;if(V===null){for(;Q<P.length;Q++)V=k(b,P[Q],I),V!==null&&(w=u(V,w,Q),B===null?A=V:B.sibling=V,B=V);return He&&Mi(b,Q),A}for(V=i(b,V);Q<P.length;Q++)ce=O(V,b,Q,P[Q],I),ce!==null&&(e&&ce.alternate!==null&&V.delete(ce.key===null?Q:ce.key),w=u(ce,w,Q),B===null?A=ce:B.sibling=ce,B=ce);return e&&V.forEach(function(ge){return t(b,ge)}),He&&Mi(b,Q),A}function N(b,w,P,I){var A=Ca(P);if(typeof A!="function")throw Error(G(150));if(P=A.call(P),P==null)throw Error(G(151));for(var B=A=null,V=w,Q=w=0,ce=null,ne=P.next();V!==null&&!ne.done;Q++,ne=P.next()){V.index>Q?(ce=V,V=null):ce=V.sibling;var ge=M(b,V,ne.value,I);if(ge===null){V===null&&(V=ce);break}e&&V&&ge.alternate===null&&t(b,V),w=u(ge,w,Q),B===null?A=ge:B.sibling=ge,B=ge,V=ce}if(ne.done)return r(b,V),He&&Mi(b,Q),A;if(V===null){for(;!ne.done;Q++,ne=P.next())ne=k(b,ne.value,I),ne!==null&&(w=u(ne,w,Q),B===null?A=ne:B.sibling=ne,B=ne);return He&&Mi(b,Q),A}for(V=i(b,V);!ne.done;Q++,ne=P.next())ne=O(V,b,Q,ne.value,I),ne!==null&&(e&&ne.alternate!==null&&V.delete(ne.key===null?Q:ne.key),w=u(ne,w,Q),B===null?A=ne:B.sibling=ne,B=ne);return e&&V.forEach(function(X){return t(b,X)}),He&&Mi(b,Q),A}function S(b,w,P,I){if(typeof P=="object"&&P!==null&&P.type===ws&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case wl:e:{for(var A=P.key,B=w;B!==null;){if(B.key===A){if(A=P.type,A===ws){if(B.tag===7){r(b,B.sibling),w=l(B,P.props.children),w.return=b,b=w;break e}}else if(B.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Mr&&fm(A)===B.type){r(b,B.sibling),w=l(B,P.props),w.ref=Ia(b,B,P),w.return=b,b=w;break e}r(b,B);break}else t(b,B);B=B.sibling}P.type===ws?(w=Oi(P.props.children,b.mode,I,P.key),w.return=b,b=w):(I=ql(P.type,P.key,P.props,null,b.mode,I),I.ref=Ia(b,w,P),I.return=b,b=I)}return f(b);case ys:e:{for(B=P.key;w!==null;){if(w.key===B)if(w.tag===4&&w.stateNode.containerInfo===P.containerInfo&&w.stateNode.implementation===P.implementation){r(b,w.sibling),w=l(w,P.children||[]),w.return=b,b=w;break e}else{r(b,w);break}else t(b,w);w=w.sibling}w=ud(P,b.mode,I),w.return=b,b=w}return f(b);case Mr:return B=P._init,S(b,w,B(P._payload),I)}if($a(P))return T(b,w,P,I);if(Ca(P))return N(b,w,P,I);El(b,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,w!==null&&w.tag===6?(r(b,w.sibling),w=l(w,P),w.return=b,b=w):(r(b,w),w=cd(P,b.mode,I),w.return=b,b=w),f(b)):r(b,w)}return S}var Bs=y0(!0),w0=y0(!1),cc=Jr(null),uc=null,Ls=null,Rh=null;function Ah(){Rh=Ls=uc=null}function Fh(e){var t=cc.current;Ze(cc),e._currentValue=t}function Ud(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Rs(e,t){uc=e,Rh=Ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bt=!0),e.firstContext=null)}function gn(e){var t=e._currentValue;if(Rh!==e)if(e={context:e,memoizedValue:t,next:null},Ls===null){if(uc===null)throw Error(G(308));Ls=e,uc.dependencies={lanes:0,firstContext:e}}else Ls=Ls.next=e;return t}var Ci=null;function $h(e){Ci===null?Ci=[e]:Ci.push(e)}function j0(e,t,r,i){var l=t.interleaved;return l===null?(r.next=r,$h(t)):(r.next=l.next,l.next=r),t.interleaved=r,lr(e,i)}function lr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Lr=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yr(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Te&2){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,lr(e,r)}return l=i.interleaved,l===null?(t.next=t,$h(i)):(t.next=l.next,l.next=t),i.interleaved=t,lr(e,r)}function Wl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Sh(e,r)}}function mm(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var l=null,u=null;if(r=r.firstBaseUpdate,r!==null){do{var f={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};u===null?l=u=f:u=u.next=f,r=r.next}while(r!==null);u===null?l=u=t:u=u.next=t}else l=u=t;r={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function dc(e,t,r,i){var l=e.updateQueue;Lr=!1;var u=l.firstBaseUpdate,f=l.lastBaseUpdate,p=l.shared.pending;if(p!==null){l.shared.pending=null;var v=p,_=v.next;v.next=null,f===null?u=_:f.next=_,f=v;var C=e.alternate;C!==null&&(C=C.updateQueue,p=C.lastBaseUpdate,p!==f&&(p===null?C.firstBaseUpdate=_:p.next=_,C.lastBaseUpdate=v))}if(u!==null){var k=l.baseState;f=0,C=_=v=null,p=u;do{var M=p.lane,O=p.eventTime;if((i&M)===M){C!==null&&(C=C.next={eventTime:O,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var T=e,N=p;switch(M=t,O=r,N.tag){case 1:if(T=N.payload,typeof T=="function"){k=T.call(O,k,M);break e}k=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=N.payload,M=typeof T=="function"?T.call(O,k,M):T,M==null)break e;k=Qe({},k,M);break e;case 2:Lr=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,M=l.effects,M===null?l.effects=[p]:M.push(p))}else O={eventTime:O,lane:M,tag:p.tag,payload:p.payload,callback:p.callback,next:null},C===null?(_=C=O,v=k):C=C.next=O,f|=M;if(p=p.next,p===null){if(p=l.shared.pending,p===null)break;M=p,p=M.next,M.next=null,l.lastBaseUpdate=M,l.shared.pending=null}}while(1);if(C===null&&(v=k),l.baseState=v,l.firstBaseUpdate=_,l.lastBaseUpdate=C,t=l.shared.interleaved,t!==null){l=t;do f|=l.lane,l=l.next;while(l!==t)}else u===null&&(l.shared.lanes=0);Fi|=f,e.lanes=f,e.memoizedState=k}}function pm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],l=i.callback;if(l!==null){if(i.callback=null,i=r,typeof l!="function")throw Error(G(191,l));l.call(i)}}}var ko={},Rn=Jr(ko),ho=Jr(ko),fo=Jr(ko);function Ei(e){if(e===ko)throw Error(G(174));return e}function Bh(e,t){switch(Ye(fo,t),Ye(ho,e),Ye(Rn,ko),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nd(t,e)}Ze(Rn),Ye(Rn,t)}function Ws(){Ze(Rn),Ze(ho),Ze(fo)}function N0(e){Ei(fo.current);var t=Ei(Rn.current),r=Nd(t,e.type);t!==r&&(Ye(ho,e),Ye(Rn,r))}function Wh(e){ho.current===e&&(Ze(Rn),Ze(ho))}var qe=Jr(0);function hc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rd=[];function Uh(){for(var e=0;e<rd.length;e++)rd[e]._workInProgressVersionPrimary=null;rd.length=0}var Ul=ur.ReactCurrentDispatcher,id=ur.ReactCurrentBatchConfig,Ai=0,Je=null,lt=null,ut=null,fc=!1,qa=!1,mo=0,J_=0;function jt(){throw Error(G(321))}function Zh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Sn(e[r],t[r]))return!1;return!0}function Hh(e,t,r,i,l,u){if(Ai=u,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ul.current=e===null||e.memoizedState===null?ey:ty,e=r(i,l),qa){u=0;do{if(qa=!1,mo=0,25<=u)throw Error(G(301));u+=1,ut=lt=null,t.updateQueue=null,Ul.current=ny,e=r(i,l)}while(qa)}if(Ul.current=mc,t=lt!==null&&lt.next!==null,Ai=0,ut=lt=Je=null,fc=!1,t)throw Error(G(300));return e}function Vh(){var e=mo!==0;return mo=0,e}function Dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Je.memoizedState=ut=e:ut=ut.next=e,ut}function xn(){if(lt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=ut===null?Je.memoizedState:ut.next;if(t!==null)ut=t,lt=e;else{if(e===null)throw Error(G(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ut===null?Je.memoizedState=ut=e:ut=ut.next=e}return ut}function po(e,t){return typeof t=="function"?t(e):t}function sd(e){var t=xn(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var i=lt,l=i.baseQueue,u=r.pending;if(u!==null){if(l!==null){var f=l.next;l.next=u.next,u.next=f}i.baseQueue=l=u,r.pending=null}if(l!==null){u=l.next,i=i.baseState;var p=f=null,v=null,_=u;do{var C=_.lane;if((Ai&C)===C)v!==null&&(v=v.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),i=_.hasEagerState?_.eagerState:e(i,_.action);else{var k={lane:C,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};v===null?(p=v=k,f=i):v=v.next=k,Je.lanes|=C,Fi|=C}_=_.next}while(_!==null&&_!==u);v===null?f=i:v.next=p,Sn(i,t.memoizedState)||(Bt=!0),t.memoizedState=i,t.baseState=f,t.baseQueue=v,r.lastRenderedState=i}if(e=r.interleaved,e!==null){l=e;do u=l.lane,Je.lanes|=u,Fi|=u,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ad(e){var t=xn(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var i=r.dispatch,l=r.pending,u=t.memoizedState;if(l!==null){r.pending=null;var f=l=l.next;do u=e(u,f.action),f=f.next;while(f!==l);Sn(u,t.memoizedState)||(Bt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),r.lastRenderedState=u}return[u,i]}function k0(){}function S0(e,t){var r=Je,i=xn(),l=t(),u=!Sn(i.memoizedState,l);if(u&&(i.memoizedState=l,Bt=!0),i=i.queue,Gh(L0.bind(null,r,i,e),[e]),i.getSnapshot!==t||u||ut!==null&&ut.memoizedState.tag&1){if(r.flags|=2048,go(9,M0.bind(null,r,i,l,t),void 0,null),dt===null)throw Error(G(349));Ai&30||P0(r,t,l)}return l}function P0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function M0(e,t,r,i){t.value=r,t.getSnapshot=i,T0(t)&&C0(e)}function L0(e,t,r){return r(function(){T0(t)&&C0(e)})}function T0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Sn(e,r)}catch{return!0}}function C0(e){var t=lr(e,1);t!==null&&kn(t,e,1,-1)}function gm(e){var t=Dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:e},t.queue=e,e=e.dispatch=X_.bind(null,Je,e),[t.memoizedState,e]}function go(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function E0(){return xn().memoizedState}function Zl(e,t,r,i){var l=Dn();Je.flags|=e,l.memoizedState=go(1|t,r,void 0,i===void 0?null:i)}function Ec(e,t,r,i){var l=xn();i=i===void 0?null:i;var u=void 0;if(lt!==null){var f=lt.memoizedState;if(u=f.destroy,i!==null&&Zh(i,f.deps)){l.memoizedState=go(t,r,u,i);return}}Je.flags|=e,l.memoizedState=go(1|t,r,u,i)}function xm(e,t){return Zl(8390656,8,e,t)}function Gh(e,t){return Ec(2048,8,e,t)}function D0(e,t){return Ec(4,2,e,t)}function O0(e,t){return Ec(4,4,e,t)}function z0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function I0(e,t,r){return r=r!=null?r.concat([e]):null,Ec(4,4,z0.bind(null,t,e),r)}function qh(){}function R0(e,t){var r=xn();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Zh(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function A0(e,t){var r=xn();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Zh(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function F0(e,t,r){return Ai&21?(Sn(r,t)||(r=Up(),Je.lanes|=r,Fi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bt=!0),e.memoizedState=r)}function K_(e,t){var r=ze;ze=r!==0&&4>r?r:4,e(!0);var i=id.transition;id.transition={};try{e(!1),t()}finally{ze=r,id.transition=i}}function $0(){return xn().memoizedState}function Q_(e,t,r){var i=Wr(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Y0(e))B0(t,r);else if(r=j0(e,t,r,i),r!==null){var l=Lt();kn(r,e,i,l),W0(r,t,i)}}function X_(e,t,r){var i=Wr(e),l={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Y0(e))B0(t,l);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,p=u(f,r);if(l.hasEagerState=!0,l.eagerState=p,Sn(p,f)){var v=t.interleaved;v===null?(l.next=l,$h(t)):(l.next=v.next,v.next=l),t.interleaved=l;return}}catch{}finally{}r=j0(e,t,l,i),r!==null&&(l=Lt(),kn(r,e,i,l),W0(r,t,i))}}function Y0(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function B0(e,t){qa=fc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function W0(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Sh(e,r)}}var mc={readContext:gn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},ey={readContext:gn,useCallback:function(e,t){return Dn().memoizedState=[e,t===void 0?null:t],e},useContext:gn,useEffect:xm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Zl(4194308,4,z0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Zl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zl(4,2,e,t)},useMemo:function(e,t){var r=Dn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Dn();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Q_.bind(null,Je,e),[i.memoizedState,e]},useRef:function(e){var t=Dn();return e={current:e},t.memoizedState=e},useState:gm,useDebugValue:qh,useDeferredValue:function(e){return Dn().memoizedState=e},useTransition:function(){var e=gm(!1),t=e[0];return e=K_.bind(null,e[1]),Dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Je,l=Dn();if(He){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),dt===null)throw Error(G(349));Ai&30||P0(i,t,r)}l.memoizedState=r;var u={value:r,getSnapshot:t};return l.queue=u,xm(L0.bind(null,i,u,e),[e]),i.flags|=2048,go(9,M0.bind(null,i,u,r,t),void 0,null),r},useId:function(){var e=Dn(),t=dt.identifierPrefix;if(He){var r=ir,i=rr;r=(i&~(1<<32-Nn(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=mo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=J_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ty={readContext:gn,useCallback:R0,useContext:gn,useEffect:Gh,useImperativeHandle:I0,useInsertionEffect:D0,useLayoutEffect:O0,useMemo:A0,useReducer:sd,useRef:E0,useState:function(){return sd(po)},useDebugValue:qh,useDeferredValue:function(e){var t=xn();return F0(t,lt.memoizedState,e)},useTransition:function(){var e=sd(po)[0],t=xn().memoizedState;return[e,t]},useMutableSource:k0,useSyncExternalStore:S0,useId:$0,unstable_isNewReconciler:!1},ny={readContext:gn,useCallback:R0,useContext:gn,useEffect:Gh,useImperativeHandle:I0,useInsertionEffect:D0,useLayoutEffect:O0,useMemo:A0,useReducer:ad,useRef:E0,useState:function(){return ad(po)},useDebugValue:qh,useDeferredValue:function(e){var t=xn();return lt===null?t.memoizedState=e:F0(t,lt.memoizedState,e)},useTransition:function(){var e=ad(po)[0],t=xn().memoizedState;return[e,t]},useMutableSource:k0,useSyncExternalStore:S0,useId:$0,unstable_isNewReconciler:!1};function wn(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Zd(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:Qe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Dc={isMounted:function(e){return(e=e._reactInternals)?Bi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=Lt(),l=Wr(e),u=sr(i,l);u.payload=t,r!=null&&(u.callback=r),t=Yr(e,u,l),t!==null&&(kn(t,e,l,i),Wl(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=Lt(),l=Wr(e),u=sr(i,l);u.tag=1,u.payload=t,r!=null&&(u.callback=r),t=Yr(e,u,l),t!==null&&(kn(t,e,l,i),Wl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Lt(),i=Wr(e),l=sr(r,i);l.tag=2,t!=null&&(l.callback=t),t=Yr(e,l,i),t!==null&&(kn(t,e,i,r),Wl(t,e,i))}};function vm(e,t,r,i,l,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,f):t.prototype&&t.prototype.isPureReactComponent?!oo(r,i)||!oo(l,u):!0}function U0(e,t,r){var i=!1,l=Vr,u=t.contextType;return typeof u=="object"&&u!==null?u=gn(u):(l=Ut(t)?Ii:kt.current,i=t.contextTypes,u=(i=i!=null)?$s(e,l):Vr),t=new t(r,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dc,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=u),t}function _m(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&Dc.enqueueReplaceState(t,t.state,null)}function Hd(e,t,r,i){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},Yh(e);var u=t.contextType;typeof u=="object"&&u!==null?l.context=gn(u):(u=Ut(t)?Ii:kt.current,l.context=$s(e,u)),l.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Zd(e,t,u,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Dc.enqueueReplaceState(l,l.state,null),dc(e,r,l,i),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Us(e,t){try{var r="",i=t;do r+=Tv(i),i=i.return;while(i);var l=r}catch(u){l=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:l,digest:null}}function od(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Vd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ry=typeof WeakMap=="function"?WeakMap:Map;function Z0(e,t,r){r=sr(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){gc||(gc=!0,rh=i),Vd(e,t)},r}function H0(e,t,r){r=sr(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var l=t.value;r.payload=function(){return i(l)},r.callback=function(){Vd(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(r.callback=function(){Vd(e,t),typeof i!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),r}function ym(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new ry;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(r)||(l.add(r),e=xy.bind(null,e,t,r),t.then(e,e))}function wm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jm(e,t,r,i,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=sr(-1,1),t.tag=2,Yr(r,t,1))),r.lanes|=1),e)}var iy=ur.ReactCurrentOwner,Bt=!1;function Mt(e,t,r,i){t.child=e===null?w0(t,null,r,i):Bs(t,e.child,r,i)}function bm(e,t,r,i,l){r=r.render;var u=t.ref;return Rs(t,l),i=Hh(e,t,r,i,u,l),r=Vh(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,cr(e,t,l)):(He&&r&&Oh(t),t.flags|=1,Mt(e,t,i,l),t.child)}function Nm(e,t,r,i,l){if(e===null){var u=r.type;return typeof u=="function"&&!rf(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,V0(e,t,u,i,l)):(e=ql(r.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&l)){var f=u.memoizedProps;if(r=r.compare,r=r!==null?r:oo,r(f,i)&&e.ref===t.ref)return cr(e,t,l)}return t.flags|=1,e=Ur(u,i),e.ref=t.ref,e.return=t,t.child=e}function V0(e,t,r,i,l){if(e!==null){var u=e.memoizedProps;if(oo(u,i)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=i=u,(e.lanes&l)!==0)e.flags&131072&&(Bt=!0);else return t.lanes=e.lanes,cr(e,t,l)}return Gd(e,t,r,i,l)}function G0(e,t,r){var i=t.pendingProps,l=i.children,u=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Cs,Qt),Qt|=r;else{if(!(r&1073741824))return e=u!==null?u.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ye(Cs,Qt),Qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=u!==null?u.baseLanes:r,Ye(Cs,Qt),Qt|=i}else u!==null?(i=u.baseLanes|r,t.memoizedState=null):i=r,Ye(Cs,Qt),Qt|=i;return Mt(e,t,l,r),t.child}function q0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Gd(e,t,r,i,l){var u=Ut(r)?Ii:kt.current;return u=$s(t,u),Rs(t,l),r=Hh(e,t,r,i,u,l),i=Vh(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,cr(e,t,l)):(He&&i&&Oh(t),t.flags|=1,Mt(e,t,r,l),t.child)}function km(e,t,r,i,l){if(Ut(r)){var u=!0;ac(t)}else u=!1;if(Rs(t,l),t.stateNode===null)Hl(e,t),U0(t,r,i),Hd(t,r,i,l),i=!0;else if(e===null){var f=t.stateNode,p=t.memoizedProps;f.props=p;var v=f.context,_=r.contextType;typeof _=="object"&&_!==null?_=gn(_):(_=Ut(r)?Ii:kt.current,_=$s(t,_));var C=r.getDerivedStateFromProps,k=typeof C=="function"||typeof f.getSnapshotBeforeUpdate=="function";k||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==i||v!==_)&&_m(t,f,i,_),Lr=!1;var M=t.memoizedState;f.state=M,dc(t,i,f,l),v=t.memoizedState,p!==i||M!==v||Wt.current||Lr?(typeof C=="function"&&(Zd(t,r,C,i),v=t.memoizedState),(p=Lr||vm(t,r,p,i,M,v,_))?(k||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=v),f.props=i,f.state=v,f.context=_,i=p):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{f=t.stateNode,b0(e,t),p=t.memoizedProps,_=t.type===t.elementType?p:wn(t.type,p),f.props=_,k=t.pendingProps,M=f.context,v=r.contextType,typeof v=="object"&&v!==null?v=gn(v):(v=Ut(r)?Ii:kt.current,v=$s(t,v));var O=r.getDerivedStateFromProps;(C=typeof O=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==k||M!==v)&&_m(t,f,i,v),Lr=!1,M=t.memoizedState,f.state=M,dc(t,i,f,l);var T=t.memoizedState;p!==k||M!==T||Wt.current||Lr?(typeof O=="function"&&(Zd(t,r,O,i),T=t.memoizedState),(_=Lr||vm(t,r,_,i,M,T,v)||!1)?(C||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,T,v),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,T,v)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=T),f.props=i,f.state=T,f.context=v,i=_):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),i=!1)}return qd(e,t,r,i,u,l)}function qd(e,t,r,i,l,u){q0(e,t);var f=(t.flags&128)!==0;if(!i&&!f)return l&&um(t,r,!1),cr(e,t,u);i=t.stateNode,iy.current=t;var p=f&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&f?(t.child=Bs(t,e.child,null,u),t.child=Bs(t,null,p,u)):Mt(e,t,p,u),t.memoizedState=i.state,l&&um(t,r,!0),t.child}function J0(e){var t=e.stateNode;t.pendingContext?cm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cm(e,t.context,!1),Bh(e,t.containerInfo)}function Sm(e,t,r,i,l){return Ys(),Ih(l),t.flags|=256,Mt(e,t,r,i),t.child}var Jd={dehydrated:null,treeContext:null,retryLane:0};function Kd(e){return{baseLanes:e,cachePool:null,transitions:null}}function K0(e,t,r){var i=t.pendingProps,l=qe.current,u=!1,f=(t.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(l&2)!==0),p?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Ye(qe,l&1),e===null)return Wd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(f=i.children,e=i.fallback,u?(i=t.mode,u=t.child,f={mode:"hidden",children:f},!(i&1)&&u!==null?(u.childLanes=0,u.pendingProps=f):u=Ic(f,i,0,null),e=Oi(e,i,r,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Kd(r),t.memoizedState=Jd,e):Jh(t,f));if(l=e.memoizedState,l!==null&&(p=l.dehydrated,p!==null))return sy(e,t,f,i,p,l,r);if(u){u=i.fallback,f=t.mode,l=e.child,p=l.sibling;var v={mode:"hidden",children:i.children};return!(f&1)&&t.child!==l?(i=t.child,i.childLanes=0,i.pendingProps=v,t.deletions=null):(i=Ur(l,v),i.subtreeFlags=l.subtreeFlags&14680064),p!==null?u=Ur(p,u):(u=Oi(u,f,r,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,f=e.child.memoizedState,f=f===null?Kd(r):{baseLanes:f.baseLanes|r,cachePool:null,transitions:f.transitions},u.memoizedState=f,u.childLanes=e.childLanes&~r,t.memoizedState=Jd,i}return u=e.child,e=u.sibling,i=Ur(u,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Jh(e,t){return t=Ic({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dl(e,t,r,i){return i!==null&&Ih(i),Bs(t,e.child,null,r),e=Jh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sy(e,t,r,i,l,u,f){if(r)return t.flags&256?(t.flags&=-257,i=od(Error(G(422))),Dl(e,t,f,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=i.fallback,l=t.mode,i=Ic({mode:"visible",children:i.children},l,0,null),u=Oi(u,l,f,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,t.mode&1&&Bs(t,e.child,null,f),t.child.memoizedState=Kd(f),t.memoizedState=Jd,u);if(!(t.mode&1))return Dl(e,t,f,null);if(l.data==="$!"){if(i=l.nextSibling&&l.nextSibling.dataset,i)var p=i.dgst;return i=p,u=Error(G(419)),i=od(u,i,void 0),Dl(e,t,f,i)}if(p=(f&e.childLanes)!==0,Bt||p){if(i=dt,i!==null){switch(f&-f){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(i.suspendedLanes|f)?0:l,l!==0&&l!==u.retryLane&&(u.retryLane=l,lr(e,l),kn(i,e,l,-1))}return nf(),i=od(Error(G(421))),Dl(e,t,f,i)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=vy.bind(null,e),l._reactRetry=t,null):(e=u.treeContext,en=$r(l.nextSibling),tn=t,He=!0,bn=null,e!==null&&(dn[hn++]=rr,dn[hn++]=ir,dn[hn++]=Ri,rr=e.id,ir=e.overflow,Ri=t),t=Jh(t,i.children),t.flags|=4096,t)}function Pm(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ud(e.return,t,r)}function ld(e,t,r,i,l){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:l}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=i,u.tail=r,u.tailMode=l)}function Q0(e,t,r){var i=t.pendingProps,l=i.revealOrder,u=i.tail;if(Mt(e,t,i.children,r),i=qe.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pm(e,r,t);else if(e.tag===19)Pm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Ye(qe,i),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&hc(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),ld(t,!1,l,r,u);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&hc(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}ld(t,!0,r,null,u);break;case"together":ld(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Fi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=Ur(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ur(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ay(e,t,r){switch(t.tag){case 3:J0(t),Ys();break;case 5:N0(t);break;case 1:Ut(t.type)&&ac(t);break;case 4:Bh(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,l=t.memoizedProps.value;Ye(cc,i._currentValue),i._currentValue=l;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Ye(qe,qe.current&1),t.flags|=128,null):r&t.child.childLanes?K0(e,t,r):(Ye(qe,qe.current&1),e=cr(e,t,r),e!==null?e.sibling:null);Ye(qe,qe.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return Q0(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ye(qe,qe.current),i)break;return null;case 22:case 23:return t.lanes=0,G0(e,t,r)}return cr(e,t,r)}var X0,Qd,eg,tg;X0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qd=function(){};eg=function(e,t,r,i){var l=e.memoizedProps;if(l!==i){e=t.stateNode,Ei(Rn.current);var u=null;switch(r){case"input":l=yd(e,l),i=yd(e,i),u=[];break;case"select":l=Qe({},l,{value:void 0}),i=Qe({},i,{value:void 0}),u=[];break;case"textarea":l=bd(e,l),i=bd(e,i),u=[];break;default:typeof l.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=ic)}kd(r,i);var f;r=null;for(_ in l)if(!i.hasOwnProperty(_)&&l.hasOwnProperty(_)&&l[_]!=null)if(_==="style"){var p=l[_];for(f in p)p.hasOwnProperty(f)&&(r||(r={}),r[f]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(eo.hasOwnProperty(_)?u||(u=[]):(u=u||[]).push(_,null));for(_ in i){var v=i[_];if(p=l!=null?l[_]:void 0,i.hasOwnProperty(_)&&v!==p&&(v!=null||p!=null))if(_==="style")if(p){for(f in p)!p.hasOwnProperty(f)||v&&v.hasOwnProperty(f)||(r||(r={}),r[f]="");for(f in v)v.hasOwnProperty(f)&&p[f]!==v[f]&&(r||(r={}),r[f]=v[f])}else r||(u||(u=[]),u.push(_,r)),r=v;else _==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,p=p?p.__html:void 0,v!=null&&p!==v&&(u=u||[]).push(_,v)):_==="children"?typeof v!="string"&&typeof v!="number"||(u=u||[]).push(_,""+v):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(eo.hasOwnProperty(_)?(v!=null&&_==="onScroll"&&We("scroll",e),u||p===v||(u=[])):(u=u||[]).push(_,v))}r&&(u=u||[]).push("style",r);var _=u;(t.updateQueue=_)&&(t.flags|=4)}};tg=function(e,t,r,i){r!==i&&(t.flags|=4)};function Ra(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags&14680064,i|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function oy(e,t,r){var i=t.pendingProps;switch(zh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(t),null;case 1:return Ut(t.type)&&sc(),bt(t),null;case 3:return i=t.stateNode,Ws(),Ze(Wt),Ze(kt),Uh(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Cl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bn!==null&&(ah(bn),bn=null))),Qd(e,t),bt(t),null;case 5:Wh(t);var l=Ei(fo.current);if(r=t.type,e!==null&&t.stateNode!=null)eg(e,t,r,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(G(166));return bt(t),null}if(e=Ei(Rn.current),Cl(t)){i=t.stateNode,r=t.type;var u=t.memoizedProps;switch(i[zn]=t,i[uo]=u,e=(t.mode&1)!==0,r){case"dialog":We("cancel",i),We("close",i);break;case"iframe":case"object":case"embed":We("load",i);break;case"video":case"audio":for(l=0;l<Ba.length;l++)We(Ba[l],i);break;case"source":We("error",i);break;case"img":case"image":case"link":We("error",i),We("load",i);break;case"details":We("toggle",i);break;case"input":If(i,u),We("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!u.multiple},We("invalid",i);break;case"textarea":Af(i,u),We("invalid",i)}kd(r,u),l=null;for(var f in u)if(u.hasOwnProperty(f)){var p=u[f];f==="children"?typeof p=="string"?i.textContent!==p&&(u.suppressHydrationWarning!==!0&&Tl(i.textContent,p,e),l=["children",p]):typeof p=="number"&&i.textContent!==""+p&&(u.suppressHydrationWarning!==!0&&Tl(i.textContent,p,e),l=["children",""+p]):eo.hasOwnProperty(f)&&p!=null&&f==="onScroll"&&We("scroll",i)}switch(r){case"input":jl(i),Rf(i,u,!0);break;case"textarea":jl(i),Ff(i);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(i.onclick=ic)}i=l,t.updateQueue=i,i!==null&&(t.flags|=4)}else{f=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=f.createElement(r,{is:i.is}):(e=f.createElement(r),r==="select"&&(f=e,i.multiple?f.multiple=!0:i.size&&(f.size=i.size))):e=f.createElementNS(e,r),e[zn]=t,e[uo]=i,X0(e,t,!1,!1),t.stateNode=e;e:{switch(f=Sd(r,i),r){case"dialog":We("cancel",e),We("close",e),l=i;break;case"iframe":case"object":case"embed":We("load",e),l=i;break;case"video":case"audio":for(l=0;l<Ba.length;l++)We(Ba[l],e);l=i;break;case"source":We("error",e),l=i;break;case"img":case"image":case"link":We("error",e),We("load",e),l=i;break;case"details":We("toggle",e),l=i;break;case"input":If(e,i),l=yd(e,i),We("invalid",e);break;case"option":l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=Qe({},i,{value:void 0}),We("invalid",e);break;case"textarea":Af(e,i),l=bd(e,i),We("invalid",e);break;default:l=i}kd(r,l),p=l;for(u in p)if(p.hasOwnProperty(u)){var v=p[u];u==="style"?Ep(e,v):u==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&Tp(e,v)):u==="children"?typeof v=="string"?(r!=="textarea"||v!=="")&&to(e,v):typeof v=="number"&&to(e,""+v):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(eo.hasOwnProperty(u)?v!=null&&u==="onScroll"&&We("scroll",e):v!=null&&yh(e,u,v,f))}switch(r){case"input":jl(e),Rf(e,i,!1);break;case"textarea":jl(e),Ff(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Hr(i.value));break;case"select":e.multiple=!!i.multiple,u=i.value,u!=null?Ds(e,!!i.multiple,u,!1):i.defaultValue!=null&&Ds(e,!!i.multiple,i.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ic)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bt(t),null;case 6:if(e&&t.stateNode!=null)tg(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(G(166));if(r=Ei(fo.current),Ei(Rn.current),Cl(t)){if(i=t.stateNode,r=t.memoizedProps,i[zn]=t,(u=i.nodeValue!==r)&&(e=tn,e!==null))switch(e.tag){case 3:Tl(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tl(i.nodeValue,r,(e.mode&1)!==0)}u&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[zn]=t,t.stateNode=i}return bt(t),null;case 13:if(Ze(qe),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&en!==null&&t.mode&1&&!(t.flags&128))_0(),Ys(),t.flags|=98560,u=!1;else if(u=Cl(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(G(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(G(317));u[zn]=t}else Ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;bt(t),u=!1}else bn!==null&&(ah(bn),bn=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||qe.current&1?ct===0&&(ct=3):nf())),t.updateQueue!==null&&(t.flags|=4),bt(t),null);case 4:return Ws(),Qd(e,t),e===null&&lo(t.stateNode.containerInfo),bt(t),null;case 10:return Fh(t.type._context),bt(t),null;case 17:return Ut(t.type)&&sc(),bt(t),null;case 19:if(Ze(qe),u=t.memoizedState,u===null)return bt(t),null;if(i=(t.flags&128)!==0,f=u.rendering,f===null)if(i)Ra(u,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(f=hc(e),f!==null){for(t.flags|=128,Ra(u,!1),i=f.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)u=r,e=i,u.flags&=14680066,f=u.alternate,f===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=f.childLanes,u.lanes=f.lanes,u.child=f.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=f.memoizedProps,u.memoizedState=f.memoizedState,u.updateQueue=f.updateQueue,u.type=f.type,e=f.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ye(qe,qe.current&1|2),t.child}e=e.sibling}u.tail!==null&&nt()>Zs&&(t.flags|=128,i=!0,Ra(u,!1),t.lanes=4194304)}else{if(!i)if(e=hc(f),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ra(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!He)return bt(t),null}else 2*nt()-u.renderingStartTime>Zs&&r!==1073741824&&(t.flags|=128,i=!0,Ra(u,!1),t.lanes=4194304);u.isBackwards?(f.sibling=t.child,t.child=f):(r=u.last,r!==null?r.sibling=f:t.child=f,u.last=f)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=nt(),t.sibling=null,r=qe.current,Ye(qe,i?r&1|2:r&1),t):(bt(t),null);case 22:case 23:return tf(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Qt&1073741824&&(bt(t),t.subtreeFlags&6&&(t.flags|=8192)):bt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function ly(e,t){switch(zh(t),t.tag){case 1:return Ut(t.type)&&sc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ws(),Ze(Wt),Ze(kt),Uh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wh(t),null;case 13:if(Ze(qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ze(qe),null;case 4:return Ws(),null;case 10:return Fh(t.type._context),null;case 22:case 23:return tf(),null;case 24:return null;default:return null}}var Ol=!1,Nt=!1,cy=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ts(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){tt(e,t,i)}else r.current=null}function Xd(e,t,r){try{r()}catch(i){tt(e,t,i)}}var Mm=!1;function uy(e,t){if(Id=tc,e=a0(),Dh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var l=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{r.nodeType,u.nodeType}catch{r=null;break e}var f=0,p=-1,v=-1,_=0,C=0,k=e,M=null;t:for(;;){for(var O;k!==r||l!==0&&k.nodeType!==3||(p=f+l),k!==u||i!==0&&k.nodeType!==3||(v=f+i),k.nodeType===3&&(f+=k.nodeValue.length),(O=k.firstChild)!==null;)M=k,k=O;for(;;){if(k===e)break t;if(M===r&&++_===l&&(p=f),M===u&&++C===i&&(v=f),(O=k.nextSibling)!==null)break;k=M,M=k.parentNode}k=O}r=p===-1||v===-1?null:{start:p,end:v}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rd={focusedElem:e,selectionRange:r},tc=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var T=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var N=T.memoizedProps,S=T.memoizedState,b=t.stateNode,w=b.getSnapshotBeforeUpdate(t.elementType===t.type?N:wn(t.type,N),S);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(I){tt(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return T=Mm,Mm=!1,T}function Ja(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&e)===e){var u=l.destroy;l.destroy=void 0,u!==void 0&&Xd(t,r,u)}l=l.next}while(l!==i)}}function Oc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function eh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ng(e){var t=e.alternate;t!==null&&(e.alternate=null,ng(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zn],delete t[uo],delete t[$d],delete t[H_],delete t[V_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rg(e){return e.tag===5||e.tag===3||e.tag===4}function Lm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function th(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ic));else if(i!==4&&(e=e.child,e!==null))for(th(e,t,r),e=e.sibling;e!==null;)th(e,t,r),e=e.sibling}function nh(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(nh(e,t,r),e=e.sibling;e!==null;)nh(e,t,r),e=e.sibling}var gt=null,jn=!1;function Pr(e,t,r){for(r=r.child;r!==null;)ig(e,t,r),r=r.sibling}function ig(e,t,r){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Sc,r)}catch{}switch(r.tag){case 5:Nt||Ts(r,t);case 6:var i=gt,l=jn;gt=null,Pr(e,t,r),gt=i,jn=l,gt!==null&&(jn?(e=gt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):gt.removeChild(r.stateNode));break;case 18:gt!==null&&(jn?(e=gt,r=r.stateNode,e.nodeType===8?td(e.parentNode,r):e.nodeType===1&&td(e,r),so(e)):td(gt,r.stateNode));break;case 4:i=gt,l=jn,gt=r.stateNode.containerInfo,jn=!0,Pr(e,t,r),gt=i,jn=l;break;case 0:case 11:case 14:case 15:if(!Nt&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){l=i=i.next;do{var u=l,f=u.destroy;u=u.tag,f!==void 0&&(u&2||u&4)&&Xd(r,t,f),l=l.next}while(l!==i)}Pr(e,t,r);break;case 1:if(!Nt&&(Ts(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(p){tt(r,t,p)}Pr(e,t,r);break;case 21:Pr(e,t,r);break;case 22:r.mode&1?(Nt=(i=Nt)||r.memoizedState!==null,Pr(e,t,r),Nt=i):Pr(e,t,r);break;default:Pr(e,t,r)}}function Tm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new cy),t.forEach(function(i){var l=_y.bind(null,e,i);r.has(i)||(r.add(i),i.then(l,l))})}}function yn(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var l=r[i];try{var u=e,f=t,p=f;e:for(;p!==null;){switch(p.tag){case 5:gt=p.stateNode,jn=!1;break e;case 3:gt=p.stateNode.containerInfo,jn=!0;break e;case 4:gt=p.stateNode.containerInfo,jn=!0;break e}p=p.return}if(gt===null)throw Error(G(160));ig(u,f,l),gt=null,jn=!1;var v=l.alternate;v!==null&&(v.return=null),l.return=null}catch(_){tt(l,t,_)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sg(t,e),t=t.sibling}function sg(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yn(t,e),En(e),i&4){try{Ja(3,e,e.return),Oc(3,e)}catch(N){tt(e,e.return,N)}try{Ja(5,e,e.return)}catch(N){tt(e,e.return,N)}}break;case 1:yn(t,e),En(e),i&512&&r!==null&&Ts(r,r.return);break;case 5:if(yn(t,e),En(e),i&512&&r!==null&&Ts(r,r.return),e.flags&32){var l=e.stateNode;try{to(l,"")}catch(N){tt(e,e.return,N)}}if(i&4&&(l=e.stateNode,l!=null)){var u=e.memoizedProps,f=r!==null?r.memoizedProps:u,p=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{p==="input"&&u.type==="radio"&&u.name!=null&&Pp(l,u),Sd(p,f);var _=Sd(p,u);for(f=0;f<v.length;f+=2){var C=v[f],k=v[f+1];C==="style"?Ep(l,k):C==="dangerouslySetInnerHTML"?Tp(l,k):C==="children"?to(l,k):yh(l,C,k,_)}switch(p){case"input":wd(l,u);break;case"textarea":Mp(l,u);break;case"select":var M=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!u.multiple;var O=u.value;O!=null?Ds(l,!!u.multiple,O,!1):M!==!!u.multiple&&(u.defaultValue!=null?Ds(l,!!u.multiple,u.defaultValue,!0):Ds(l,!!u.multiple,u.multiple?[]:"",!1))}l[uo]=u}catch(N){tt(e,e.return,N)}}break;case 6:if(yn(t,e),En(e),i&4){if(e.stateNode===null)throw Error(G(162));l=e.stateNode,u=e.memoizedProps;try{l.nodeValue=u}catch(N){tt(e,e.return,N)}}break;case 3:if(yn(t,e),En(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{so(t.containerInfo)}catch(N){tt(e,e.return,N)}break;case 4:yn(t,e),En(e);break;case 13:yn(t,e),En(e),l=e.child,l.flags&8192&&(u=l.memoizedState!==null,l.stateNode.isHidden=u,!u||l.alternate!==null&&l.alternate.memoizedState!==null||(Xh=nt())),i&4&&Tm(e);break;case 22:if(C=r!==null&&r.memoizedState!==null,e.mode&1?(Nt=(_=Nt)||C,yn(t,e),Nt=_):yn(t,e),En(e),i&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!C&&e.mode&1)for(se=e,C=e.child;C!==null;){for(k=se=C;se!==null;){switch(M=se,O=M.child,M.tag){case 0:case 11:case 14:case 15:Ja(4,M,M.return);break;case 1:Ts(M,M.return);var T=M.stateNode;if(typeof T.componentWillUnmount=="function"){i=M,r=M.return;try{t=i,T.props=t.memoizedProps,T.state=t.memoizedState,T.componentWillUnmount()}catch(N){tt(i,r,N)}}break;case 5:Ts(M,M.return);break;case 22:if(M.memoizedState!==null){Em(k);continue}}O!==null?(O.return=M,se=O):Em(k)}C=C.sibling}e:for(C=null,k=e;;){if(k.tag===5){if(C===null){C=k;try{l=k.stateNode,_?(u=l.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(p=k.stateNode,v=k.memoizedProps.style,f=v!=null&&v.hasOwnProperty("display")?v.display:null,p.style.display=Cp("display",f))}catch(N){tt(e,e.return,N)}}}else if(k.tag===6){if(C===null)try{k.stateNode.nodeValue=_?"":k.memoizedProps}catch(N){tt(e,e.return,N)}}else if((k.tag!==22&&k.tag!==23||k.memoizedState===null||k===e)&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===e)break e;for(;k.sibling===null;){if(k.return===null||k.return===e)break e;C===k&&(C=null),k=k.return}C===k&&(C=null),k.sibling.return=k.return,k=k.sibling}}break;case 19:yn(t,e),En(e),i&4&&Tm(e);break;case 21:break;default:yn(t,e),En(e)}}function En(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(rg(r)){var i=r;break e}r=r.return}throw Error(G(160))}switch(i.tag){case 5:var l=i.stateNode;i.flags&32&&(to(l,""),i.flags&=-33);var u=Lm(e);nh(e,u,l);break;case 3:case 4:var f=i.stateNode.containerInfo,p=Lm(e);th(e,p,f);break;default:throw Error(G(161))}}catch(v){tt(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dy(e,t,r){se=e,ag(e)}function ag(e,t,r){for(var i=(e.mode&1)!==0;se!==null;){var l=se,u=l.child;if(l.tag===22&&i){var f=l.memoizedState!==null||Ol;if(!f){var p=l.alternate,v=p!==null&&p.memoizedState!==null||Nt;p=Ol;var _=Nt;if(Ol=f,(Nt=v)&&!_)for(se=l;se!==null;)f=se,v=f.child,f.tag===22&&f.memoizedState!==null?Dm(l):v!==null?(v.return=f,se=v):Dm(l);for(;u!==null;)se=u,ag(u),u=u.sibling;se=l,Ol=p,Nt=_}Cm(e)}else l.subtreeFlags&8772&&u!==null?(u.return=l,se=u):Cm(e)}}function Cm(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nt||Oc(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Nt)if(r===null)i.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:wn(t.type,r.memoizedProps);i.componentDidUpdate(l,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&pm(t,u,i);break;case 3:var f=t.updateQueue;if(f!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}pm(t,f,r)}break;case 5:var p=t.stateNode;if(r===null&&t.flags&4){r=p;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&r.focus();break;case"img":v.src&&(r.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var _=t.alternate;if(_!==null){var C=_.memoizedState;if(C!==null){var k=C.dehydrated;k!==null&&so(k)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Nt||t.flags&512&&eh(t)}catch(M){tt(t,t.return,M)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function Em(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function Dm(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Oc(4,t)}catch(v){tt(t,r,v)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var l=t.return;try{i.componentDidMount()}catch(v){tt(t,l,v)}}var u=t.return;try{eh(t)}catch(v){tt(t,u,v)}break;case 5:var f=t.return;try{eh(t)}catch(v){tt(t,f,v)}}}catch(v){tt(t,t.return,v)}if(t===e){se=null;break}var p=t.sibling;if(p!==null){p.return=t.return,se=p;break}se=t.return}}var hy=Math.ceil,pc=ur.ReactCurrentDispatcher,Kh=ur.ReactCurrentOwner,pn=ur.ReactCurrentBatchConfig,Te=0,dt=null,st=null,xt=0,Qt=0,Cs=Jr(0),ct=0,xo=null,Fi=0,zc=0,Qh=0,Ka=null,Yt=null,Xh=0,Zs=1/0,er=null,gc=!1,rh=null,Br=null,zl=!1,Dr=null,xc=0,Qa=0,ih=null,Vl=-1,Gl=0;function Lt(){return Te&6?nt():Vl!==-1?Vl:Vl=nt()}function Wr(e){return e.mode&1?Te&2&&xt!==0?xt&-xt:q_.transition!==null?(Gl===0&&(Gl=Up()),Gl):(e=ze,e!==0||(e=window.event,e=e===void 0?16:Kp(e.type)),e):1}function kn(e,t,r,i){if(50<Qa)throw Qa=0,ih=null,Error(G(185));jo(e,r,i),(!(Te&2)||e!==dt)&&(e===dt&&(!(Te&2)&&(zc|=r),ct===4&&Cr(e,xt)),Zt(e,i),r===1&&Te===0&&!(t.mode&1)&&(Zs=nt()+500,Cc&&Kr()))}function Zt(e,t){var r=e.callbackNode;qv(e,t);var i=ec(e,e===dt?xt:0);if(i===0)r!==null&&Bf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Bf(r),t===1)e.tag===0?G_(Om.bind(null,e)):g0(Om.bind(null,e)),U_(function(){!(Te&6)&&Kr()}),r=null;else{switch(Zp(i)){case 1:r=kh;break;case 4:r=Bp;break;case 16:r=Xl;break;case 536870912:r=Wp;break;default:r=Xl}r=mg(r,og.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function og(e,t){if(Vl=-1,Gl=0,Te&6)throw Error(G(327));var r=e.callbackNode;if(As()&&e.callbackNode!==r)return null;var i=ec(e,e===dt?xt:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=vc(e,i);else{t=i;var l=Te;Te|=2;var u=cg();(dt!==e||xt!==t)&&(er=null,Zs=nt()+500,Di(e,t));do try{py();break}catch(p){lg(e,p)}while(1);Ah(),pc.current=u,Te=l,st!==null?t=0:(dt=null,xt=0,t=ct)}if(t!==0){if(t===2&&(l=Cd(e),l!==0&&(i=l,t=sh(e,l))),t===1)throw r=xo,Di(e,0),Cr(e,i),Zt(e,nt()),r;if(t===6)Cr(e,i);else{if(l=e.current.alternate,!(i&30)&&!fy(l)&&(t=vc(e,i),t===2&&(u=Cd(e),u!==0&&(i=u,t=sh(e,u))),t===1))throw r=xo,Di(e,0),Cr(e,i),Zt(e,nt()),r;switch(e.finishedWork=l,e.finishedLanes=i,t){case 0:case 1:throw Error(G(345));case 2:Li(e,Yt,er);break;case 3:if(Cr(e,i),(i&130023424)===i&&(t=Xh+500-nt(),10<t)){if(ec(e,0)!==0)break;if(l=e.suspendedLanes,(l&i)!==i){Lt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Fd(Li.bind(null,e,Yt,er),t);break}Li(e,Yt,er);break;case 4:if(Cr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,l=-1;0<i;){var f=31-Nn(i);u=1<<f,f=t[f],f>l&&(l=f),i&=~u}if(i=l,i=nt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*hy(i/1960))-i,10<i){e.timeoutHandle=Fd(Li.bind(null,e,Yt,er),i);break}Li(e,Yt,er);break;case 5:Li(e,Yt,er);break;default:throw Error(G(329))}}}return Zt(e,nt()),e.callbackNode===r?og.bind(null,e):null}function sh(e,t){var r=Ka;return e.current.memoizedState.isDehydrated&&(Di(e,t).flags|=256),e=vc(e,t),e!==2&&(t=Yt,Yt=r,t!==null&&ah(t)),e}function ah(e){Yt===null?Yt=e:Yt.push.apply(Yt,e)}function fy(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var l=r[i],u=l.getSnapshot;l=l.value;try{if(!Sn(u(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cr(e,t){for(t&=~Qh,t&=~zc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Nn(t),i=1<<r;e[r]=-1,t&=~i}}function Om(e){if(Te&6)throw Error(G(327));As();var t=ec(e,0);if(!(t&1))return Zt(e,nt()),null;var r=vc(e,t);if(e.tag!==0&&r===2){var i=Cd(e);i!==0&&(t=i,r=sh(e,i))}if(r===1)throw r=xo,Di(e,0),Cr(e,t),Zt(e,nt()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Li(e,Yt,er),Zt(e,nt()),null}function ef(e,t){var r=Te;Te|=1;try{return e(t)}finally{Te=r,Te===0&&(Zs=nt()+500,Cc&&Kr())}}function $i(e){Dr!==null&&Dr.tag===0&&!(Te&6)&&As();var t=Te;Te|=1;var r=pn.transition,i=ze;try{if(pn.transition=null,ze=1,e)return e()}finally{ze=i,pn.transition=r,Te=t,!(Te&6)&&Kr()}}function tf(){Qt=Cs.current,Ze(Cs)}function Di(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,W_(r)),st!==null)for(r=st.return;r!==null;){var i=r;switch(zh(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&sc();break;case 3:Ws(),Ze(Wt),Ze(kt),Uh();break;case 5:Wh(i);break;case 4:Ws();break;case 13:Ze(qe);break;case 19:Ze(qe);break;case 10:Fh(i.type._context);break;case 22:case 23:tf()}r=r.return}if(dt=e,st=e=Ur(e.current,null),xt=Qt=t,ct=0,xo=null,Qh=zc=Fi=0,Yt=Ka=null,Ci!==null){for(t=0;t<Ci.length;t++)if(r=Ci[t],i=r.interleaved,i!==null){r.interleaved=null;var l=i.next,u=r.pending;if(u!==null){var f=u.next;u.next=l,i.next=f}r.pending=i}Ci=null}return e}function lg(e,t){do{var r=st;try{if(Ah(),Ul.current=mc,fc){for(var i=Je.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}fc=!1}if(Ai=0,ut=lt=Je=null,qa=!1,mo=0,Kh.current=null,r===null||r.return===null){ct=1,xo=t,st=null;break}e:{var u=e,f=r.return,p=r,v=t;if(t=xt,p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var _=v,C=p,k=C.tag;if(!(C.mode&1)&&(k===0||k===11||k===15)){var M=C.alternate;M?(C.updateQueue=M.updateQueue,C.memoizedState=M.memoizedState,C.lanes=M.lanes):(C.updateQueue=null,C.memoizedState=null)}var O=wm(f);if(O!==null){O.flags&=-257,jm(O,f,p,u,t),O.mode&1&&ym(u,_,t),t=O,v=_;var T=t.updateQueue;if(T===null){var N=new Set;N.add(v),t.updateQueue=N}else T.add(v);break e}else{if(!(t&1)){ym(u,_,t),nf();break e}v=Error(G(426))}}else if(He&&p.mode&1){var S=wm(f);if(S!==null){!(S.flags&65536)&&(S.flags|=256),jm(S,f,p,u,t),Ih(Us(v,p));break e}}u=v=Us(v,p),ct!==4&&(ct=2),Ka===null?Ka=[u]:Ka.push(u),u=f;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var b=Z0(u,v,t);mm(u,b);break e;case 1:p=v;var w=u.type,P=u.stateNode;if(!(u.flags&128)&&(typeof w.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Br===null||!Br.has(P)))){u.flags|=65536,t&=-t,u.lanes|=t;var I=H0(u,p,t);mm(u,I);break e}}u=u.return}while(u!==null)}dg(r)}catch(A){t=A,st===r&&r!==null&&(st=r=r.return);continue}break}while(1)}function cg(){var e=pc.current;return pc.current=mc,e===null?mc:e}function nf(){(ct===0||ct===3||ct===2)&&(ct=4),dt===null||!(Fi&268435455)&&!(zc&268435455)||Cr(dt,xt)}function vc(e,t){var r=Te;Te|=2;var i=cg();(dt!==e||xt!==t)&&(er=null,Di(e,t));do try{my();break}catch(l){lg(e,l)}while(1);if(Ah(),Te=r,pc.current=i,st!==null)throw Error(G(261));return dt=null,xt=0,ct}function my(){for(;st!==null;)ug(st)}function py(){for(;st!==null&&!$v();)ug(st)}function ug(e){var t=fg(e.alternate,e,Qt);e.memoizedProps=e.pendingProps,t===null?dg(e):st=t,Kh.current=null}function dg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ly(r,t),r!==null){r.flags&=32767,st=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,st=null;return}}else if(r=oy(r,t,Qt),r!==null){st=r;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);ct===0&&(ct=5)}function Li(e,t,r){var i=ze,l=pn.transition;try{pn.transition=null,ze=1,gy(e,t,r,i)}finally{pn.transition=l,ze=i}return null}function gy(e,t,r,i){do As();while(Dr!==null);if(Te&6)throw Error(G(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var u=r.lanes|r.childLanes;if(Jv(e,u),e===dt&&(st=dt=null,xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zl||(zl=!0,mg(Xl,function(){return As(),null})),u=(r.flags&15990)!==0,r.subtreeFlags&15990||u){u=pn.transition,pn.transition=null;var f=ze;ze=1;var p=Te;Te|=4,Kh.current=null,uy(e,r),sg(r,e),I_(Rd),tc=!!Id,Rd=Id=null,e.current=r,dy(r),Yv(),Te=p,ze=f,pn.transition=u}else e.current=r;if(zl&&(zl=!1,Dr=e,xc=l),u=e.pendingLanes,u===0&&(Br=null),Uv(r.stateNode),Zt(e,nt()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],i(l.value,{componentStack:l.stack,digest:l.digest});if(gc)throw gc=!1,e=rh,rh=null,e;return xc&1&&e.tag!==0&&As(),u=e.pendingLanes,u&1?e===ih?Qa++:(Qa=0,ih=e):Qa=0,Kr(),null}function As(){if(Dr!==null){var e=Zp(xc),t=pn.transition,r=ze;try{if(pn.transition=null,ze=16>e?16:e,Dr===null)var i=!1;else{if(e=Dr,Dr=null,xc=0,Te&6)throw Error(G(331));var l=Te;for(Te|=4,se=e.current;se!==null;){var u=se,f=u.child;if(se.flags&16){var p=u.deletions;if(p!==null){for(var v=0;v<p.length;v++){var _=p[v];for(se=_;se!==null;){var C=se;switch(C.tag){case 0:case 11:case 15:Ja(8,C,u)}var k=C.child;if(k!==null)k.return=C,se=k;else for(;se!==null;){C=se;var M=C.sibling,O=C.return;if(ng(C),C===_){se=null;break}if(M!==null){M.return=O,se=M;break}se=O}}}var T=u.alternate;if(T!==null){var N=T.child;if(N!==null){T.child=null;do{var S=N.sibling;N.sibling=null,N=S}while(N!==null)}}se=u}}if(u.subtreeFlags&2064&&f!==null)f.return=u,se=f;else e:for(;se!==null;){if(u=se,u.flags&2048)switch(u.tag){case 0:case 11:case 15:Ja(9,u,u.return)}var b=u.sibling;if(b!==null){b.return=u.return,se=b;break e}se=u.return}}var w=e.current;for(se=w;se!==null;){f=se;var P=f.child;if(f.subtreeFlags&2064&&P!==null)P.return=f,se=P;else e:for(f=w;se!==null;){if(p=se,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:Oc(9,p)}}catch(A){tt(p,p.return,A)}if(p===f){se=null;break e}var I=p.sibling;if(I!==null){I.return=p.return,se=I;break e}se=p.return}}if(Te=l,Kr(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Sc,e)}catch{}i=!0}return i}finally{ze=r,pn.transition=t}}return!1}function zm(e,t,r){t=Us(r,t),t=Z0(e,t,1),e=Yr(e,t,1),t=Lt(),e!==null&&(jo(e,1,t),Zt(e,t))}function tt(e,t,r){if(e.tag===3)zm(e,e,r);else for(;t!==null;){if(t.tag===3){zm(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Br===null||!Br.has(i))){e=Us(r,e),e=H0(t,e,1),t=Yr(t,e,1),e=Lt(),t!==null&&(jo(t,1,e),Zt(t,e));break}}t=t.return}}function xy(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&r,dt===e&&(xt&r)===r&&(ct===4||ct===3&&(xt&130023424)===xt&&500>nt()-Xh?Di(e,0):Qh|=r),Zt(e,t)}function hg(e,t){t===0&&(e.mode&1?(t=kl,kl<<=1,!(kl&130023424)&&(kl=4194304)):t=1);var r=Lt();e=lr(e,t),e!==null&&(jo(e,t,r),Zt(e,r))}function vy(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),hg(e,r)}function _y(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(G(314))}i!==null&&i.delete(t),hg(e,r)}var fg;fg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wt.current)Bt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Bt=!1,ay(e,t,r);Bt=!!(e.flags&131072)}else Bt=!1,He&&t.flags&1048576&&x0(t,lc,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Hl(e,t),e=t.pendingProps;var l=$s(t,kt.current);Rs(t,r),l=Hh(null,t,i,e,l,r);var u=Vh();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(i)?(u=!0,ac(t)):u=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Yh(t),l.updater=Dc,t.stateNode=l,l._reactInternals=t,Hd(t,i,e,r),t=qd(null,t,i,!0,u,r)):(t.tag=0,He&&u&&Oh(t),Mt(null,t,l,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Hl(e,t),e=t.pendingProps,l=i._init,i=l(i._payload),t.type=i,l=t.tag=wy(i),e=wn(i,e),l){case 0:t=Gd(null,t,i,e,r);break e;case 1:t=km(null,t,i,e,r);break e;case 11:t=bm(null,t,i,e,r);break e;case 14:t=Nm(null,t,i,wn(i.type,e),r);break e}throw Error(G(306,i,""))}return t;case 0:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:wn(i,l),Gd(e,t,i,l,r);case 1:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:wn(i,l),km(e,t,i,l,r);case 3:e:{if(J0(t),e===null)throw Error(G(387));i=t.pendingProps,u=t.memoizedState,l=u.element,b0(e,t),dc(t,i,null,r);var f=t.memoizedState;if(i=f.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){l=Us(Error(G(423)),t),t=Sm(e,t,i,r,l);break e}else if(i!==l){l=Us(Error(G(424)),t),t=Sm(e,t,i,r,l);break e}else for(en=$r(t.stateNode.containerInfo.firstChild),tn=t,He=!0,bn=null,r=w0(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ys(),i===l){t=cr(e,t,r);break e}Mt(e,t,i,r)}t=t.child}return t;case 5:return N0(t),e===null&&Wd(t),i=t.type,l=t.pendingProps,u=e!==null?e.memoizedProps:null,f=l.children,Ad(i,l)?f=null:u!==null&&Ad(i,u)&&(t.flags|=32),q0(e,t),Mt(e,t,f,r),t.child;case 6:return e===null&&Wd(t),null;case 13:return K0(e,t,r);case 4:return Bh(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Bs(t,null,i,r):Mt(e,t,i,r),t.child;case 11:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:wn(i,l),bm(e,t,i,l,r);case 7:return Mt(e,t,t.pendingProps,r),t.child;case 8:return Mt(e,t,t.pendingProps.children,r),t.child;case 12:return Mt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,l=t.pendingProps,u=t.memoizedProps,f=l.value,Ye(cc,i._currentValue),i._currentValue=f,u!==null)if(Sn(u.value,f)){if(u.children===l.children&&!Wt.current){t=cr(e,t,r);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var p=u.dependencies;if(p!==null){f=u.child;for(var v=p.firstContext;v!==null;){if(v.context===i){if(u.tag===1){v=sr(-1,r&-r),v.tag=2;var _=u.updateQueue;if(_!==null){_=_.shared;var C=_.pending;C===null?v.next=v:(v.next=C.next,C.next=v),_.pending=v}}u.lanes|=r,v=u.alternate,v!==null&&(v.lanes|=r),Ud(u.return,r,t),p.lanes|=r;break}v=v.next}}else if(u.tag===10)f=u.type===t.type?null:u.child;else if(u.tag===18){if(f=u.return,f===null)throw Error(G(341));f.lanes|=r,p=f.alternate,p!==null&&(p.lanes|=r),Ud(f,r,t),f=u.sibling}else f=u.child;if(f!==null)f.return=u;else for(f=u;f!==null;){if(f===t){f=null;break}if(u=f.sibling,u!==null){u.return=f.return,f=u;break}f=f.return}u=f}Mt(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,i=t.pendingProps.children,Rs(t,r),l=gn(l),i=i(l),t.flags|=1,Mt(e,t,i,r),t.child;case 14:return i=t.type,l=wn(i,t.pendingProps),l=wn(i.type,l),Nm(e,t,i,l,r);case 15:return V0(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:wn(i,l),Hl(e,t),t.tag=1,Ut(i)?(e=!0,ac(t)):e=!1,Rs(t,r),U0(t,i,l),Hd(t,i,l,r),qd(null,t,i,!0,e,r);case 19:return Q0(e,t,r);case 22:return G0(e,t,r)}throw Error(G(156,t.tag))};function mg(e,t){return Yp(e,t)}function yy(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,r,i){return new yy(e,t,r,i)}function rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wy(e){if(typeof e=="function")return rf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jh)return 11;if(e===bh)return 14}return 2}function Ur(e,t){var r=e.alternate;return r===null?(r=fn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ql(e,t,r,i,l,u){var f=2;if(i=e,typeof e=="function")rf(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case ws:return Oi(r.children,l,u,t);case wh:f=8,l|=8;break;case gd:return e=fn(12,r,t,l|2),e.elementType=gd,e.lanes=u,e;case xd:return e=fn(13,r,t,l),e.elementType=xd,e.lanes=u,e;case vd:return e=fn(19,r,t,l),e.elementType=vd,e.lanes=u,e;case Np:return Ic(r,l,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jp:f=10;break e;case bp:f=9;break e;case jh:f=11;break e;case bh:f=14;break e;case Mr:f=16,i=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=fn(f,r,t,l),t.elementType=e,t.type=i,t.lanes=u,t}function Oi(e,t,r,i){return e=fn(7,e,i,t),e.lanes=r,e}function Ic(e,t,r,i){return e=fn(22,e,i,t),e.elementType=Np,e.lanes=r,e.stateNode={isHidden:!1},e}function cd(e,t,r){return e=fn(6,e,null,t),e.lanes=r,e}function ud(e,t,r){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jy(e,t,r,i,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uu(0),this.expirationTimes=Uu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uu(0),this.identifierPrefix=i,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function sf(e,t,r,i,l,u,f,p,v){return e=new jy(e,t,r,p,v),t===1?(t=1,u===!0&&(t|=8)):t=0,u=fn(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yh(u),e}function by(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function pg(e){if(!e)return Vr;e=e._reactInternals;e:{if(Bi(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(Ut(r))return p0(e,r,t)}return t}function gg(e,t,r,i,l,u,f,p,v){return e=sf(r,i,!0,e,l,u,f,p,v),e.context=pg(null),r=e.current,i=Lt(),l=Wr(r),u=sr(i,l),u.callback=t??null,Yr(r,u,l),e.current.lanes=l,jo(e,l,i),Zt(e,i),e}function Rc(e,t,r,i){var l=t.current,u=Lt(),f=Wr(l);return r=pg(r),t.context===null?t.context=r:t.pendingContext=r,t=sr(u,f),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Yr(l,t,f),e!==null&&(kn(e,l,f,u),Wl(e,l,f)),f}function _c(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Im(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function af(e,t){Im(e,t),(e=e.alternate)&&Im(e,t)}function Ny(){return null}var xg=typeof reportError=="function"?reportError:function(e){console.error(e)};function of(e){this._internalRoot=e}Ac.prototype.render=of.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Rc(e,t,null,null)};Ac.prototype.unmount=of.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$i(function(){Rc(null,e,null,null)}),t[or]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Tr.length&&t!==0&&t<Tr[r].priority;r++);Tr.splice(r,0,e),r===0&&Jp(e)}};function lf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rm(){}function ky(e,t,r,i,l){if(l){if(typeof i=="function"){var u=i;i=function(){var _=_c(f);u.call(_)}}var f=gg(t,i,e,0,null,!1,!1,"",Rm);return e._reactRootContainer=f,e[or]=f.current,lo(e.nodeType===8?e.parentNode:e),$i(),f}for(;l=e.lastChild;)e.removeChild(l);if(typeof i=="function"){var p=i;i=function(){var _=_c(v);p.call(_)}}var v=sf(e,0,!1,null,null,!1,!1,"",Rm);return e._reactRootContainer=v,e[or]=v.current,lo(e.nodeType===8?e.parentNode:e),$i(function(){Rc(t,v,r,i)}),v}function $c(e,t,r,i,l){var u=r._reactRootContainer;if(u){var f=u;if(typeof l=="function"){var p=l;l=function(){var v=_c(f);p.call(v)}}Rc(t,f,e,l)}else f=ky(r,t,e,l,i);return _c(f)}Hp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ya(t.pendingLanes);r!==0&&(Sh(t,r|1),Zt(t,nt()),!(Te&6)&&(Zs=nt()+500,Kr()))}break;case 13:$i(function(){var i=lr(e,1);if(i!==null){var l=Lt();kn(i,e,1,l)}}),af(e,1)}};Ph=function(e){if(e.tag===13){var t=lr(e,134217728);if(t!==null){var r=Lt();kn(t,e,134217728,r)}af(e,134217728)}};Vp=function(e){if(e.tag===13){var t=Wr(e),r=lr(e,t);if(r!==null){var i=Lt();kn(r,e,t,i)}af(e,t)}};Gp=function(){return ze};qp=function(e,t){var r=ze;try{return ze=e,t()}finally{ze=r}};Md=function(e,t,r){switch(t){case"input":if(wd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var l=Tc(i);if(!l)throw Error(G(90));Sp(i),wd(i,l)}}}break;case"textarea":Mp(e,r);break;case"select":t=r.value,t!=null&&Ds(e,!!r.multiple,t,!1)}};zp=ef;Ip=$i;var Sy={usingClientEntryPoint:!1,Events:[No,ks,Tc,Dp,Op,ef]},Aa={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Py={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fp(e),e===null?null:e.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance||Ny,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{Sc=Il.inject(Py),In=Il}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sy;rn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lf(t))throw Error(G(200));return by(e,t,null,r)};rn.createRoot=function(e,t){if(!lf(e))throw Error(G(299));var r=!1,i="",l=xg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=sf(e,1,!1,null,null,r,!1,i,l),e[or]=t.current,lo(e.nodeType===8?e.parentNode:e),new of(t)};rn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=Fp(t),e=e===null?null:e.stateNode,e};rn.flushSync=function(e){return $i(e)};rn.hydrate=function(e,t,r){if(!Fc(t))throw Error(G(200));return $c(null,e,t,!0,r)};rn.hydrateRoot=function(e,t,r){if(!lf(e))throw Error(G(405));var i=r!=null&&r.hydratedSources||null,l=!1,u="",f=xg;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),t=gg(t,null,e,1,r??null,l,!1,u,f),e[or]=t.current,lo(e),i)for(e=0;e<i.length;e++)r=i[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new Ac(t)};rn.render=function(e,t,r){if(!Fc(t))throw Error(G(200));return $c(null,e,t,!1,r)};rn.unmountComponentAtNode=function(e){if(!Fc(e))throw Error(G(40));return e._reactRootContainer?($i(function(){$c(null,null,e,!1,function(){e._reactRootContainer=null,e[or]=null})}),!0):!1};rn.unstable_batchedUpdates=ef;rn.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!Fc(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return $c(e,t,r,!1,i)};rn.version="18.3.1-next-f1338f8080-20240426";function vg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vg)}catch(e){console.error(e)}}vg(),vp.exports=rn;var My=vp.exports,Am=My;md.createRoot=Am.createRoot,md.hydrateRoot=Am.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},vo.apply(this,arguments)}var Or;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Or||(Or={}));const Fm="popstate";function Ly(e){e===void 0&&(e={});function t(i,l){let{pathname:u,search:f,hash:p}=i.location;return oh("",{pathname:u,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(i,l){return typeof l=="string"?l:yc(l)}return Cy(t,r,null,e)}function rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _g(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ty(){return Math.random().toString(36).substr(2,8)}function $m(e,t){return{usr:e.state,key:e.key,idx:t}}function oh(e,t,r,i){return r===void 0&&(r=null),vo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qs(t):t,{state:r,key:t&&t.key||i||Ty()})}function yc(e){let{pathname:t="/",search:r="",hash:i=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function qs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function Cy(e,t,r,i){i===void 0&&(i={});let{window:l=document.defaultView,v5Compat:u=!1}=i,f=l.history,p=Or.Pop,v=null,_=C();_==null&&(_=0,f.replaceState(vo({},f.state,{idx:_}),""));function C(){return(f.state||{idx:null}).idx}function k(){p=Or.Pop;let S=C(),b=S==null?null:S-_;_=S,v&&v({action:p,location:N.location,delta:b})}function M(S,b){p=Or.Push;let w=oh(N.location,S,b);r&&r(w,S),_=C()+1;let P=$m(w,_),I=N.createHref(w);try{f.pushState(P,"",I)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;l.location.assign(I)}u&&v&&v({action:p,location:N.location,delta:1})}function O(S,b){p=Or.Replace;let w=oh(N.location,S,b);r&&r(w,S),_=C();let P=$m(w,_),I=N.createHref(w);f.replaceState(P,"",I),u&&v&&v({action:p,location:N.location,delta:0})}function T(S){let b=l.location.origin!=="null"?l.location.origin:l.location.href,w=typeof S=="string"?S:yc(S);return w=w.replace(/ $/,"%20"),rt(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let N={get action(){return p},get location(){return e(l,f)},listen(S){if(v)throw new Error("A history only accepts one active listener");return l.addEventListener(Fm,k),v=S,()=>{l.removeEventListener(Fm,k),v=null}},createHref(S){return t(l,S)},createURL:T,encodeLocation(S){let b=T(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:M,replace:O,go(S){return f.go(S)}};return N}var Ym;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ym||(Ym={}));function Ey(e,t,r){return r===void 0&&(r="/"),Dy(e,t,r,!1)}function Dy(e,t,r,i){let l=typeof t=="string"?qs(t):t,u=cf(l.pathname||"/",r);if(u==null)return null;let f=yg(e);Oy(f);let p=null;for(let v=0;p==null&&v<f.length;++v){let _=Zy(u);p=Wy(f[v],_,i)}return p}function yg(e,t,r,i){t===void 0&&(t=[]),r===void 0&&(r=[]),i===void 0&&(i="");let l=(u,f,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};v.relativePath.startsWith("/")&&(rt(v.relativePath.startsWith(i),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(i.length));let _=Zr([i,v.relativePath]),C=r.concat(v);u.children&&u.children.length>0&&(rt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),yg(u.children,t,C,_)),!(u.path==null&&!u.index)&&t.push({path:_,score:Yy(_,u.index),routesMeta:C})};return e.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))l(u,f);else for(let v of wg(u.path))l(u,f,v)}),t}function wg(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let f=wg(i.join("/")),p=[];return p.push(...f.map(v=>v===""?u:[u,v].join("/"))),l&&p.push(...f),p.map(v=>e.startsWith("/")&&v===""?"/":v)}function Oy(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:By(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const zy=/^:[\w-]+$/,Iy=3,Ry=2,Ay=1,Fy=10,$y=-2,Bm=e=>e==="*";function Yy(e,t){let r=e.split("/"),i=r.length;return r.some(Bm)&&(i+=$y),t&&(i+=Ry),r.filter(l=>!Bm(l)).reduce((l,u)=>l+(zy.test(u)?Iy:u===""?Ay:Fy),i)}function By(e,t){return e.length===t.length&&e.slice(0,-1).every((i,l)=>i===t[l])?e[e.length-1]-t[t.length-1]:0}function Wy(e,t,r){r===void 0&&(r=!1);let{routesMeta:i}=e,l={},u="/",f=[];for(let p=0;p<i.length;++p){let v=i[p],_=p===i.length-1,C=u==="/"?t:t.slice(u.length)||"/",k=Wm({path:v.relativePath,caseSensitive:v.caseSensitive,end:_},C),M=v.route;if(!k&&_&&r&&!i[i.length-1].route.index&&(k=Wm({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},C)),!k)return null;Object.assign(l,k.params),f.push({params:l,pathname:Zr([u,k.pathname]),pathnameBase:qy(Zr([u,k.pathnameBase])),route:M}),k.pathnameBase!=="/"&&(u=Zr([u,k.pathnameBase]))}return f}function Wm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=Uy(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:i.reduce((_,C,k)=>{let{paramName:M,isOptional:O}=C;if(M==="*"){let N=p[k]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const T=p[k];return O&&!T?_[M]=void 0:_[M]=(T||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:e}}function Uy(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),_g(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,v)=>(i.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),i]}function Zy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _g(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function Hy(e,t){t===void 0&&(t="/");let{pathname:r,search:i="",hash:l=""}=typeof e=="string"?qs(e):e;return{pathname:r?r.startsWith("/")?r:Vy(r,t):t,search:Jy(i),hash:Ky(l)}}function Vy(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function dd(e,t,r,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gy(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function uf(e,t){let r=Gy(e);return t?r.map((i,l)=>l===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function df(e,t,r,i){i===void 0&&(i=!1);let l;typeof e=="string"?l=qs(e):(l=vo({},e),rt(!l.pathname||!l.pathname.includes("?"),dd("?","pathname","search",l)),rt(!l.pathname||!l.pathname.includes("#"),dd("#","pathname","hash",l)),rt(!l.search||!l.search.includes("#"),dd("#","search","hash",l)));let u=e===""||l.pathname==="",f=u?"/":l.pathname,p;if(f==null)p=r;else{let k=t.length-1;if(!i&&f.startsWith("..")){let M=f.split("/");for(;M[0]==="..";)M.shift(),k-=1;l.pathname=M.join("/")}p=k>=0?t[k]:"/"}let v=Hy(l,p),_=f&&f!=="/"&&f.endsWith("/"),C=(u||f===".")&&r.endsWith("/");return!v.pathname.endsWith("/")&&(_||C)&&(v.pathname+="/"),v}const Zr=e=>e.join("/").replace(/\/\/+/g,"/"),qy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ky=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Qy(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jg=["post","put","patch","delete"];new Set(jg);const Xy=["get",...jg];new Set(Xy);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},_o.apply(this,arguments)}const hf=z.createContext(null),e1=z.createContext(null),Qr=z.createContext(null),Yc=z.createContext(null),Xr=z.createContext({outlet:null,matches:[],isDataRoute:!1}),bg=z.createContext(null);function t1(e,t){let{relative:r}=t===void 0?{}:t;Js()||rt(!1);let{basename:i,navigator:l}=z.useContext(Qr),{hash:u,pathname:f,search:p}=kg(e,{relative:r}),v=f;return i!=="/"&&(v=f==="/"?i:Zr([i,f])),l.createHref({pathname:v,search:p,hash:u})}function Js(){return z.useContext(Yc)!=null}function ei(){return Js()||rt(!1),z.useContext(Yc).location}function Ng(e){z.useContext(Qr).static||z.useLayoutEffect(e)}function Wi(){let{isDataRoute:e}=z.useContext(Xr);return e?m1():n1()}function n1(){Js()||rt(!1);let e=z.useContext(hf),{basename:t,future:r,navigator:i}=z.useContext(Qr),{matches:l}=z.useContext(Xr),{pathname:u}=ei(),f=JSON.stringify(uf(l,r.v7_relativeSplatPath)),p=z.useRef(!1);return Ng(()=>{p.current=!0}),z.useCallback(function(_,C){if(C===void 0&&(C={}),!p.current)return;if(typeof _=="number"){i.go(_);return}let k=df(_,JSON.parse(f),u,C.relative==="path");e==null&&t!=="/"&&(k.pathname=k.pathname==="/"?t:Zr([t,k.pathname])),(C.replace?i.replace:i.push)(k,C.state,C)},[t,i,f,u,e])}function kg(e,t){let{relative:r}=t===void 0?{}:t,{future:i}=z.useContext(Qr),{matches:l}=z.useContext(Xr),{pathname:u}=ei(),f=JSON.stringify(uf(l,i.v7_relativeSplatPath));return z.useMemo(()=>df(e,JSON.parse(f),u,r==="path"),[e,f,u,r])}function r1(e,t){return i1(e,t)}function i1(e,t,r,i){Js()||rt(!1);let{navigator:l}=z.useContext(Qr),{matches:u}=z.useContext(Xr),f=u[u.length-1],p=f?f.params:{};f&&f.pathname;let v=f?f.pathnameBase:"/";f&&f.route;let _=ei(),C;if(t){var k;let S=typeof t=="string"?qs(t):t;v==="/"||(k=S.pathname)!=null&&k.startsWith(v)||rt(!1),C=S}else C=_;let M=C.pathname||"/",O=M;if(v!=="/"){let S=v.replace(/^\//,"").split("/");O="/"+M.replace(/^\//,"").split("/").slice(S.length).join("/")}let T=Ey(e,{pathname:O}),N=c1(T&&T.map(S=>Object.assign({},S,{params:Object.assign({},p,S.params),pathname:Zr([v,l.encodeLocation?l.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?v:Zr([v,l.encodeLocation?l.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),u,r,i);return t&&N?z.createElement(Yc.Provider,{value:{location:_o({pathname:"/",search:"",hash:"",state:null,key:"default"},C),navigationType:Or.Pop}},N):N}function s1(){let e=f1(),t=Qy(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},u=null;return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),r?z.createElement("pre",{style:l},r):null,u)}const a1=z.createElement(s1,null);class o1 extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?z.createElement(Xr.Provider,{value:this.props.routeContext},z.createElement(bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function l1(e){let{routeContext:t,match:r,children:i}=e,l=z.useContext(hf);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),z.createElement(Xr.Provider,{value:t},i)}function c1(e,t,r,i){var l;if(t===void 0&&(t=[]),r===void 0&&(r=null),i===void 0&&(i=null),e==null){var u;if(!r)return null;if(r.errors)e=r.matches;else if((u=i)!=null&&u.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let f=e,p=(l=r)==null?void 0:l.errors;if(p!=null){let C=f.findIndex(k=>k.route.id&&(p==null?void 0:p[k.route.id])!==void 0);C>=0||rt(!1),f=f.slice(0,Math.min(f.length,C+1))}let v=!1,_=-1;if(r&&i&&i.v7_partialHydration)for(let C=0;C<f.length;C++){let k=f[C];if((k.route.HydrateFallback||k.route.hydrateFallbackElement)&&(_=C),k.route.id){let{loaderData:M,errors:O}=r,T=k.route.loader&&M[k.route.id]===void 0&&(!O||O[k.route.id]===void 0);if(k.route.lazy||T){v=!0,_>=0?f=f.slice(0,_+1):f=[f[0]];break}}}return f.reduceRight((C,k,M)=>{let O,T=!1,N=null,S=null;r&&(O=p&&k.route.id?p[k.route.id]:void 0,N=k.route.errorElement||a1,v&&(_<0&&M===0?(p1("route-fallback",!1),T=!0,S=null):_===M&&(T=!0,S=k.route.hydrateFallbackElement||null)));let b=t.concat(f.slice(0,M+1)),w=()=>{let P;return O?P=N:T?P=S:k.route.Component?P=z.createElement(k.route.Component,null):k.route.element?P=k.route.element:P=C,z.createElement(l1,{match:k,routeContext:{outlet:C,matches:b,isDataRoute:r!=null},children:P})};return r&&(k.route.ErrorBoundary||k.route.errorElement||M===0)?z.createElement(o1,{location:r.location,revalidation:r.revalidation,component:N,error:O,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var Sg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Sg||{}),wc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(wc||{});function u1(e){let t=z.useContext(hf);return t||rt(!1),t}function d1(e){let t=z.useContext(e1);return t||rt(!1),t}function h1(e){let t=z.useContext(Xr);return t||rt(!1),t}function Pg(e){let t=h1(),r=t.matches[t.matches.length-1];return r.route.id||rt(!1),r.route.id}function f1(){var e;let t=z.useContext(bg),r=d1(wc.UseRouteError),i=Pg(wc.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[i]}function m1(){let{router:e}=u1(Sg.UseNavigateStable),t=Pg(wc.UseNavigateStable),r=z.useRef(!1);return Ng(()=>{r.current=!0}),z.useCallback(function(l,u){u===void 0&&(u={}),r.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,_o({fromRouteId:t},u)))},[e,t])}const Um={};function p1(e,t,r){!t&&!Um[e]&&(Um[e]=!0)}function g1(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Xa(e){let{to:t,replace:r,state:i,relative:l}=e;Js()||rt(!1);let{future:u,static:f}=z.useContext(Qr),{matches:p}=z.useContext(Xr),{pathname:v}=ei(),_=Wi(),C=df(t,uf(p,u.v7_relativeSplatPath),v,l==="path"),k=JSON.stringify(C);return z.useEffect(()=>_(JSON.parse(k),{replace:r,state:i,relative:l}),[_,k,l,r,i]),null}function $t(e){rt(!1)}function x1(e){let{basename:t="/",children:r=null,location:i,navigationType:l=Or.Pop,navigator:u,static:f=!1,future:p}=e;Js()&&rt(!1);let v=t.replace(/^\/*/,"/"),_=z.useMemo(()=>({basename:v,navigator:u,static:f,future:_o({v7_relativeSplatPath:!1},p)}),[v,p,u,f]);typeof i=="string"&&(i=qs(i));let{pathname:C="/",search:k="",hash:M="",state:O=null,key:T="default"}=i,N=z.useMemo(()=>{let S=cf(C,v);return S==null?null:{location:{pathname:S,search:k,hash:M,state:O,key:T},navigationType:l}},[v,C,k,M,O,T,l]);return N==null?null:z.createElement(Qr.Provider,{value:_},z.createElement(Yc.Provider,{children:r,value:N}))}function Mg(e){let{children:t,location:r}=e;return r1(lh(t),r)}new Promise(()=>{});function lh(e,t){t===void 0&&(t=[]);let r=[];return z.Children.forEach(e,(i,l)=>{if(!z.isValidElement(i))return;let u=[...t,l];if(i.type===z.Fragment){r.push.apply(r,lh(i.props.children,u));return}i.type!==$t&&rt(!1),!i.props.index||!i.props.children||rt(!1);let f={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=lh(i.props.children,u)),r.push(f)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ch.apply(this,arguments)}function v1(e,t){if(e==null)return{};var r={},i=Object.keys(e),l,u;for(u=0;u<i.length;u++)l=i[u],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function _1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function y1(e,t){return e.button===0&&(!t||t==="_self")&&!_1(e)}const w1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],j1="6";try{window.__reactRouterVersion=j1}catch{}const b1="startTransition",Zm=xv[b1];function N1(e){let{basename:t,children:r,future:i,window:l}=e,u=z.useRef();u.current==null&&(u.current=Ly({window:l,v5Compat:!0}));let f=u.current,[p,v]=z.useState({action:f.action,location:f.location}),{v7_startTransition:_}=i||{},C=z.useCallback(k=>{_&&Zm?Zm(()=>v(k)):v(k)},[v,_]);return z.useLayoutEffect(()=>f.listen(C),[f,C]),z.useEffect(()=>g1(i),[i]),z.createElement(x1,{basename:t,children:r,location:p.location,navigationType:p.action,navigator:f,future:i})}const k1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=z.forwardRef(function(t,r){let{onClick:i,relative:l,reloadDocument:u,replace:f,state:p,target:v,to:_,preventScrollReset:C,viewTransition:k}=t,M=v1(t,w1),{basename:O}=z.useContext(Qr),T,N=!1;if(typeof _=="string"&&S1.test(_)&&(T=_,k1))try{let P=new URL(window.location.href),I=_.startsWith("//")?new URL(P.protocol+_):new URL(_),A=cf(I.pathname,O);I.origin===P.origin&&A!=null?_=A+I.search+I.hash:N=!0}catch{}let S=t1(_,{relative:l}),b=P1(_,{replace:f,state:p,target:v,preventScrollReset:C,relative:l,viewTransition:k});function w(P){i&&i(P),P.defaultPrevented||b(P)}return z.createElement("a",ch({},M,{href:T||S,onClick:N||u?i:w,ref:r,target:v}))});var Hm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Hm||(Hm={}));var Vm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Vm||(Vm={}));function P1(e,t){let{target:r,replace:i,state:l,preventScrollReset:u,relative:f,viewTransition:p}=t===void 0?{}:t,v=Wi(),_=ei(),C=kg(e,{relative:f});return z.useCallback(k=>{if(y1(k,r)){k.preventDefault();let M=i!==void 0?i:yc(_)===yc(C);v(e,{replace:M,state:l,preventScrollReset:u,relative:f,viewTransition:p})}},[_,v,C,i,l,r,e,u,f,p])}const M1={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_API_BASE_URL||`http://${typeof window<"u"?window.location.hostname:"localhost"}:8000/api`;class L1{constructor(){Au(this,"baseUrl");Au(this,"accessToken",null);this.baseUrl=M1,this.accessToken=localStorage.getItem("access_token")}updateToken(){this.accessToken=localStorage.getItem("access_token")}isTokenExpired(){const t=this.accessToken;if(!t)return!0;try{const r=JSON.parse(atob(t.split(".")[1])),i=Math.floor(Date.now()/1e3);return r.exp<i+300}catch{return!0}}async request(t,r={}){if(this.updateToken(),!t.includes("/auth/login")&&!t.includes("/auth/register")&&!t.includes("/auth/refresh")&&this.isTokenExpired()){if(console.log("Token is expired, attempting refresh before request..."),!await this.refreshToken())return console.log("Token refresh failed, clearing tokens"),this.clearTokens(),{error:"نشست شما منقضی شده است. لطفا مجددا وارد شوید."};this.updateToken()}const i=`${this.baseUrl}${t}`,l={headers:{"Content-Type":"application/json",...r.headers},...r};this.accessToken&&!t.includes("/auth/login")&&!t.includes("/auth/register")&&!t.includes("/auth/refresh")&&(l.headers={...l.headers,Authorization:`Bearer ${this.accessToken}`});try{const u=await fetch(i,l),f=await u.json();if(!u.ok){if(u.status===401&&!t.includes("/auth/login")&&!t.includes("/auth/register")&&await this.refreshToken()){this.updateToken(),l.headers={...l.headers,Authorization:`Bearer ${this.accessToken}`};const v=await fetch(i,l),_=await v.json();if(v.ok)return{data:_}}return{error:f.detail||f.message||Object.values(f).flat().join(", ")||"خطا در ارتباط با سرور"}}return{data:f}}catch(u){return console.error("API request failed:",u),{error:"خطا در ارتباط با سرور"}}}async login(t){const r=await this.request("/accounts/auth/login/",{method:"POST",body:JSON.stringify(t)});return r.data&&this.setTokens(r.data.tokens),r}async register(t){const r=await this.request("/accounts/auth/register/",{method:"POST",body:JSON.stringify(t)});return r.data&&this.setTokens(r.data.tokens),r}async businessRegister(t){const r=await this.request("/accounts/auth/register/business/",{method:"POST",body:JSON.stringify(t)});return r.data&&this.setTokens(r.data.tokens),r}async logout(){const t=localStorage.getItem("refresh_token"),r=await this.request("/accounts/auth/logout/",{method:"POST",body:JSON.stringify({refresh:t})});return this.clearTokens(),r}async getProfile(){return this.request("/accounts/auth/profile/")}async updateProfile(t){return this.request("/accounts/auth/profile/",{method:"PUT",body:JSON.stringify(t)})}async uploadProfileImage(t){const r=new FormData;return r.append("image",t),this.request("/accounts/auth/profile/image/",{method:"POST",headers:{},body:r})}async getServiceCategories(){const t=await this.request("/accounts/service-categories/");if(t.data){if(Array.isArray(t.data))return{data:t.data};if(Array.isArray(t.data.results))return{data:t.data.results}}return t}async getProvinces(){const t=await this.request("/accounts/locations/provinces/");if(t.data){if(Array.isArray(t.data))return{data:t.data};if(Array.isArray(t.data.results))return{data:t.data.results}}return t}async getCitiesByProvince(t){return this.request(`/accounts/locations/provinces/${t}/cities/`)}async getAllCities(){return this.request("/accounts/locations/cities/")}async sendOTP(t){return this.request("/accounts/auth/send-otp/",{method:"POST",body:JSON.stringify({phone_number:t})})}async verifyOTP(t,r){return this.request("/accounts/auth/verify-otp/",{method:"POST",body:JSON.stringify({phone_number:t,otp_code:r})})}async updatePhoneNumber(t,r){return this.request("/accounts/auth/profile/phone/",{method:"PUT",body:JSON.stringify({phone_number:t,otp_code:r})})}async updateBusinessProfile(t){return this.request("/accounts/auth/profile/business/",{method:"PUT",body:JSON.stringify(t)})}async updateFullBusinessProfile(t){return this.request("/accounts/auth/profile/business/",{method:"PUT",body:JSON.stringify(t)})}async updateCustomerProfile(t){return this.request("/accounts/auth/profile/customer/",{method:"PUT",body:JSON.stringify(t)})}async refreshToken(){const t=localStorage.getItem("refresh_token");if(!t)return!1;try{const r=await this.request("/accounts/auth/refresh/",{method:"POST",body:JSON.stringify({refresh:t})});if(r.data)return this.accessToken=r.data.access,localStorage.setItem("access_token",r.data.access),!0}catch(r){console.error("Token refresh failed:",r)}return!1}setTokens(t){this.accessToken=t.access,localStorage.setItem("access_token",t.access),localStorage.setItem("refresh_token",t.refresh)}clearTokens(){this.accessToken=null,localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")}isAuthenticated(){return!!this.accessToken}async getPackages(){const t=await this.request("/packages/packages/");if(t.data){if(Array.isArray(t.data))return{data:t.data};if(Array.isArray(t.data.results))return{data:t.data.results}}return t}async getPublicPackages(){const t=await this.request("/packages/packages/public/");if(t.data){if(Array.isArray(t.data))return{data:t.data};if(Array.isArray(t.data.results))return{data:t.data.results}}return t}async getPackage(t){return this.request(`/packages/packages/${t}/`)}async createPackage(t){console.log("API: Creating package with data:",t),console.log("API: Current access token:",this.accessToken),console.log("API: Is authenticated:",this.isAuthenticated());const r=await this.request("/packages/packages/",{method:"POST",body:JSON.stringify(t)});return console.log("API: Create package response:",r),r}async updatePackage(t,r){return this.request(`/packages/packages/${t}/`,{method:"PUT",body:JSON.stringify(r)})}async deletePackage(t){return this.request(`/packages/packages/${t}/`,{method:"DELETE"})}async togglePackageActive(t){return this.request(`/packages/packages/${t}/toggle_active/`,{method:"POST"})}async approvePackage(t){return this.request(`/packages/packages/${t}/approve/`,{method:"POST"})}async rejectPackage(t){return this.request(`/packages/packages/${t}/reject/`,{method:"POST"})}async getComments(t,r){const i=await this.request(`/packages/comments/?content_type_id=${t}&object_id=${r}`);if(i.data){if(Array.isArray(i.data))return{data:i.data};if(Array.isArray(i.data.results))return{data:i.data.results}}return i}async createComment(t,r,i){return this.request("/packages/comments/",{method:"POST",body:JSON.stringify({text:t,content_type:r,object_id:i})})}async likeComment(t){return this.request(`/packages/comments/${t}/like/`,{method:"POST"})}async savePackageDiscounts(t,r,i,l){return this.request(`/packages/packages/${t}/discounts/`,{method:"POST",body:JSON.stringify({discount_all:r,specific_discount:i,remove_specific:l||!1})})}async savePackageLoyalGift(t,r,i,l){return this.request(`/packages/packages/${t}/loyal_gift/`,{method:"POST",body:JSON.stringify({gift:r,amount:i,count:l})})}async savePackageVip(t,r){return this.request(`/packages/packages/${t}/vip/`,{method:"POST",body:JSON.stringify({experience_ids:r})})}async finalizePackage(t,r,i){return this.request(`/packages/packages/${t}/finalize/`,{method:"POST",body:JSON.stringify({duration_months:r,agree:i})})}async getPackageStatus(t){return this.request(`/packages/packages/${t}/status/`)}async getVipExperienceCategories(){const t=await this.request("/packages/vip-experiences/");return t.data&&t.data.results?{...t,data:t.data.results}:t}}const pe=new L1,Lg=z.createContext(void 0),Ht=()=>{const e=z.useContext(Lg);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},T1=({children:e})=>{const[t,r]=z.useState(null),[i,l]=z.useState(!0),u=T=>T||"",f=()=>{localStorage.removeItem("auth_user"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),r(null)},p=async(T,N)=>{l(!0);try{const S={business:{id:1,name:"رستوران گلستان",email:"business@test.com",type:"business",username:"business",phone_number:"09123456789"},customer:{id:2,name:"احمد محمدی",email:"customer@test.com",type:"customer",username:"customer",phone_number:"09123456788"},admin:{id:3,name:"مدیر سیستم",email:"admin@test.com",type:"it_manager",username:"admin",phone_number:"09123456787"}};if(S[T]&&N==="test123"){const w=S[T];return r(w),localStorage.setItem("auth_user",JSON.stringify(w)),localStorage.setItem("access_token","test_access_token"),localStorage.setItem("refresh_token","test_refresh_token"),{success:!0,user:w}}const b=await pe.login({username:T,password:N});if(b.data){const w=b.data.user,P={id:w.id,name:w.display_name||`${w.first_name} ${w.last_name}`.trim()||w.username,email:w.email,type:w.role,avatar:w.image,username:w.username,phone_number:w.phone_number,display_name:w.display_name,first_name:w.first_name,last_name:w.last_name};return r(P),localStorage.setItem("auth_user",JSON.stringify(P)),{success:!0,user:P}}else return{success:!1,error:b.error||"خطا در ورود"}}catch(S){return console.error("Login error:",S),{success:!1,error:"خطا در ارتباط با سرور"}}finally{l(!1)}},v=async T=>{l(!0);try{console.log("Attempting customer registration with data:",T);const N=await pe.register(T);if(console.log("Registration response:",N),N.data){const S=N.data.user,b={id:S.id,name:S.display_name||`${S.first_name} ${S.last_name}`.trim()||S.username,email:S.email,type:S.role,avatar:S.image,username:S.username,phone_number:S.phone_number,display_name:S.display_name,first_name:S.first_name,last_name:S.last_name};return r(b),localStorage.setItem("auth_user",JSON.stringify(b)),{success:!0}}else return console.error("Registration failed:",N.error),{success:!1,error:N.error||"خطا در ثبت نام"}}catch(N){return console.error("Register error:",N),{success:!1,error:"خطا در ارتباط با سرور"}}finally{l(!1)}},_=async T=>{l(!0);try{console.log("Attempting business registration with data:",T);const N=await pe.businessRegister(T);if(console.log("Registration response:",N),N.data){const S=N.data.user,b={id:S.id,name:S.display_name||T.name||S.username,email:S.email,type:S.role,avatar:S.image,username:S.username,phone_number:S.phone_number,display_name:S.display_name,first_name:S.first_name,last_name:S.last_name};return r(b),localStorage.setItem("auth_user",JSON.stringify(b)),{success:!0}}else return console.error("Registration failed:",N.error),{success:!1,error:N.error||"خطا در ثبت نام"}}catch(N){return console.error("Register error:",N),{success:!1,error:"خطا در ارتباط با سرور"}}finally{l(!1)}},C=async()=>{try{await pe.logout()}catch(T){console.error("Logout error:",T)}finally{f()}},k=async T=>{if(!t)return!1;try{if(Object.keys(T).length===1&&T.avatar){const N={...t,avatar:T.avatar};return r(N),localStorage.setItem("auth_user",JSON.stringify(N)),!0}if(t.type==="customer"&&T.profile){const N={gender:T.profile.gender,birth_date:T.profile.birth_date,address:T.profile.address,city:T.profile.city},S=await pe.updateCustomerProfile(N);if(S.data){const b=S.data.user,w=S.data.profile,P={id:b.id,name:b.display_name||`${b.first_name} ${b.last_name}`.trim()||b.username,email:b.email,type:b.role,avatar:b.image,username:b.username,phone_number:u(b.phone_number),display_name:b.display_name,first_name:b.first_name,last_name:b.last_name,profile:b.role==="customer"&&w&&"gender"in w?{gender:w.gender,birth_date:w.birth_date,city:w.city,address:w.address}:void 0,businessProfile:b.role==="business"&&w&&"name"in w?{name:w.name,business_phone:w.business_phone,category:w.category,address:w.address,city:w.city,business_location_latitude:w.business_location_latitude,business_location_longitude:w.business_location_longitude}:void 0,isProfileComplete:b.role==="customer"||b.role==="business"?w&&"is_profile_complete"in w?w.is_profile_complete:!1:!0};return r(P),localStorage.setItem("auth_user",JSON.stringify(P)),!0}return!1}else{const N=await pe.updateProfile(T);if(N.data){const S=N.data,b={...t,first_name:S.first_name,last_name:S.last_name,email:S.email,phone_number:S.phone_number,name:S.display_name||`${S.first_name} ${S.last_name}`.trim()||S.username,display_name:S.display_name,avatar:S.image,...T};return r(b),localStorage.setItem("auth_user",JSON.stringify(b)),!0}return!1}}catch(N){return console.error("Error updating user:",N),!1}},M=async()=>{try{const T=await pe.getProfile();if(T.data){const N=T.data.user,S=T.data.profile,b={id:N.id,name:N.display_name||`${N.first_name} ${N.last_name}`.trim()||N.username,email:N.email,type:N.role,avatar:N.image,username:N.username,phone_number:u(N.phone_number),display_name:N.display_name,first_name:N.first_name,last_name:N.last_name,profile:N.role==="customer"&&S&&"gender"in S?{gender:S.gender,birth_date:S.birth_date,city:S.city,address:S.address}:void 0,businessProfile:N.role==="business"&&S&&"name"in S?{name:S.name,business_phone:S.business_phone,category:S.category,address:S.address,city:S.city,business_location_latitude:S.business_location_latitude,business_location_longitude:S.business_location_longitude}:void 0,isProfileComplete:N.role==="customer"||N.role==="business"?S&&"is_profile_complete"in S?S.is_profile_complete:!1:!0};r(b),localStorage.setItem("auth_user",JSON.stringify(b))}}catch(T){console.error("Error refreshing profile:",T)}};zi.useEffect(()=>{(async()=>{try{const N=localStorage.getItem("auth_user"),S=localStorage.getItem("access_token");if(N&&S){console.log("Validating existing session...");const b=await pe.getProfile();if(b.data){const w=b.data.user,P=b.data.profile,I={id:w.id,name:w.display_name||`${w.first_name} ${w.last_name}`.trim()||w.username,email:w.email,type:w.role,avatar:w.image,username:w.username,phone_number:u(w.phone_number),display_name:w.display_name,first_name:w.first_name,last_name:w.last_name,profile:w.role==="customer"&&P&&"gender"in P?{gender:P.gender,birth_date:P.birth_date,city:P.city,address:P.address}:void 0,businessProfile:w.role==="business"&&P&&"name"in P?{name:P.name,business_phone:P.business_phone,category:P.category,address:P.address,city:P.city,business_location_latitude:P.business_location_latitude,business_location_longitude:P.business_location_longitude}:void 0,isProfileComplete:w.role==="customer"||w.role==="business"?P&&"is_profile_complete"in P?P.is_profile_complete:!1:!0};r(I),localStorage.setItem("auth_user",JSON.stringify(I)),console.log("Session validated successfully")}else if(console.log("Token validation failed, attempting refresh..."),localStorage.getItem("refresh_token"))if(await pe.refreshToken()){const I=await pe.getProfile();if(I.data){const A=I.data.user,B=I.data.profile,V={id:A.id,name:A.display_name||`${A.first_name} ${A.last_name}`.trim()||A.username,email:A.email,type:A.role,avatar:A.image,username:A.username,phone_number:u(A.phone_number),display_name:A.display_name,first_name:A.first_name,last_name:A.last_name,profile:A.role==="customer"&&B&&"gender"in B?{gender:B.gender,birth_date:B.birth_date,city:B.city,address:B.address}:void 0,businessProfile:A.role==="business"&&B&&"name"in B?{name:B.name,business_phone:B.business_phone,category:B.category,address:B.address,city:B.city,business_location_latitude:B.business_location_latitude,business_location_longitude:B.business_location_longitude}:void 0,isProfileComplete:A.role==="customer"||A.role==="business"?B&&"is_profile_complete"in B?B.is_profile_complete:!1:!0};r(V),localStorage.setItem("auth_user",JSON.stringify(V)),console.log("Session refreshed successfully")}else console.log("Profile failed after refresh, clearing session"),f()}else console.log("Token refresh failed, clearing session"),f();else console.log("No refresh token available, clearing session"),f()}else console.log("No saved session found"),r(null)}catch(N){console.error("Error validating session:",N),f()}finally{l(!1)}})()},[]);const O={user:t,login:p,registerCustomer:v,registerBusiness:_,logout:C,updateUser:k,refreshProfile:M,isLoading:i};return a.jsx(Lg.Provider,{value:O,children:e})},Tg=z.createContext(void 0),C1=({children:e})=>{const[t,r]=z.useState(()=>localStorage.getItem("theme")||"system"),[i,l]=z.useState(!1);return z.useEffect(()=>{const u=window.matchMedia("(prefers-color-scheme: dark)"),f=()=>{l(t==="system"?u.matches:t==="dark")};if(f(),t==="system")return u.addEventListener("change",f),()=>u.removeEventListener("change",f)},[t]),z.useEffect(()=>{localStorage.setItem("theme",t)},[t]),z.useEffect(()=>{i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[i]),a.jsx(Tg.Provider,{value:{theme:t,setTheme:r,isDark:i},children:e})},Et=()=>{const e=z.useContext(Tg);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Cg=({isOpen:e,onClose:t})=>{const{registerCustomer:r,registerBusiness:i,login:l}=Ht(),[u,f]=z.useState(1),[p,v]=z.useState("otp"),[_,C]=z.useState({phone_number:"",otp_code:"",user_type:"customer",username:"",password:""}),[k,M]=z.useState(!1),[O,T]=z.useState(""),N=A=>{C({..._,[A.target.name]:A.target.value})},S=async()=>{if(!_.phone_number)return T("شماره تماس الزامی است"),!1;if(!_.phone_number.startsWith("09")||_.phone_number.length!==11)return T("شماره تماس معتبر نیست"),!1;M(!0),T("");try{const A=`http://${window.location.hostname}:8000/api`,V=await(await fetch(`${A}/accounts/auth/send-otp/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:_.phone_number})})).json();return V.success?(T(""),!0):(T(V.message||"خطا در ارسال کد تایید"),!1)}catch(A){return console.error("OTP send error:",A),T(`خطا در ارسال کد تایید: ${A instanceof Error?A.message:"نامشخص"}`),!1}finally{M(!1)}},b=async()=>{if(!_.otp_code)return T("کد تایید الزامی است"),!1;M(!0),T("");try{const A=`http://${window.location.hostname}:8000/api`,V=await(await fetch(`${A}/accounts/auth/verify-otp/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:_.phone_number,otp_code:_.otp_code})})).json();if(V.success){try{const ce=await(await fetch(`${A}/accounts/auth/login-with-otp/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:_.phone_number})})).json();if(ce.success&&ce.user)return ce.user.role!==_.user_type?(f(1),C({..._,otp_code:"",user_type:ce.user.role}),T(`این شماره برای ${ce.user.role==="customer"?"مشتری":"کسب‌وکار"} ثبت شده است. نوع کاربر به درستی تنظیم شد.`),!1):(localStorage.setItem("auth_user",JSON.stringify(ce.user)),localStorage.setItem("access_token",ce.tokens.access),localStorage.setItem("refresh_token",ce.tokens.refresh),t(),window.location.href="/dashboard?tab=profile&welcome=true",!0)}catch{console.log("User not found, proceeding with registration")}return await w(),!0}else return T(V.message||"کد تایید نامعتبر است"),!1}catch(A){return console.error("Auth error:",A),T(`خطا در احراز هویت: ${A instanceof Error?A.message:"نامشخص"}`),!1}finally{M(!1)}},w=async()=>{try{const A=Date.now().toString().slice(-4),B=`user_${_.phone_number.slice(-6)}_${A}`;let V;_.user_type==="business"?V=await i({username:B,email:"",phone_number:_.phone_number,password:"",password_confirm:"",name:"",description:"",address:""}):V=await r({username:B,email:"",first_name:"",last_name:"",phone_number:_.phone_number,password:"",password_confirm:"",gender:"male",birth_date:"",address:""}),V.success?(t(),window.location.href="/dashboard?tab=profile&welcome=true"):T(V.error||"خطا در ثبت نام")}catch(A){console.error("Auto registration error:",A),T(`خطا در ثبت نام: ${A instanceof Error?A.message:"نامشخص"}`)}},P=async()=>{if(!_.username||!_.password){T("نام کاربری و رمز عبور الزامی است");return}M(!0),T("");try{const A=await l(_.username,_.password);A.success&&A.user?(t(),window.location.href="/dashboard"):T(A.error||"خطا در ورود")}catch(A){T("خطا در ورود. لطفاً دوباره تلاش کنید."),console.error("Login error:",A)}finally{M(!1)}},I=async()=>{T(""),u===1?await S()&&f(2):u===2&&await b()};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md mx-4 relative",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("h2",{className:"text-xl font-bold text-center text-gray-900 mb-6",children:"ورود / ثبت نام"}),p==="otp"&&a.jsxs(a.Fragment,{children:[u===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"نوع کاربر"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("button",{type:"button",onClick:()=>C({..._,user_type:"customer"}),className:`p-3 rounded-lg border text-sm font-medium transition-colors ${_.user_type==="customer"?"bg-blue-50 border-blue-500 text-blue-700":"bg-gray-50 border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:"مشتری"}),a.jsx("button",{type:"button",onClick:()=>C({..._,user_type:"business"}),className:`p-3 rounded-lg border text-sm font-medium transition-colors ${_.user_type==="business"?"bg-blue-50 border-blue-500 text-blue-700":"bg-gray-50 border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:"کسب‌وکار"})]})]}),a.jsx("div",{children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),a.jsx("input",{name:"phone_number",type:"tel",value:_.phone_number,onChange:N,className:"block w-full pr-10 pl-2 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"شماره موبایل"})]})}),a.jsx("button",{onClick:I,disabled:k,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50",children:k?"در حال ارسال...":"دریافت کد تایید"})]}),u===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsxs("p",{className:"text-sm text-gray-600",children:["کد تایید به شماره ",_.phone_number," ارسال شد"]})]}),a.jsx("div",{children:a.jsx("input",{name:"otp_code",type:"text",value:_.otp_code,onChange:N,className:"block w-full py-3 border border-gray-300 rounded-lg text-center text-2xl tracking-widest placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"۱۲۳۴۵۶",maxLength:6})}),a.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[a.jsx("button",{onClick:()=>f(1),className:"flex-1 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50",children:"بازگشت"}),a.jsx("button",{onClick:I,disabled:k,className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50",children:k?"در حال تایید...":"ورود"})]}),a.jsx("button",{onClick:S,disabled:k,className:"w-full text-sm text-blue-600 hover:text-blue-500 disabled:opacity-50",children:"ارسال مجدد کد"})]})]}),p==="password"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsx("input",{name:"username",type:"text",value:_.username,onChange:N,className:"block w-full pr-10 pl-2 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"شماره موبایل"})]})}),a.jsx("div",{children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:a.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),a.jsx("input",{name:"password",type:"password",value:_.password,onChange:N,className:"block w-full pr-10 pl-2 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"رمز"})]})}),a.jsx("button",{onClick:P,disabled:k,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50",children:k?"در حال ورود...":"ورود"})]}),O&&a.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-300 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-700 text-center",children:O})}),a.jsx("div",{className:"flex justify-between mt-6 text-sm",children:a.jsx("button",{onClick:()=>v(p==="otp"?"password":"otp"),className:`${p==="otp"?"text-gray-500":"text-blue-600 font-medium"}`,children:p==="otp"?"ورود با کلمه عبور":"ورود با پیامک"})})]})}):null},E1=()=>{const[e,t]=z.useState(!1),[r,i]=z.useState(!1),l=ei(),u=Wi(),{user:f,logout:p}=Ht(),v=[{name:"خانه",href:"/"},{name:"کسب‌وکارها",href:"/businesses"},{name:"درباره ما",href:"/about"},{name:"ارتباط با ما",href:"/contact"}],_=k=>l.pathname===k,C=async()=>{await p(),u("/")};return a.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsxs(ht,{to:"/",className:"flex items-center space-x-2 space-x-reverse",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-blue-400 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"F"})}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"فایدو"})]})}),a.jsx("nav",{className:"hidden md:flex space-x-8 space-x-reverse",children:v.map(k=>a.jsx(ht,{to:k.href,className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${_(k.href)?"bg-blue-50 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:k.name},k.name))}),a.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[f?a.jsx("button",{onClick:C,className:"inline-flex items-center px-4 py-2 border border-gray-200 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200",children:"خروج"}):a.jsx("div",{className:"flex items-center",children:a.jsx("button",{onClick:()=>i(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:"ورود | ثبت‌نام"})}),a.jsx("button",{type:"button",className:"md:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-colors duration-200",onClick:()=>t(!e),children:e?a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),e&&a.jsx("div",{className:"md:hidden border-t border-gray-200 py-4",children:a.jsxs("div",{className:"space-y-1",children:[v.map(k=>a.jsx(ht,{to:k.href,className:`block px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-200 ${_(k.href)?"bg-blue-50 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,onClick:()=>t(!1),children:k.name},k.name)),f?a.jsx("div",{className:"pt-2 border-t border-gray-200 mt-2",children:a.jsx("button",{onClick:()=>{C(),t(!1)},className:"block w-full text-right px-4 py-3 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",children:"خروج"})}):a.jsx("div",{className:"pt-2 border-t border-gray-200 mt-2",children:a.jsx("button",{onClick:()=>{i(!0),t(!1)},className:"block w-full text-center px-4 py-3 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors duration-200",children:"ورود | ثبت‌نام"})})]})})]}),a.jsx(Cg,{isOpen:r,onClose:()=>i(!1)})]})},D1=()=>{const e=new Date().getFullYear();return a.jsx("footer",{className:"bg-gray-900 text-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"md:col-span-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse mb-4",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-blue-400 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"F"})}),a.jsx("span",{className:"text-xl font-bold",children:"فایدو"})]}),a.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"پلتفرم باشگاه مشتریان که تجربه خرید شما را بهتر می‌کند. با فایدو از تخفیف‌های ویژه و امتیازات باشگاه مشتریان بهره‌مند شوید."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"شرکت"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(ht,{to:"/about",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:"درباره ما"})}),a.jsx("li",{children:a.jsx(ht,{to:"/contact",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:"تماس با ما"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"خدمات"}),a.jsx("ul",{className:"space-y-2",children:a.jsx("li",{children:a.jsx(ht,{to:"/businesses",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:"کسب‌وکارها"})})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"شبکه‌های اجتماعی"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:"اینستاگرام"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:"تلگرام"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:"لینکدین"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:"توییتر"})})]})]})]}),a.jsxs("div",{className:"border-t border-gray-700 mt-8 pt-8 flex flex-col sm:flex-row justify-between items-center",children:[a.jsxs("p",{className:"text-gray-400 text-sm",children:["© ",e," فایدو. تمام حقوق محفوظ است."]}),a.jsx("div",{className:"flex items-center space-x-4 space-x-reverse mt-4 sm:mt-0",children:a.jsx("span",{className:"text-gray-400 text-sm",children:"ساخته شده با ❤️ در ایران"})})]})]})})},Wa=({children:e})=>a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(E1,{}),a.jsx("main",{className:"pb-16",children:e}),a.jsx(D1,{})]}),Rl=({children:e,allowProfileAccess:t=!1})=>{const{user:r}=Ht();return r?t?a.jsx(a.Fragment,{children:e}):r.type==="customer"&&r.isProfileComplete===!1?a.jsx(Xa,{to:"/dashboard/profile",replace:!0}):r.type==="business"&&r.isProfileComplete===!1?a.jsx(Xa,{to:"/dashboard/profile",replace:!0}):a.jsx(a.Fragment,{children:e}):a.jsx(Xa,{to:"/",replace:!0})},Eg=()=>{const{user:e}=Ht(),t=!!e,[r,i]=z.useState(!1),l=[{title:"تخفیف‌های ویژه",description:"دسترسی به تخفیف‌های منحصر به فرد کسب‌وکارها",icon:"🎯"},{title:"امتیاز جمع‌آوری",description:"با هر خرید امتیاز جمع کنید و پاداش دریافت کنید",icon:"⭐"},{title:"سطح‌بندی کاربران",description:"با ارتقای سطح، تخفیف‌های بیشتری دریافت کنید",icon:"🏆"},{title:"تجربه‌های ویژه",description:"دسترسی به رویدادها و تجربه‌های اختصاصی",icon:"🎪"}],u=[{label:"کسب‌وکار فعال",value:"500+"},{label:"کاربر راضی",value:"10K+"},{label:"تخفیف فعال",value:"1K+"},{label:"شهر پوشش",value:"50+"}];return a.jsxs("div",{className:"min-h-screen",children:[a.jsx("section",{className:"bg-gradient-to-br from-blue-50 via-white to-purple-50 py-20",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["باشگاه مشتریان",a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:" فایدو"})]}),a.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"تجربه خرید بهتر با تخفیف‌های ویژه، امتیازجمع‌آوری و دسترسی به تجربه‌های منحصر به فرد"}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:t?a.jsxs(a.Fragment,{children:[a.jsx(ht,{to:"/businesses",className:"bg-blue-600 text-white px-8 py-4 rounded-xl font-semibold hover:bg-blue-700 transition-colors duration-200 shadow-lg hover:shadow-xl",children:"مشاهده کسب‌وکارها"}),a.jsx(ht,{to:"/test-users",className:"border-2 border-purple-300 text-purple-700 px-8 py-4 rounded-xl font-semibold hover:border-purple-400 hover:bg-purple-50 transition-all duration-200",children:"🧪 تست داشبوردها"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 text-white px-8 py-4 rounded-xl font-semibold hover:bg-blue-700 transition-colors duration-200 shadow-lg hover:shadow-xl",children:"شروع کنید - رایگان"}),a.jsx(ht,{to:"/businesses",className:"border-2 border-gray-300 text-gray-700 px-8 py-4 rounded-xl font-semibold hover:border-gray-400 hover:bg-gray-50 transition-all duration-200",children:"کسب‌وکارها"})]})})]})})}),a.jsx("section",{className:"py-16 bg-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:u.map((f,p)=>a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl md:text-4xl font-bold text-blue-600 mb-2",children:f.value}),a.jsx("div",{className:"text-gray-600 font-medium",children:f.label})]},p))})})}),a.jsx("section",{className:"py-20 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"چرا فایدو؟"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"پلتفرم جامع باشگاه مشتریان که تجربه خرید شما را متحول می‌کند"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:l.map((f,p)=>a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[a.jsx("div",{className:"text-4xl mb-4 text-center",children:f.icon}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 text-center",children:f.title}),a.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:f.description})]},p))})]})}),a.jsx("section",{className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"چگونه کار می‌کند؟"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"سه قدم ساده تا شروع سفر پرفایده شما"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"1"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"ثبت‌نام کنید"}),a.jsx("p",{className:"text-gray-600",children:"در چند ثانیه حساب کاربری خود را ایجاد کنید"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"2"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"خرید کنید"}),a.jsx("p",{className:"text-gray-600",children:"از کسب‌وکارهای عضو خرید کنید و امتیاز جمع کنید"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"3"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"پاداش بگیرید"}),a.jsx("p",{className:"text-gray-600",children:"امتیازهای خود را تبدیل به تخفیف و هدایا کنید"})]})]})]})}),a.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"آماده شروع هستید؟"}),a.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"همین الان عضو شوید و از تخفیف‌های ویژه و امتیازات باشگاه مشتریان بهره‌مند شوید"}),!t&&a.jsx("button",{onClick:()=>i(!0),className:"inline-block bg-white text-blue-600 px-8 py-4 rounded-xl font-semibold hover:bg-gray-100 transition-colors duration-200 shadow-lg hover:shadow-xl",children:"عضویت رایگان"})]})}),a.jsx(Cg,{isOpen:r,onClose:()=>i(!1)})]})},O1=()=>{const e=[{id:"1",name:"رستوران سنتی گلستان",category:"رستوران",rating:4.8,discount:"15%",image:"/api/placeholder/300/200",description:"غذاهای سنتی ایرانی با بهترین کیفیت"},{id:"2",name:"کافه فن‌جان",category:"کافه",rating:4.6,discount:"10%",image:"/api/placeholder/300/200",description:"قهوه تازه و محیط دنج"},{id:"3",name:"مرکز خرید آرمیتا",category:"خرید",rating:4.5,discount:"20%",image:"/api/placeholder/300/200",description:"تجربه خرید متفاوت"}],t=["همه","رستوران","کافه","خرید","ورزش","سلامت"];return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"کسب‌وکارها"}),a.jsx("p",{className:"text-xl text-gray-600",children:"بهترین کسب‌وکارها با تخفیف‌های ویژه"})]}),a.jsx("div",{className:"flex flex-wrap gap-4 justify-center mb-12",children:t.map(r=>a.jsx("button",{className:"px-6 py-2 rounded-full border border-gray-300 hover:border-blue-500 hover:text-blue-600 transition-colors duration-200",children:r},r))}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(r=>a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[a.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:a.jsx("div",{className:"w-full h-48 bg-gradient-to-r from-blue-100 to-purple-100 flex items-center justify-center",children:a.jsx("span",{className:"text-gray-500",children:"تصویر کسب‌وکار"})})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:r.name}),a.jsxs("span",{className:"bg-green-100 text-green-800 text-sm px-3 py-1 rounded-full",children:[r.discount," تخفیف"]})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-500",children:r.category}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-yellow-400",children:"⭐"}),a.jsx("span",{className:"text-sm text-gray-600 mr-1",children:r.rating})]})]}),a.jsx("button",{className:"w-full mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"مشاهده جزئیات"})]})]},r.id))})]})})},z1=()=>a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"درباره فایدو"}),a.jsx("p",{className:"text-xl text-gray-600",children:"پلتفرم باشگاه مشتریان که تجربه خرید را متحول می‌کند"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"داستان ما"}),a.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:"فایدو با هدف ایجاد پلی میان کسب‌وکارها و مشتریان طراحی شده است. ما معتقدیم که هر خرید باید تجربه‌ای لذت‌بخش و پرفایده باشد."}),a.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:"در فایدو، مشتریان می‌توانند از تخفیف‌های ویژه، امتیازجمع‌آوری و تجربه‌های منحصر به فرد بهره‌مند شوند. در همین حال، کسب‌وکارها می‌توانند پایگاه مشتریان وفادار خود را گسترش دهند."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center",children:[a.jsx("div",{className:"text-4xl mb-4",children:"🎯"}),a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"مأموریت ما"}),a.jsx("p",{className:"text-gray-600",children:"ایجاد تجربه خرید بهتر از طریق باشگاه مشتریان هوشمند"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center",children:[a.jsx("div",{className:"text-4xl mb-4",children:"👁️"}),a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"چشم‌انداز ما"}),a.jsx("p",{className:"text-gray-600",children:"تبدیل شدن به پلتفرم باشگاه مشتریان شماره یک ایران"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center",children:[a.jsx("div",{className:"text-4xl mb-4",children:"💎"}),a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"ارزش‌های ما"}),a.jsx("p",{className:"text-gray-600",children:"صداقت، کیفیت، نوآوری و تمرکز بر تجربه کاربری"})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"چرا فایدو؟"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex items-start space-x-4 space-x-reverse",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-green-600",children:"✓"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"تخفیف‌های ویژه"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"دسترسی به تخفیف‌های منحصر به فرد کسب‌وکارها"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4 space-x-reverse",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-green-600",children:"✓"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"امتیازجمع‌آوری"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"با هر خرید امتیاز بگیرید و پاداش دریافت کنید"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4 space-x-reverse",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-green-600",children:"✓"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"سطح‌بندی کاربران"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"برنزی، نقره‌ای و VIP با مزایای متفاوت"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4 space-x-reverse",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-green-600",children:"✓"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"تجربه‌های ویژه"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"دعوت به رویدادها و تجربه‌های اختصاصی"})]})]})]})]})]})}),I1=()=>a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"ارتباط با ما"}),a.jsx("p",{className:"text-xl text-gray-600",children:"ما همیشه آماده کمک و پاسخگویی به شما هستیم"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"پیام خود را ارسال کنید"}),a.jsxs("form",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"نام و نام خانوادگی"}),a.jsx("input",{type:"text",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"نام شما..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ایمیل"}),a.jsx("input",{type:"email",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"email@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"شماره تماس"}),a.jsx("input",{type:"tel",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"09123456789"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"موضوع"}),a.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[a.jsx("option",{value:"",children:"انتخاب کنید..."}),a.jsx("option",{value:"support",children:"پشتیبانی فنی"}),a.jsx("option",{value:"business",children:"همکاری کسب‌وکار"}),a.jsx("option",{value:"suggestion",children:"پیشنهاد و انتقاد"}),a.jsx("option",{value:"other",children:"سایر موارد"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"پیام شما"}),a.jsx("textarea",{rows:5,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none",placeholder:"پیام خود را اینجا بنویسید..."})]}),a.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:"ارسال پیام"})]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"اطلاعات تماس"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start space-x-4 space-x-reverse",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600",children:"📍"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"آدرس دفتر مرکزی"}),a.jsx("p",{className:"text-gray-600",children:"تهران، خیابان ولیعصر، پلاک ۱۲۳"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4 space-x-reverse",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600",children:"📞"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"شماره تماس"}),a.jsx("p",{className:"text-gray-600",children:"۰۲۱-۱۲۳۴۵۶۷۸"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4 space-x-reverse",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600",children:"✉️"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"ایمیل"}),a.jsx("p",{className:"text-gray-600",children:"info@faydo.ir"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4 space-x-reverse",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-blue-600",children:"🕒"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"ساعات کاری"}),a.jsx("p",{className:"text-gray-600",children:"شنبه تا پنج‌شنبه: ۹:۰۰ تا ۱۸:۰۰"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"پشتیبانی سریع"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"برای پشتیبانی فوری می‌توانید از طریق پیام رسان‌های زیر با ما در ارتباط باشید:"}),a.jsxs("div",{className:"flex space-x-4 space-x-reverse",children:[a.jsx("button",{className:"flex-1 bg-blue-500 text-white py-3 px-4 rounded-lg hover:bg-blue-600 transition-colors",children:"تلگرام"}),a.jsx("button",{className:"flex-1 bg-green-500 text-white py-3 px-4 rounded-lg hover:bg-green-600 transition-colors",children:"واتساپ"})]})]})]})]})]})}),R1=()=>{const e=[{title:"داشبورد کسب‌وکار",username:"business",password:"test123",name:"رستوران گلستان",description:"مدیریت تخفیف‌ها، مشتریان، فروش و گزارش‌ها",color:"from-blue-500 to-cyan-500",icon:"🏢"},{title:"داشبورد مشتری",username:"customer",password:"test123",name:"احمد محمدی",description:"مشاهده امتیازات، پیشنهادات، تراکنش‌ها و اسکن QR",color:"from-purple-500 to-pink-500",icon:"👤"},{title:"داشبورد مدیر IT",username:"admin",password:"test123",name:"مدیر سیستم",description:"مانیتورینگ سیستم، مدیریت کاربران و گزارش‌های فنی",color:"from-green-500 to-emerald-500",icon:"🖥️"}],t=r=>{navigator.clipboard.writeText(r)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 py-12",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"کاربران تستی داشبورد فایدو 🧪"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"برای تست داشبوردهای مختلف، از کاربران زیر استفاده کنید"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:e.map((r,i)=>a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 hover:shadow-2xl transition-all duration-300 hover:-translate-y-2",children:[a.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${r.color} rounded-2xl flex items-center justify-center mb-6 mx-auto`,children:a.jsx("span",{className:"text-white text-2xl",children:r.icon})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 text-center",children:r.title}),a.jsx("p",{className:"text-gray-600 text-center mb-6",children:r.description}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"نام کاربری:"}),a.jsx("button",{onClick:()=>t(r.username),className:"text-blue-600 hover:text-blue-800 font-mono bg-blue-50 px-2 py-1 rounded",children:r.username})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"رمز عبور:"}),a.jsx("button",{onClick:()=>t(r.password),className:"text-blue-600 hover:text-blue-800 font-mono bg-blue-50 px-2 py-1 rounded",children:r.password})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["نام نمایشی: ",a.jsx("strong",{children:r.name})]}),a.jsxs(ht,{to:"/login",className:`inline-flex items-center px-6 py-3 bg-gradient-to-r ${r.color} text-white font-medium rounded-xl hover:shadow-lg transition-all duration-300 hover:-translate-y-1`,children:["ورود به داشبورد",a.jsx("span",{className:"mr-2",children:"→"})]})]})]})]},i))}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"راهنمای استفاده 📖"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"مراحل تست:"}),a.jsxs("ol",{className:"space-y-3 text-gray-700",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold ml-3 mt-0.5",children:"1"}),a.jsx("span",{children:'روی دکمه "ورود به داشبورد" کلیک کنید'})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold ml-3 mt-0.5",children:"2"}),a.jsx("span",{children:"نام کاربری و رمز عبور مربوطه را وارد کنید"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold ml-3 mt-0.5",children:"3"}),a.jsx("span",{children:"داشبورد مربوط به نوع کاربر نمایش داده می‌شود"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold ml-3 mt-0.5",children:"4"}),a.jsx("span",{children:"برای تست کاربر دیگر، ابتدا خروج کنید"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ویژگی‌های قابل تست:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700",children:[a.jsxs("li",{className:"flex items-center",children:[a.jsx("span",{className:"text-green-500 ml-2",children:"✓"}),"سایدبار راست به چپ (RTL)"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("span",{className:"text-green-500 ml-2",children:"✓"}),"منوهای متفاوت برای هر نوع کاربر"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("span",{className:"text-green-500 ml-2",children:"✓"}),"کارت‌های آماری با انیمیشن"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("span",{className:"text-green-500 ml-2",children:"✓"}),"طراحی ایزومتریک مدرن"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("span",{className:"text-green-500 ml-2",children:"✓"}),"Responsive Design"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("span",{className:"text-green-500 ml-2",children:"✓"}),"فونت فارسی IRANYekan"]})]})]})]}),a.jsx("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-yellow-600 text-xl ml-2",children:"⚠️"}),a.jsxs("p",{className:"text-yellow-800",children:[a.jsx("strong",{children:"توجه:"})," این کاربران فقط برای تست محلی هستند و بدون اتصال به backend کار می‌کنند."]})]})})]}),a.jsx("div",{className:"text-center mt-8",children:a.jsx(ht,{to:"/",className:"text-blue-600 hover:text-blue-800 font-medium",children:"← بازگشت به صفحه اصلی"})})]})})},Gm=({type:e,value:t,alt:r="Icon",className:i="w-5 h-5"})=>{switch(e){case"emoji":return a.jsx("span",{className:"text-lg",children:t});case"image":return a.jsx("img",{src:t,alt:r,className:i,style:{objectFit:"contain"}});case"base64":return a.jsx("img",{src:`data:image/png;base64,${t}`,alt:r,className:i,style:{objectFit:"contain"}});case"url":return a.jsx("img",{src:t,alt:r,className:i,style:{objectFit:"contain"}});default:return a.jsx("span",{className:"text-lg",children:t})}},Dg=({forceClose:e=!1})=>{const{theme:t,setTheme:r,isDark:i}=Et(),[l,u]=z.useState(!1);z.useEffect(()=>{e&&u(!1)},[e]);const f=[{value:"light",label:"روشن",icon:"☀️"},{value:"dark",label:"تیره",icon:"🌙"},{value:"system",label:"سیستم",icon:"💻"}],p=f.find(v=>v.value===t);return a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>u(!l),className:`p-2 rounded-lg transition-colors ${i?"text-slate-400 hover:text-white hover:bg-slate-700 hover:bg-opacity-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,title:"تغییر تم",children:a.jsx("span",{className:"text-xl",children:p==null?void 0:p.icon})}),l&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>u(!1)}),a.jsx("div",{className:`absolute right-0 mt-2 w-40 rounded-lg shadow-lg border z-20 ${i?"bg-slate-800 border-slate-600":"bg-white border-gray-200"}`,children:a.jsx("div",{className:"py-1",children:f.map(v=>a.jsxs("button",{onClick:()=>{r(v.value),u(!1)},className:`w-full px-4 py-2 text-right flex items-center justify-between transition-colors ${t===v.value?"bg-teal-500 text-white":i?"text-slate-300 hover:bg-slate-700":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx("span",{className:"text-sm",children:v.label}),a.jsx("span",{children:v.icon})]},v.value))})})]})]})},mn=({children:e})=>{var b,w,P,I;const[t,r]=z.useState(!1),[i,l]=z.useState(!1),[u,f]=z.useState(!1),p=ei(),v=Wi(),{user:_,logout:C}=Ht(),{isDark:k}=Et(),M=async()=>{await C(),v("/")},O=()=>{r(!1),f(!0),setTimeout(()=>f(!1),100)},N=(()=>_?_.type==="business"?[{name:"داشبورد",href:"/dashboard",icon:"🏠",iconType:"emoji"},{name:"مدیریت پکیج ها",href:"/dashboard/packages",icon:"/src/assets/images/package.png",iconType:"image"},{name:"برندها",href:"/dashboard/brands",icon:"🏷️",iconType:"emoji"},{name:"پروفایل",href:"/dashboard/profile",icon:"👤",iconType:"emoji"}]:[{name:"پروفایل",href:"/dashboard/profile",icon:"👤",iconType:"emoji"},{name:"باشگاه ها",href:"/dashboard/clubs",icon:"/src/assets/images/club-icon.png",iconType:"image"},{name:"اکسپلور",href:"/dashboard/explore",icon:"/src/assets/images/explore.png",iconType:"image"},{name:"داشبورد",href:"/dashboard",icon:"🏠",iconType:"emoji"}]:[])(),S=A=>p.pathname===A;return a.jsxs("div",{className:`min-h-screen font-persian ${k?"bg-slate-900":"bg-gray-50"}`,style:{direction:"rtl"},children:[a.jsx("header",{className:`mobile-header sticky top-0 z-50 ${k?"bg-slate-800 border-slate-700":"bg-white border-gray-200"} border-b`,style:{direction:"ltr"},children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsxs("div",{className:"relative order-1",children:[a.jsx("button",{onClick:()=>l(!i),className:"flex items-center space-x-2 p-1 rounded-lg hover:bg-opacity-10 hover:bg-gray-500 transition-colors",children:_!=null&&_.avatar?a.jsx("img",{src:_.avatar,alt:_.name||"کاربر",className:"w-8 h-8 rounded-full object-cover border-2 border-teal-500"}):(_==null?void 0:_.type)==="business"?a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold text-sm",children:"🏢"})}):a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-teal-500 to-teal-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold text-sm",children:((b=_==null?void 0:_.name)==null?void 0:b.charAt(0))||((w=_==null?void 0:_.username)==null?void 0:w.charAt(0))||"ک"})})}),i&&a.jsxs("div",{className:"absolute top-12 left-0 w-48 bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-gray-200 dark:border-slate-700 py-2 z-50",children:[a.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-slate-700",children:[a.jsx("p",{className:`text-sm font-medium ${k?"text-white":"text-gray-900"}`,children:(_==null?void 0:_.name)||(_==null?void 0:_.username)||"کاربر"}),a.jsx("p",{className:`text-xs ${k?"text-slate-400":"text-gray-500"}`,children:(_==null?void 0:_.phone_number)||"شماره تماس"})]}),a.jsxs(ht,{to:"/dashboard/profile",className:`flex items-center px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-slate-700 ${k?"text-slate-300":"text-gray-700"}`,onClick:()=>l(!1),children:[a.jsx("span",{className:"ml-3",children:"👤"}),"پروفایل"]}),a.jsxs("button",{onClick:()=>{l(!1),M()},className:`w-full flex items-center px-4 py-2 text-sm hover:bg-red-50 dark:hover:bg-red-900 dark:hover:bg-opacity-20 ${k?"text-red-400":"text-red-600"}`,children:[a.jsx("span",{className:"ml-3",children:"🚪"}),"خروج"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 order-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-teal-500 to-teal-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"🤝"})}),a.jsx("h1",{className:`text-lg font-bold ${k?"text-white":"text-gray-900"}`,children:"فایدو"})]}),a.jsx("button",{onClick:()=>r(!0),className:`p-2 rounded-lg order-3 ${k?"text-white hover:bg-slate-700":"text-gray-700 hover:bg-gray-100"}`,children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),t&&a.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50",onClick:O}),i&&a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>l(!1)}),a.jsxs("div",{className:`fixed inset-y-0 right-0 z-50 w-68 transform ${t?"translate-x-0":"translate-x-full"} transition-transform duration-300 ease-in-out ${k?"bg-slate-800":"bg-white"} shadow-lg`,children:[a.jsxs("div",{className:`flex items-center justify-between p-4 border-b ${k?"border-slate-700":"border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-teal-500 to-blue-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold text-sm",children:((P=_==null?void 0:_.name)==null?void 0:P.charAt(0))||((I=_==null?void 0:_.username)==null?void 0:I.charAt(0))||"ک"})}),a.jsxs("div",{children:[a.jsx("div",{className:`text-sm font-medium ${k?"text-white":"text-gray-900"}`,children:(_==null?void 0:_.name)||(_==null?void 0:_.username)||"کاربر"}),a.jsx("div",{className:`text-xs ${k?"text-slate-400":"text-gray-500"}`,children:(_==null?void 0:_.phone_number)||"شماره تماس"})]})]}),a.jsx("button",{onClick:O,className:`p-2 rounded-lg ${k?"text-slate-400 hover:text-white":"text-gray-400 hover:text-gray-600"}`,children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("nav",{className:"flex-1 px-4 py-6",children:a.jsx("div",{className:"space-y-2",children:(()=>((_==null?void 0:_.type)==="business"?[{name:"داشبورد",href:"/dashboard",icon:"📊",iconType:"emoji"},{name:"مدیریت پکیج ها",href:"/dashboard/packages",icon:"/src/assets/images/package.png",iconType:"image"},{name:"پروفایل",href:"/dashboard/profile",icon:"👤",iconType:"emoji"},{name:"تنظیمات",href:"/dashboard/settings",icon:"⚙️",iconType:"emoji"}]:[{name:"پروفایل",href:"/dashboard/profile",icon:"👤",iconType:"emoji"},{name:"داشبورد",href:"/dashboard",icon:"📊",iconType:"emoji"},{name:"تنظیمات",href:"/dashboard/settings",icon:"⚙️",iconType:"emoji"}]).map(B=>a.jsxs(ht,{to:B.href,className:`flex items-center px-4 py-3 rounded-lg transition-colors ${S(B.href)?"bg-teal-500 text-white":k?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-gray-700 hover:bg-gray-100"}`,onClick:O,children:[a.jsx("div",{className:"ml-3",children:a.jsx(Gm,{type:B.iconType||"emoji",value:B.icon,alt:B.name,className:"w-5 h-5"})}),a.jsx("span",{children:B.name})]},B.name)))()})}),a.jsxs("div",{className:`p-4 border-t ${k?"border-slate-700":"border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("span",{className:`text-sm ${k?"text-slate-300":"text-gray-700"}`,children:"حالت تاریک"}),a.jsx(Dg,{forceClose:u})]}),a.jsxs("button",{onClick:M,className:`w-full flex items-center px-4 py-3 rounded-lg transition-colors ${k?"text-red-400 hover:bg-red-900 hover:bg-opacity-20":"text-red-600 hover:bg-red-50"}`,children:[a.jsx("span",{className:"text-lg ml-3",children:"🚪"}),a.jsx("span",{children:"خروج"})]})]})]}),a.jsx("main",{className:"pb-20",children:e}),a.jsx("nav",{className:`mobile-bottom-nav fixed bottom-0 left-0 right-0 ${k?"bg-slate-800 border-slate-700":"bg-white border-gray-200"} border-t`,children:a.jsx("div",{className:"flex items-center justify-around py-2",children:N.map(A=>a.jsxs(ht,{to:A.href,className:`flex flex-col items-center py-2 px-3 rounded-lg transition-colors ${S(A.href)?"text-teal-500":k?"text-slate-400 hover:text-white":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx("div",{className:"mb-1",children:a.jsx(Gm,{type:A.iconType||"emoji",value:A.icon,alt:A.name,className:"w-6 h-6"})}),a.jsx("span",{className:"text-xs",children:A.name})]},A.name))})})]})},A1=()=>{const{user:e}=Ht(),t=Wi(),[r,i]=z.useState([]),[l,u]=z.useState([]),[f,p]=z.useState(!0),[v,_]=z.useState(null),[C,k]=z.useState({category:"",sortBy:"",search:""});if(z.useEffect(()=>{if(e&&e.type!=="customer"){t("/dashboard");return}},[e,t]),!e)return a.jsx(mn,{children:a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(e.type!=="customer")return a.jsx(mn,{children:a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🚫"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"دسترسی محدود"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"این صفحه فقط برای مشتریان قابل دسترسی است"})]})})});z.useEffect(()=>{console.log("🔍 Explore component mounted"),console.log("🔍 User from localStorage:",localStorage.getItem("auth_user")),console.log("🔍 Access token:",localStorage.getItem("access_token")),M()},[]),z.useEffect(()=>{O()},[r,C]);const M=async()=>{try{p(!0),console.log("🔍 Loading packages...");const N=await pe.getPackages();if(console.log("📦 API Response:",N),N.data){console.log("📊 Raw packages:",N.data);const S=N.data.filter(b=>b.is_active&&b.status==="approved"&&b.is_complete);console.log("✅ Active packages:",S),i(S)}else{console.error("❌ No data in response:",N),console.log("🔧 Adding sample data for testing...");const S=[{id:1,business_name:"رستوران تست",is_active:!0,status:"approved",status_display:"تایید شده",is_complete:!0,created_at:new Date().toISOString(),modified_at:new Date().toISOString(),discount_percentage:20,elite_gift_title:"هدیه رایگان",vip_experiences_count:2}];i(S),_(null)}}catch(N){console.error("❌ Error loading packages:",N),_("خطا در دریافت پکیج‌ها")}finally{p(!1)}},O=()=>{console.log("🔍 Applying filters...",{packages:r.length,filters:C});let N=[...r];if(C.search){const S=C.search.toLowerCase();N=N.filter(b=>{var w,P;return((w=b.business_name)==null?void 0:w.toLowerCase().includes(S))||((P=b.elite_gift_title)==null?void 0:P.toLowerCase().includes(S))})}if(C.category,C.sortBy)switch(C.sortBy){case"discount_high":N.sort((S,b)=>(b.discount_percentage||0)-(S.discount_percentage||0));break;case"discount_low":N.sort((S,b)=>(S.discount_percentage||0)-(b.discount_percentage||0));break;case"newest":N.sort((S,b)=>new Date(b.created_at).getTime()-new Date(S.created_at).getTime());break}console.log("✅ Filtered packages:",N.length),u(N)},T=(N,S)=>{k(b=>({...b,[N]:S}))};return f?a.jsx(mn,{children:a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(mn,{children:a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"اکسپلور"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"بهترین پیشنهادات و تخفیف‌های ویژه را کشف کنید"})]}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"جستجو در کسب‌وکارها و پیشنهادات...",value:C.search,onChange:N=>T("search",N.target.value),className:"w-full pr-10 pl-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400"})]}),a.jsx("div",{children:a.jsxs("select",{className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white",value:C.sortBy,onChange:N=>T("sortBy",N.target.value),children:[a.jsx("option",{value:"",children:"مرتب‌سازی"}),a.jsx("option",{value:"newest",children:"جدیدترین"}),a.jsx("option",{value:"discount_high",children:"بیشترین تخفیف"}),a.jsx("option",{value:"discount_low",children:"کمترین تخفیف"})]})})]})}),v&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg",children:v}),l.length===0?a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-8 text-center shadow-sm border border-gray-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("svg",{className:"w-16 h-16 text-gray-400 dark:text-slate-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"پکیجی یافت نشد"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"متأسفانه پکیجی با این مشخصات یافت نشد. لطفاً فیلترهای خود را تغییر دهید."})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(N=>a.jsx(F1,{package:N},N.id))})]})})},F1=({package:e})=>{var r;const t=()=>{console.log("Package clicked:",e.id)};return a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden border border-gray-200 dark:border-slate-700 group",onClick:t,children:[a.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.business_logo?a.jsx("img",{src:e.business_logo,alt:e.business_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:i=>{var l;i.currentTarget.style.display="none",(l=i.currentTarget.nextElementSibling)==null||l.classList.remove("hidden")}}):null,a.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-blue-500 to-purple-600 group-hover:from-blue-600 group-hover:to-purple-700 transition-all duration-300 ${e.business_image?"hidden":""}`,children:a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center group-hover:bg-white/30 transition-all duration-300",children:a.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})})}),e.vip_experiences_count&&e.vip_experiences_count>0&&a.jsx("div",{className:"absolute bottom-4 right-4",children:a.jsx("div",{className:"bg-black/60 backdrop-blur-sm text-white px-3 py-1 rounded-lg text-sm font-medium",children:"VIP+"})}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsxs("div",{className:"bg-black/20 backdrop-blur-sm text-white px-2 py-1 rounded-lg text-sm flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 text-yellow-400 ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"4.8"]})})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white truncate",children:e.business_name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:((r=e.business_category)==null?void 0:r.name)||"کسب‌وکار"})]}),a.jsx("div",{className:"text-left",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 text-yellow-400 ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),a.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"4.8"})]})})]}),e.discount_percentage&&a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"inline-flex items-center bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 px-3 py-1 rounded-full text-sm font-medium",children:[a.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"%",e.discount_percentage," تخفیف"]})}),a.jsxs("div",{className:"space-y-2 mb-6",children:[e.elite_gift_title&&a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx("svg",{className:"w-4 h-4 text-blue-500 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})}),a.jsxs("span",{className:"text-gray-700 dark:text-slate-300",children:[e.elite_gift_title," ",e.elite_gift_count?`با ${e.elite_gift_count} خرید`:`با ${e.elite_gift_amount} تومان خرید`]})]}),e.vip_experiences_count&&e.vip_experiences_count>0&&a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx("svg",{className:"w-4 h-4 text-purple-500 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),a.jsxs("span",{className:"text-gray-700 dark:text-slate-300",children:["دسترسی VIP (",e.vip_experiences_count," تجربه)"]})]}),e.days_remaining&&a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx("svg",{className:"w-4 h-4 text-orange-500 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("span",{className:"text-gray-700 dark:text-slate-300",children:[e.days_remaining," روز باقی‌مانده"]})]})]}),a.jsx("div",{className:"text-left",children:a.jsxs("button",{className:"inline-flex items-center text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors group-hover:bg-blue-50 dark:group-hover:bg-blue-900/20 px-3 py-2 rounded-lg",children:["مشاهده جزئیات",a.jsx("svg",{className:"w-4 h-4 mr-1 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]})},zr=({children:e})=>{var M,O;const[t,r]=z.useState(!1),i=ei(),l=Wi(),{user:u,logout:f}=Ht(),{isDark:p}=Et(),v=async()=>{await f(),l("/")},C=(()=>u?u.type==="business"?[{name:"داشبورد",href:"/dashboard",icon:"📊"},{name:"پکیج‌ها",href:"/dashboard/packages",icon:"📦"},{name:"پروفایل",href:"/dashboard/profile",icon:"👤"},{name:"تنظیمات",href:"/dashboard/settings",icon:"⚙️"}]:u.type==="customer"?[{name:"داشبورد",href:"/dashboard",icon:"📊"},{name:"اکتشاف",href:"/dashboard/explore",icon:"🔍"},{name:"پروفایل",href:"/dashboard/profile",icon:"👤"},{name:"تنظیمات",href:"/dashboard/settings",icon:"⚙️"}]:[{name:"داشبورد",href:"/dashboard",icon:"📊"},{name:"پروفایل",href:"/dashboard/profile",icon:"👤"},{name:"تنظیمات",href:"/dashboard/settings",icon:"⚙️"}]:[])(),k=T=>i.pathname===T;return a.jsxs("div",{className:"min-h-screen dashboard-bg font-persian flex",style:{direction:"rtl"},children:[t&&a.jsx("div",{className:"fixed inset-0 z-40 lg:hidden bg-black bg-opacity-50",onClick:()=>r(!1)}),a.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 theme-sidebar transform ${t?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 flex flex-col`,children:[a.jsxs("div",{className:`flex items-center justify-between h-16 px-6 border-b ${p?"border-slate-600 border-opacity-30":"border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-teal-500 to-teal-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"🤝"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-teal-500 font-bold text-sm mr-1",children:"فایدو"}),a.jsx("div",{className:`text-xs opacity-80 ${p?"text-white":"text-gray-700"} mr-1`,children:"باشگاه مشتریان"})]})]}),a.jsx("button",{onClick:()=>r(!1),className:"lg:hidden text-slate-400 hover:text-white p-1 rounded",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("nav",{className:"flex-1 px-4 py-6",children:a.jsx("div",{className:"space-y-2",children:C.map(T=>a.jsxs(ht,{to:T.href,className:`group flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-200 ${k(T.href)?"bg-teal-500 text-white shadow-lg":p?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>r(!1),children:[a.jsx("span",{className:"text-lg mr-3",children:T.icon}),a.jsx("span",{className:"flex-1",children:T.name}),T.badge&&a.jsx("span",{className:"bg-orange-500 text-white text-xs px-2 py-1 rounded-full ml-2",children:T.badge})]},T.name))})}),a.jsx("div",{className:`p-4 border-t ${p?"border-slate-600 border-opacity-30":"border-gray-200"}`,children:a.jsxs("button",{onClick:v,className:`w-full flex items-center px-4 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${p?"text-red-400 hover:bg-red-900 hover:bg-opacity-20":"text-red-600 hover:bg-red-50"}`,children:[a.jsx("span",{className:"text-lg mr-3",children:"🚪"}),"خروج"]})})]}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-screen lg:pl-64",children:[a.jsx("header",{className:`theme-card sticky top-0 z-30 border-b ${p?"border-slate-600 border-opacity-30":"border-gray-200"}`,children:a.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsx("button",{onClick:()=>r(!0),className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Dg,{}),a.jsxs(ht,{to:"/dashboard/profile",className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:`text-sm font-medium ${p?"text-white":"text-gray-900"}`,children:(u==null?void 0:u.name)||(u==null?void 0:u.username)||"کاربر"}),a.jsx("div",{className:`text-xs ${p?"text-slate-400":"text-gray-500"}`,children:(u==null?void 0:u.phone_number)||"شماره تماس"})]}),a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-teal-500 to-teal-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold text-sm",children:((M=u==null?void 0:u.name)==null?void 0:M.charAt(0))||((O=u==null?void 0:u.username)==null?void 0:O.charAt(0))||"ک"})})]}),a.jsx("button",{onClick:v,className:`p-2 rounded-lg transition-colors ${p?"text-red-400 hover:text-red-300 hover:bg-red-900 hover:bg-opacity-20":"text-red-600 hover:text-red-700 hover:bg-red-50"}`,title:"خروج",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})})}),a.jsx("main",{className:"flex-1 p-8",children:e})]})]})},uh=()=>{var i;const{user:e}=Ht(),{isDark:t}=Et(),r=((i=e==null?void 0:e.businessProfile)==null?void 0:i.name)||(e==null?void 0:e.name)||"کسب‌وکار";return a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsx("div",{className:`${t?"bg-slate-800":"bg-white"} rounded-2xl p-6 shadow-sm`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:`text-xl font-bold ${t?"text-white":"text-gray-900"}`,children:["سلام ",r,"! خوش آمدید"]}),a.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-gray-600"}`,children:"چطور می‌تونیم کمکتون کنیم؟"})]}),a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-teal-500 to-blue-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-2xl",children:"👋"})})]})}),a.jsx("div",{className:`${t?"bg-slate-800":"bg-white"} rounded-2xl p-6 shadow-sm`,children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-teal-500 to-blue-500 rounded-full flex items-center justify-center mx-auto",children:a.jsx("span",{className:"text-white text-3xl",children:"📦"})}),a.jsxs("div",{children:[a.jsx("h3",{className:`text-xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"اولین پکیج خود را ایجاد کنید"}),a.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-gray-600"} leading-relaxed`,children:"برای شروع فعالیت در پلتفرم فایدو، ابتدا باید یک پکیج ایجاد کنید. پکیج شما شامل تخفیفات، هدایا و تجربیات ویژه برای مشتریان خواهد بود."})]}),a.jsxs("div",{className:"space-y-3 text-right",children:[a.jsx("div",{className:`p-3 rounded-lg ${t?"bg-slate-700":"bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[a.jsx("div",{className:"w-8 h-8 bg-teal-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"۱"}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"تعریف تخفیفات"}),a.jsx("p",{className:`text-xs ${t?"text-slate-400":"text-gray-600"}`,children:"تخفیف کلی و تخفیفات خاص برای محصولات یا خدمات"})]})]})}),a.jsx("div",{className:`p-3 rounded-lg ${t?"bg-slate-700":"bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[a.jsx("div",{className:"w-8 h-8 bg-teal-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"۲"}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"هدایای ویژه"}),a.jsx("p",{className:`text-xs ${t?"text-slate-400":"text-gray-600"}`,children:"تعریف هدایای ویژه برای مشتریان وفادار"})]})]})}),a.jsx("div",{className:`p-3 rounded-lg ${t?"bg-slate-700":"bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[a.jsx("div",{className:"w-8 h-8 bg-teal-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"۳"}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"تجربیات VIP"}),a.jsx("p",{className:`text-xs ${t?"text-slate-400":"text-gray-600"}`,children:"انتخاب تجربیات ویژه برای مشتریان VIP"})]})]})}),a.jsx("div",{className:`p-3 rounded-lg ${t?"bg-slate-700":"bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[a.jsx("div",{className:"w-8 h-8 bg-teal-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"۴"}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"تایید و فعال‌سازی"}),a.jsx("p",{className:`text-xs ${t?"text-slate-400":"text-gray-600"}`,children:"ارسال برای تایید و فعال‌سازی پکیج"})]})]})})]}),a.jsx("div",{className:"pt-4",children:a.jsxs(ht,{to:"/dashboard/packages",className:"inline-flex items-center space-x-2 space-x-reverse bg-gradient-to-r from-teal-500 to-blue-500 text-white px-6 py-3 rounded-lg font-medium hover:from-teal-600 hover:to-blue-600 transition-all duration-200 shadow-lg hover:shadow-xl",children:[a.jsx("span",{children:"ایجاد اولین پکیج"}),a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]})})]})}),a.jsxs("div",{className:`${t?"bg-slate-800":"bg-white"} rounded-2xl p-6 shadow-sm`,children:[a.jsx("h3",{className:`text-lg font-semibold mb-4 ${t?"text-white":"text-gray-900"}`,children:"مزایای ایجاد پکیج"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start space-x-3 space-x-reverse",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-green-600 text-sm",children:"✓"})}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"جذب مشتریان بیشتر"}),a.jsx("p",{className:`text-xs ${t?"text-slate-400":"text-gray-600"}`,children:"با تخفیفات و هدایای جذاب"})]})]}),a.jsxs("div",{className:"flex items-start space-x-3 space-x-reverse",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-green-600 text-sm",children:"✓"})}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"افزایش وفاداری مشتریان"}),a.jsx("p",{className:`text-xs ${t?"text-slate-400":"text-gray-600"}`,children:"با تجربیات VIP ویژه"})]})]}),a.jsxs("div",{className:"flex items-start space-x-3 space-x-reverse",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-green-600 text-sm",children:"✓"})}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"مدیریت بهتر فروش"}),a.jsx("p",{className:`text-xs ${t?"text-slate-400":"text-gray-600"}`,children:"با آمار و گزارش‌های دقیق"})]})]}),a.jsxs("div",{className:"flex items-start space-x-3 space-x-reverse",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-green-600 text-sm",children:"✓"})}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:"رقابت بهتر در بازار"}),a.jsx("p",{className:`text-xs ${t?"text-slate-400":"text-gray-600"}`,children:"با پکیج‌های متنوع و جذاب"})]})]})]})]}),a.jsx("div",{className:`${t?"bg-slate-800":"bg-white"} rounded-2xl p-6 shadow-sm`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:`text-lg font-semibold mb-2 ${t?"text-white":"text-gray-900"}`,children:"نیاز به راهنمایی دارید؟"}),a.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-gray-600"} mb-4`,children:"تیم پشتیبانی فایدو آماده کمک به شما است"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[a.jsx("button",{className:`px-4 py-2 rounded-lg border ${t?"border-slate-600 text-slate-300 hover:bg-slate-700":"border-gray-300 text-gray-700 hover:bg-gray-50"} transition-colors`,children:"📞 تماس با پشتیبانی"}),a.jsx("button",{className:`px-4 py-2 rounded-lg border ${t?"border-slate-600 text-slate-300 hover:bg-slate-700":"border-gray-300 text-gray-700 hover:bg-gray-50"} transition-colors`,children:"📖 راهنمای کامل"})]})]})})]})},Og=()=>{const[e,t]=z.useState([]),[r,i]=z.useState(!0),[l,u]=z.useState(null),f=async()=>{try{i(!0),u(null);const C=await pe.getPackages();C.data?t(C.data):C.error&&u(C.error)}catch(C){u("خطا در دریافت پکیج‌ها"),console.error("Error fetching packages:",C)}finally{i(!1)}};z.useEffect(()=>{f()},[]);const p=e.length>0,v=e.some(C=>C.is_active),_=e.some(C=>C.is_complete);return{packages:e,loading:r,error:l,hasPackages:p,hasActivePackages:v,hasCompletePackages:_,refetch:f}},$1=({title:e,icon:t,color:r,href:i})=>a.jsx(ht,{to:i,className:`mobile-service-card ${r} rounded-2xl p-4 text-white shadow-lg`,children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[a.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-2xl",children:t})}),a.jsx("span",{className:"text-sm font-medium",children:e})]})}),hd=({title:e,items:t})=>{const{isDark:r}=Et();return a.jsxs("div",{className:`${r?"bg-slate-800":"bg-white"} rounded-2xl p-4 shadow-sm`,children:[a.jsx("h3",{className:`font-semibold mb-4 ${r?"text-white":"text-gray-900"}`,children:e}),a.jsx("div",{className:"space-y-3",children:t.map((i,l)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:r?"text-slate-300":"text-gray-700",children:i.title}),i.status&&a.jsxs("span",{className:`${i.status==="active"?"status-active":i.status==="pending"?"status-pending":i.status==="validated"?"status-validated":"status-inactive"} px-2 py-1 rounded-full text-xs`,children:[i.status==="active"&&"Active",i.status==="pending"&&"Pending",i.status==="validated"&&"Validated",i.status==="inactive"&&"In Active"]})]},l))})]})},Y1=()=>{var v;const{isDark:e}=Et(),{user:t}=Ht(),{hasPackages:r,loading:i}=Og();if(i)return a.jsx(mn,{children:a.jsx("div",{className:"p-4 space-y-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-20 bg-gray-200 rounded-2xl"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded-2xl mt-4"})]})})});if((t==null?void 0:t.type)==="business"&&!r)return a.jsx(mn,{children:a.jsx(uh,{})});const l=[{title:"شرکای تبلیغاتی",icon:"🤝",color:"bg-teal-500",href:"/dashboard/affiliates"},{title:"برندها",icon:"🏷️",color:"bg-purple-500",href:"/dashboard/brands"},{title:"مشتریان",icon:"👥",color:"bg-orange-500",href:"/dashboard/clients"},{title:"آپلودها",icon:"📤",color:"bg-blue-500",href:"/dashboard/uploads"}],u=[{title:"Affiliates One",status:"active"},{title:"Top Casino Reviews",status:"active"},{title:"Gaming Partners",status:"pending"}],f=[{title:"Lucky Casino",status:"active"},{title:"Spin Palace",status:"active"},{title:"Royal Bets",status:"active"}],p=[{title:"Lucky Casino Performance",status:"validated"},{title:"Spin Palace Report",status:"pending"},{title:"Royal Bets Analytics",status:"pending"}];return a.jsx(mn,{children:a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsx("div",{className:`${e?"bg-slate-800":"bg-white"} rounded-2xl p-4 shadow-sm`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:`text-xl font-bold ${e?"text-white":"text-gray-900"}`,children:["سلام ",((v=t==null?void 0:t.businessProfile)==null?void 0:v.name)||(t==null?void 0:t.name)||"کسب‌وکار","! خوش آمدید"]}),a.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-gray-600"}`,children:"چطور می‌تونیم کمکتون کنیم؟"})]}),a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-teal-500 to-blue-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-2xl",children:"👋"})})]})}),a.jsxs("div",{children:[a.jsx("h3",{className:`text-lg font-semibold mb-4 ${e?"text-white":"text-gray-900"}`,children:"بخش‌ها"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.map(_=>a.jsx($1,{title:_.title,icon:_.icon,color:_.color,href:_.href},_.title))})]}),a.jsx("div",{className:`${e?"bg-slate-800":"bg-white"} rounded-2xl p-4 shadow-sm`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("input",{type:"text",placeholder:"جستجوی پزشک یا تخصص",className:`w-full pl-4 pr-10 py-3 rounded-lg border ${e?"border-slate-600 bg-slate-700 text-white placeholder-slate-400":"border-gray-300 bg-gray-50 text-gray-900 placeholder-gray-500"} focus:ring-2 focus:ring-teal-500 focus:border-transparent`}),a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:`h-5 w-5 ${e?"text-slate-400":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),a.jsx("button",{className:"bg-teal-500 text-white p-3 rounded-lg hover:bg-teal-600 transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})})})]})}),a.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:[a.jsx("button",{className:"bg-teal-500 text-white px-4 py-2 rounded-full text-sm whitespace-nowrap",children:"همه ⭐"}),a.jsx("button",{className:`px-4 py-2 rounded-full text-sm whitespace-nowrap border ${e?"border-slate-600 text-slate-300 hover:bg-slate-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"بالاترین امتیاز"}),a.jsx("button",{className:`px-4 py-2 rounded-full text-sm whitespace-nowrap border ${e?"border-slate-600 text-slate-300 hover:bg-slate-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"پزشکان فعال"}),a.jsx("button",{className:`px-4 py-2 rounded-full text-sm whitespace-nowrap border ${e?"border-slate-600 text-slate-300 hover:bg-slate-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"ارزان‌ترین"})]}),a.jsx(hd,{title:"Recent Affiliates",items:u}),a.jsx(hd,{title:"Recent Brands",items:f}),a.jsx(hd,{title:"Recent Uploads",items:p}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} rounded-2xl p-4 shadow-sm text-center`,children:[a.jsx("div",{className:"text-2xl font-bold text-teal-500 mb-1",children:"۲۴۰,۰۰۰"}),a.jsx("div",{className:`text-sm ${e?"text-slate-400":"text-gray-600"}`,children:"ویزیت حضوری"})]}),a.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} rounded-2xl p-4 shadow-sm text-center`,children:[a.jsx("div",{className:"text-2xl font-bold text-purple-500 mb-1",children:"۱۵۰,۰۰۰"}),a.jsx("div",{className:`text-sm ${e?"text-slate-400":"text-gray-600"}`,children:"مشاوره فوری"})]})]}),a.jsxs("div",{className:`${e?"bg-slate-800":"bg-white"} rounded-2xl p-4 shadow-sm`,children:[a.jsx("h3",{className:`text-lg font-semibold mb-4 ${e?"text-white":"text-gray-900"}`,children:"مشاوره فوری"}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-blue-500",children:"📞"})}),a.jsxs("div",{children:[a.jsx("div",{className:`font-medium ${e?"text-white":"text-gray-900"}`,children:"مشاوره تلفنی"}),a.jsx("div",{className:`text-sm ${e?"text-slate-400":"text-gray-600"}`,children:"۵ دقیقه کمک با پزشک"})]})]}),a.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-600 transition-colors",children:"دریافت مشاوره فوری"})]})})]}),a.jsx("div",{className:"h-4"})]})})},qm=()=>{var l;const{isDark:e}=Et(),{user:t}=Ht(),{hasPackages:r,loading:i}=Og();return i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"md:hidden",children:a.jsx("div",{className:"p-4 space-y-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-20 bg-gray-200 rounded-2xl"}),a.jsx("div",{className:"h-32 bg-gray-200 rounded-2xl mt-4"})]})})}),a.jsx("div",{className:"hidden md:block",children:a.jsx(zr,{children:a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-8"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(u=>a.jsx("div",{className:"h-32 bg-gray-200 rounded-2xl"},u))})]})})})})]}):(t==null?void 0:t.type)==="business"&&!r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"md:hidden",children:a.jsx(uh,{})}),a.jsx("div",{className:"hidden md:block",children:a.jsx(zr,{children:a.jsx(uh,{})})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"md:hidden",children:a.jsx(Y1,{})}),a.jsx("div",{className:"hidden md:block",children:a.jsx(zr,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h1",{className:`text-3xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Admin Dashboard"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{className:"px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors",children:"Overviews"}),a.jsx("button",{className:`px-4 py-2 transition-colors ${e?"text-slate-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:"Affiliates"}),a.jsx("button",{className:`px-4 py-2 transition-colors ${e?"text-slate-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:"Brands"}),a.jsx("button",{className:`px-4 py-2 transition-colors ${e?"text-slate-400 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:"Clients"})]})]}),a.jsx("div",{className:`${e?"bg-slate-800":"bg-white"} rounded-2xl p-6 shadow-sm mb-8`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:`text-2xl font-bold ${e?"text-white":"text-gray-900"}`,children:["سلام ",((l=t==null?void 0:t.businessProfile)==null?void 0:l.name)||(t==null?void 0:t.name)||"کسب‌وکار","! خوش آمدید"]}),a.jsx("p",{className:`text-sm ${e?"text-slate-400":"text-gray-600"}`,children:"چطور می‌تونیم کمکتون کنیم؟"})]}),a.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-teal-500 to-blue-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-3xl",children:"👋"})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"stat-card-teal rounded-2xl p-6 text-white relative overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold",children:"24"}),a.jsx("div",{className:"text-sm opacity-80",children:"Total Affiliates"})]})]}),a.jsx("div",{className:"text-sm opacity-80",children:"+2.0% Last month"})]}),a.jsxs("div",{className:"stat-card-purple rounded-2xl p-6 text-white relative overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})})}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold",children:"12"}),a.jsx("div",{className:"text-sm opacity-80",children:"Active Brands"})]})]}),a.jsx("div",{className:"text-sm opacity-80",children:"+1.0% Last month"})]}),a.jsxs("div",{className:"stat-card-orange rounded-2xl p-6 text-white relative overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold",children:"36"}),a.jsx("div",{className:"text-sm opacity-80",children:"Active Deals"})]})]}),a.jsx("div",{className:"text-sm opacity-80",children:"+4.0% Last month"})]}),a.jsxs("div",{className:"stat-card-pink rounded-2xl p-6 text-white relative overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold",children:"142%"}),a.jsx("div",{className:"text-sm opacity-80",children:"Average ROI"})]})]}),a.jsx("div",{className:"text-sm opacity-80",children:"+12% Last month"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"theme-card rounded-2xl p-6",children:[a.jsx("h3",{className:`font-semibold mb-6 ${e?"text-white":"text-gray-900"}`,children:"Recent Affiliates"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:e?"text-slate-300":"text-gray-700",children:"Affiliates One"}),a.jsx("span",{className:"status-active px-2 py-1 rounded-full text-xs",children:"Active"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:e?"text-slate-300":"text-gray-700",children:"Top Casino Reviews"}),a.jsx("span",{className:"status-active px-2 py-1 rounded-full text-xs",children:"Active"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:e?"text-slate-300":"text-gray-700",children:"Gaming Partners"}),a.jsx("span",{className:"status-pending px-2 py-1 rounded-full text-xs",children:"Pending"})]})]})]}),a.jsxs("div",{className:"theme-card rounded-2xl p-6",children:[a.jsx("h3",{className:`font-semibold mb-6 ${e?"text-white":"text-gray-900"}`,children:"Recent Brands"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:e?"text-slate-300":"text-gray-700",children:"Lucky Casino"}),a.jsx("span",{className:"status-active px-2 py-1 rounded-full text-xs",children:"Active"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:e?"text-slate-300":"text-gray-700",children:"Spin Palace"}),a.jsx("span",{className:"status-active px-2 py-1 rounded-full text-xs",children:"Active"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:e?"text-slate-300":"text-gray-700",children:"Royal Bets"}),a.jsx("span",{className:"status-active px-2 py-1 rounded-full text-xs",children:"Active"})]})]})]}),a.jsxs("div",{className:"theme-card rounded-2xl p-6",children:[a.jsx("h3",{className:`font-semibold mb-6 ${e?"text-white":"text-gray-900"}`,children:"Recent Uploads"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:e?"text-slate-300":"text-gray-700",children:"Lucky Casino Performance"}),a.jsx("span",{className:"status-validated px-2 py-1 rounded-full text-xs",children:"Validated"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:e?"text-slate-300":"text-gray-700",children:"Spin Palace Report"}),a.jsx("span",{className:"status-pending px-2 py-1 rounded-full text-xs",children:"Pending"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:e?"text-slate-300":"text-gray-700",children:"Royal Bets Analytics"}),a.jsx("span",{className:"status-pending px-2 py-1 rounded-full text-xs",children:"Pending"})]})]})]})]}),a.jsx("div",{className:"theme-card rounded-2xl p-6 mt-8",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:`border-b ${e?"border-slate-600 border-opacity-30":"border-gray-200"}`,children:[a.jsx("th",{className:`py-4 px-6 font-medium ${e?"text-slate-400":"text-gray-600"}`,children:"Company"}),a.jsx("th",{className:`py-4 px-6 font-medium ${e?"text-slate-400":"text-gray-600"}`,children:"Manager"}),a.jsx("th",{className:`py-4 px-6 font-medium ${e?"text-slate-400":"text-gray-600"}`,children:"Email"}),a.jsx("th",{className:`py-4 px-6 font-medium ${e?"text-slate-400":"text-gray-600"}`,children:"Traffic Sources"}),a.jsx("th",{className:`py-4 px-6 font-medium ${e?"text-slate-400":"text-gray-600"}`,children:"Status"}),a.jsx("th",{className:`py-4 px-6 font-medium ${e?"text-slate-400":"text-gray-600"}`,children:"Actions"})]})}),a.jsxs("tbody",{className:e?"text-slate-300":"text-gray-700",children:[a.jsxs("tr",{className:`border-b transition-colors ${e?"border-slate-600 border-opacity-20 hover:bg-slate-700 hover:bg-opacity-30":"border-gray-200 hover:bg-gray-50"}`,children:[a.jsx("td",{className:"py-4 px-6",children:"Affiliate One"}),a.jsx("td",{className:"py-4 px-6",children:"John Doe"}),a.jsx("td",{className:"py-4 px-6",children:"john@affiliateone.com"}),a.jsx("td",{className:"py-4 px-6",children:"-"}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:"status-active px-2 py-1 rounded-full text-xs",children:"Active"})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("button",{className:e?"text-slate-400 hover:text-white":"text-gray-400 hover:text-gray-700",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})})]}),a.jsxs("tr",{className:`border-b transition-colors ${e?"border-slate-600 border-opacity-20 hover:bg-slate-700 hover:bg-opacity-30":"border-gray-200 hover:bg-gray-50"}`,children:[a.jsx("td",{className:"py-4 px-6",children:"Top Casino Reviews"}),a.jsx("td",{className:"py-4 px-6",children:"Jane Smith"}),a.jsx("td",{className:"py-4 px-6",children:"jane@tcreviews.com"}),a.jsx("td",{className:"py-4 px-6",children:"-"}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:"status-active px-2 py-1 rounded-full text-xs",children:"Active"})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("button",{className:e?"text-slate-400 hover:text-white":"text-gray-400 hover:text-gray-700",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})})]}),a.jsxs("tr",{className:`border-b transition-colors ${e?"border-slate-600 border-opacity-20 hover:bg-slate-700 hover:bg-opacity-30":"border-gray-200 hover:bg-gray-50"}`,children:[a.jsx("td",{className:"py-4 px-6",children:"Gaming Partners"}),a.jsx("td",{className:"py-4 px-6",children:"Mike Johnson"}),a.jsx("td",{className:"py-4 px-6",children:"mike@gamingpartners.com"}),a.jsx("td",{className:"py-4 px-6",children:"-"}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:"status-pending px-2 py-1 rounded-full text-xs",children:"Pending"})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("button",{className:e?"text-slate-400 hover:text-white":"text-gray-400 hover:text-gray-700",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})})]}),a.jsxs("tr",{className:`border-b transition-colors ${e?"border-slate-600 border-opacity-20 hover:bg-slate-700 hover:bg-opacity-30":"border-gray-200 hover:bg-gray-50"}`,children:[a.jsx("td",{className:"py-4 px-6",children:"Bet Promoters"}),a.jsx("td",{className:"py-4 px-6",children:"Lisa Brown"}),a.jsx("td",{className:"py-4 px-6",children:"lisa@betpromoters.com"}),a.jsx("td",{className:"py-4 px-6",children:"-"}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:"status-active px-2 py-1 rounded-full text-xs",children:"Active"})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("button",{className:e?"text-slate-400 hover:text-white":"text-gray-400 hover:text-gray-700",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})})]}),a.jsxs("tr",{className:`border-b transition-colors ${e?"border-slate-600 border-opacity-20 hover:bg-slate-700 hover:bg-opacity-30":"border-gray-200 hover:bg-gray-50"}`,children:[a.jsx("td",{className:"py-4 px-6",children:"Casino Affiliates"}),a.jsx("td",{className:"py-4 px-6",children:"David Wilson"}),a.jsx("td",{className:"py-4 px-6",children:"david@casinoaffiliates.com"}),a.jsx("td",{className:"py-4 px-6",children:"-"}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:"status-inactive px-2 py-1 rounded-full text-xs",children:"In Active"})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("button",{className:e?"text-slate-400 hover:text-white":"text-gray-400 hover:text-gray-700",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})})]}),a.jsxs("tr",{className:`transition-colors ${e?"hover:bg-slate-700 hover:bg-opacity-30":"hover:bg-gray-50"}`,children:[a.jsx("td",{className:"py-4 px-6",children:"Top Casino Reviews"}),a.jsx("td",{className:"py-4 px-6",children:"Jane Smith"}),a.jsx("td",{className:"py-4 px-6",children:"jane@tcreviews.com"}),a.jsx("td",{className:"py-4 px-6",children:"-"}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("span",{className:"status-active px-2 py-1 rounded-full text-xs",children:"Active"})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("button",{className:e?"text-slate-400 hover:text-white":"text-gray-400 hover:text-gray-700",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})})]})]})]})})})]})})})]})};function B1(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zg={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(ap,function(){var r;function i(){return r.apply(null,arguments)}function l(o){r=o}function u(o){return o instanceof Array||Object.prototype.toString.call(o)==="[object Array]"}function f(o){return o!=null&&Object.prototype.toString.call(o)==="[object Object]"}function p(o,d){return Object.prototype.hasOwnProperty.call(o,d)}function v(o){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(o).length===0;var d;for(d in o)if(p(o,d))return!1;return!0}function _(o){return o===void 0}function C(o){return typeof o=="number"||Object.prototype.toString.call(o)==="[object Number]"}function k(o){return o instanceof Date||Object.prototype.toString.call(o)==="[object Date]"}function M(o,d){var m=[],x,j=o.length;for(x=0;x<j;++x)m.push(d(o[x],x));return m}function O(o,d){for(var m in d)p(d,m)&&(o[m]=d[m]);return p(d,"toString")&&(o.toString=d.toString),p(d,"valueOf")&&(o.valueOf=d.valueOf),o}function T(o,d,m,x){return Go(o,d,m,x,!0).utc()}function N(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function S(o){return o._pf==null&&(o._pf=N()),o._pf}var b;Array.prototype.some?b=Array.prototype.some:b=function(o){var d=Object(this),m=d.length>>>0,x;for(x=0;x<m;x++)if(x in d&&o.call(this,d[x],x,d))return!0;return!1};function w(o){var d=null,m=!1,x=o._d&&!isNaN(o._d.getTime());if(x&&(d=S(o),m=b.call(d.parsedDateParts,function(j){return j!=null}),x=d.overflow<0&&!d.empty&&!d.invalidEra&&!d.invalidMonth&&!d.invalidWeekday&&!d.weekdayMismatch&&!d.nullInput&&!d.invalidFormat&&!d.userInvalidated&&(!d.meridiem||d.meridiem&&m),o._strict&&(x=x&&d.charsLeftOver===0&&d.unusedTokens.length===0&&d.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(o))o._isValid=x;else return x;return o._isValid}function P(o){var d=T(NaN);return o!=null?O(S(d),o):S(d).userInvalidated=!0,d}var I=i.momentProperties=[],A=!1;function B(o,d){var m,x,j,D=I.length;if(_(d._isAMomentObject)||(o._isAMomentObject=d._isAMomentObject),_(d._i)||(o._i=d._i),_(d._f)||(o._f=d._f),_(d._l)||(o._l=d._l),_(d._strict)||(o._strict=d._strict),_(d._tzm)||(o._tzm=d._tzm),_(d._isUTC)||(o._isUTC=d._isUTC),_(d._offset)||(o._offset=d._offset),_(d._pf)||(o._pf=S(d)),_(d._locale)||(o._locale=d._locale),D>0)for(m=0;m<D;m++)x=I[m],j=d[x],_(j)||(o[x]=j);return o}function V(o){B(this,o),this._d=new Date(o._d!=null?o._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),A===!1&&(A=!0,i.updateOffset(this),A=!1)}function Q(o){return o instanceof V||o!=null&&o._isAMomentObject!=null}function ce(o){i.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+o)}function ne(o,d){var m=!0;return O(function(){if(i.deprecationHandler!=null&&i.deprecationHandler(null,o),m){var x=[],j,D,$,re=arguments.length;for(D=0;D<re;D++){if(j="",typeof arguments[D]=="object"){j+=`
[`+D+"] ";for($ in arguments[0])p(arguments[0],$)&&(j+=$+": "+arguments[0][$]+", ");j=j.slice(0,-2)}else j=arguments[D];x.push(j)}ce(o+`
Arguments: `+Array.prototype.slice.call(x).join("")+`
`+new Error().stack),m=!1}return d.apply(this,arguments)},d)}var ge={};function X(o,d){i.deprecationHandler!=null&&i.deprecationHandler(o,d),ge[o]||(ce(d),ge[o]=!0)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null;function U(o){return typeof Function<"u"&&o instanceof Function||Object.prototype.toString.call(o)==="[object Function]"}function ae(o){var d,m;for(m in o)p(o,m)&&(d=o[m],U(d)?this[m]=d:this["_"+m]=d);this._config=o,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Y(o,d){var m=O({},o),x;for(x in d)p(d,x)&&(f(o[x])&&f(d[x])?(m[x]={},O(m[x],o[x]),O(m[x],d[x])):d[x]!=null?m[x]=d[x]:delete m[x]);for(x in o)p(o,x)&&!p(d,x)&&f(o[x])&&(m[x]=O({},m[x]));return m}function de(o){o!=null&&this.set(o)}var je;Object.keys?je=Object.keys:je=function(o){var d,m=[];for(d in o)p(o,d)&&m.push(d);return m};var W={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function le(o,d,m){var x=this._calendar[o]||this._calendar.sameElse;return U(x)?x.call(d,m):x}function H(o,d,m){var x=""+Math.abs(o),j=d-x.length,D=o>=0;return(D?m?"+":"":"-")+Math.pow(10,Math.max(0,j)).toString().substr(1)+x}var ie=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,he=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ee={},ye={};function J(o,d,m,x){var j=x;typeof x=="string"&&(j=function(){return this[x]()}),o&&(ye[o]=j),d&&(ye[d[0]]=function(){return H(j.apply(this,arguments),d[1],d[2])}),m&&(ye[m]=function(){return this.localeData().ordinal(j.apply(this,arguments),o)})}function K(o){return o.match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"")}function we(o){var d=o.match(ie),m,x;for(m=0,x=d.length;m<x;m++)ye[d[m]]?d[m]=ye[d[m]]:d[m]=K(d[m]);return function(j){var D="",$;for($=0;$<x;$++)D+=U(d[$])?d[$].call(j,o):d[$];return D}}function Fe(o,d){return o.isValid()?(d=An(d,o.localeData()),Ee[d]=Ee[d]||we(d),Ee[d](o)):o.localeData().invalidDate()}function An(o,d){var m=5;function x(j){return d.longDateFormat(j)||j}for(he.lastIndex=0;m>=0&&he.test(o);)o=o.replace(he,x),he.lastIndex=0,m-=1;return o}var Ks={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Qs(o){var d=this._longDateFormat[o],m=this._longDateFormat[o.toUpperCase()];return d||!m?d:(this._longDateFormat[o]=m.match(ie).map(function(x){return x==="MMMM"||x==="MM"||x==="DD"||x==="dddd"?x.slice(1):x}).join(""),this._longDateFormat[o])}var ti="Invalid date";function Xs(){return this._invalidDate}var Uc="%d",Mo=/\d{1,2}/;function Lo(o){return this._ordinal.replace("%d",o)}var ea={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ui(o,d,m,x){var j=this._relativeTime[m];return U(j)?j(o,d,m,x):j.replace(/%d/i,o)}function Zc(o,d){var m=this._relativeTime[o>0?"future":"past"];return U(m)?m(d):m.replace(/%s/i,d)}var ta={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function _t(o){return typeof o=="string"?ta[o]||ta[o.toLowerCase()]:void 0}function Zi(o){var d={},m,x;for(x in o)p(o,x)&&(m=_t(x),m&&(d[m]=o[x]));return d}var To={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Hc(o){var d=[],m;for(m in o)p(o,m)&&d.push({unit:m,priority:To[m]});return d.sort(function(x,j){return x.priority-j.priority}),d}var Co=/\d/,ft=/\d\d/,na=/\d{3}/,Hi=/\d{4}/,Vi=/[+-]?\d{6}/,Ie=/\d\d?/,ra=/\d\d\d\d?/,Eo=/\d\d\d\d\d\d?/,ni=/\d{1,3}/,ri=/\d{1,4}/,ii=/[+-]?\d{1,6}/,dr=/\d+/,Pn=/[+-]?\d+/,Vc=/Z|[+-]\d\d:?\d\d/gi,Gi=/Z|[+-]\d\d(?::?\d\d)?/gi,Do=/[+-]?\d+(\.\d{1,3})?/,hr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Fn=/^[1-9]\d?/,ia=/^([1-9]\d|\d)/,qi;qi={};function te(o,d,m){qi[o]=U(d)?d:function(x,j){return x&&m?m:d}}function Gc(o,d){return p(qi,o)?qi[o](d._strict,d._locale):new RegExp(qc(o))}function qc(o){return vn(o.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(d,m,x,j,D){return m||x||j||D}))}function vn(o){return o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function yt(o){return o<0?Math.ceil(o)||0:Math.floor(o)}function be(o){var d=+o,m=0;return d!==0&&isFinite(d)&&(m=yt(d)),m}var sa={};function De(o,d){var m,x=d,j;for(typeof o=="string"&&(o=[o]),C(d)&&(x=function(D,$){$[d]=be(D)}),j=o.length,m=0;m<j;m++)sa[o[m]]=x}function si(o,d){De(o,function(m,x,j,D){j._w=j._w||{},d(m,j._w,j,D)})}function an(o,d,m){d!=null&&p(sa,o)&&sa[o](d,m._a,m,o)}function oe(o){return o%4===0&&o%100!==0||o%400===0}var at=0,on=1,Vt=2,Xe=3,St=4,ln=5,Dt=6,Oo=7,Jc=8;J("Y",0,0,function(){var o=this.year();return o<=9999?H(o,4):"+"+o}),J(0,["YY",2],0,function(){return this.year()%100}),J(0,["YYYY",4],0,"year"),J(0,["YYYYY",5],0,"year"),J(0,["YYYYYY",6,!0],0,"year"),te("Y",Pn),te("YY",Ie,ft),te("YYYY",ri,Hi),te("YYYYY",ii,Vi),te("YYYYYY",ii,Vi),De(["YYYYY","YYYYYY"],at),De("YYYY",function(o,d){d[at]=o.length===2?i.parseTwoDigitYear(o):be(o)}),De("YY",function(o,d){d[at]=i.parseTwoDigitYear(o)}),De("Y",function(o,d){d[at]=parseInt(o,10)});function ai(o){return oe(o)?366:365}i.parseTwoDigitYear=function(o){return be(o)+(be(o)>68?1900:2e3)};var zo=$n("FullYear",!0);function Kc(){return oe(this.year())}function $n(o,d){return function(m){return m!=null?(li(this,o,m),i.updateOffset(this,d),this):oi(this,o)}}function oi(o,d){if(!o.isValid())return NaN;var m=o._d,x=o._isUTC;switch(d){case"Milliseconds":return x?m.getUTCMilliseconds():m.getMilliseconds();case"Seconds":return x?m.getUTCSeconds():m.getSeconds();case"Minutes":return x?m.getUTCMinutes():m.getMinutes();case"Hours":return x?m.getUTCHours():m.getHours();case"Date":return x?m.getUTCDate():m.getDate();case"Day":return x?m.getUTCDay():m.getDay();case"Month":return x?m.getUTCMonth():m.getMonth();case"FullYear":return x?m.getUTCFullYear():m.getFullYear();default:return NaN}}function li(o,d,m){var x,j,D,$,re;if(!(!o.isValid()||isNaN(m))){switch(x=o._d,j=o._isUTC,d){case"Milliseconds":return void(j?x.setUTCMilliseconds(m):x.setMilliseconds(m));case"Seconds":return void(j?x.setUTCSeconds(m):x.setSeconds(m));case"Minutes":return void(j?x.setUTCMinutes(m):x.setMinutes(m));case"Hours":return void(j?x.setUTCHours(m):x.setHours(m));case"Date":return void(j?x.setUTCDate(m):x.setDate(m));case"FullYear":break;default:return}D=m,$=o.month(),re=o.date(),re=re===29&&$===1&&!oe(D)?28:re,j?x.setUTCFullYear(D,$,re):x.setFullYear(D,$,re)}}function Qc(o){return o=_t(o),U(this[o])?this[o]():this}function Xc(o,d){if(typeof o=="object"){o=Zi(o);var m=Hc(o),x,j=m.length;for(x=0;x<j;x++)this[m[x].unit](o[m[x].unit])}else if(o=_t(o),U(this[o]))return this[o](d);return this}function eu(o,d){return(o%d+d)%d}var Ve;Array.prototype.indexOf?Ve=Array.prototype.indexOf:Ve=function(o){var d;for(d=0;d<this.length;++d)if(this[d]===o)return d;return-1};function aa(o,d){if(isNaN(o)||isNaN(d))return NaN;var m=eu(d,12);return o+=(d-m)/12,m===1?oe(o)?29:28:31-m%7%2}J("M",["MM",2],"Mo",function(){return this.month()+1}),J("MMM",0,0,function(o){return this.localeData().monthsShort(this,o)}),J("MMMM",0,0,function(o){return this.localeData().months(this,o)}),te("M",Ie,Fn),te("MM",Ie,ft),te("MMM",function(o,d){return d.monthsShortRegex(o)}),te("MMMM",function(o,d){return d.monthsRegex(o)}),De(["M","MM"],function(o,d){d[on]=be(o)-1}),De(["MMM","MMMM"],function(o,d,m,x){var j=m._locale.monthsParse(o,x,m._strict);j!=null?d[on]=j:S(m).invalidMonth=o});var oa="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),la=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Io=hr,ci=hr;function Me(o,d){return o?u(this._months)?this._months[o.month()]:this._months[(this._months.isFormat||la).test(d)?"format":"standalone"][o.month()]:u(this._months)?this._months:this._months.standalone}function Be(o,d){return o?u(this._monthsShort)?this._monthsShort[o.month()]:this._monthsShort[la.test(d)?"format":"standalone"][o.month()]:u(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Ji(o,d,m){var x,j,D,$=o.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],x=0;x<12;++x)D=T([2e3,x]),this._shortMonthsParse[x]=this.monthsShort(D,"").toLocaleLowerCase(),this._longMonthsParse[x]=this.months(D,"").toLocaleLowerCase();return m?d==="MMM"?(j=Ve.call(this._shortMonthsParse,$),j!==-1?j:null):(j=Ve.call(this._longMonthsParse,$),j!==-1?j:null):d==="MMM"?(j=Ve.call(this._shortMonthsParse,$),j!==-1?j:(j=Ve.call(this._longMonthsParse,$),j!==-1?j:null)):(j=Ve.call(this._longMonthsParse,$),j!==-1?j:(j=Ve.call(this._shortMonthsParse,$),j!==-1?j:null))}function mr(o,d,m){var x,j,D;if(this._monthsParseExact)return Ji.call(this,o,d,m);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),x=0;x<12;x++){if(j=T([2e3,x]),m&&!this._longMonthsParse[x]&&(this._longMonthsParse[x]=new RegExp("^"+this.months(j,"").replace(".","")+"$","i"),this._shortMonthsParse[x]=new RegExp("^"+this.monthsShort(j,"").replace(".","")+"$","i")),!m&&!this._monthsParse[x]&&(D="^"+this.months(j,"")+"|^"+this.monthsShort(j,""),this._monthsParse[x]=new RegExp(D.replace(".",""),"i")),m&&d==="MMMM"&&this._longMonthsParse[x].test(o))return x;if(m&&d==="MMM"&&this._shortMonthsParse[x].test(o))return x;if(!m&&this._monthsParse[x].test(o))return x}}function Yn(o,d){if(!o.isValid())return o;if(typeof d=="string"){if(/^\d+$/.test(d))d=be(d);else if(d=o.localeData().monthsParse(d),!C(d))return o}var m=d,x=o.date();return x=x<29?x:Math.min(x,aa(o.year(),m)),o._isUTC?o._d.setUTCMonth(m,x):o._d.setMonth(m,x),o}function Ki(o){return o!=null?(Yn(this,o),i.updateOffset(this,!0),this):oi(this,"Month")}function xe(){return aa(this.year(),this.month())}function Ge(o){return this._monthsParseExact?(p(this,"_monthsRegex")||ui.call(this),o?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=Io),this._monthsShortStrictRegex&&o?this._monthsShortStrictRegex:this._monthsShortRegex)}function ca(o){return this._monthsParseExact?(p(this,"_monthsRegex")||ui.call(this),o?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=ci),this._monthsStrictRegex&&o?this._monthsStrictRegex:this._monthsRegex)}function ui(){function o(fe,Pe){return Pe.length-fe.length}var d=[],m=[],x=[],j,D,$,re;for(j=0;j<12;j++)D=T([2e3,j]),$=vn(this.monthsShort(D,"")),re=vn(this.months(D,"")),d.push($),m.push(re),x.push(re),x.push($);d.sort(o),m.sort(o),x.sort(o),this._monthsRegex=new RegExp("^("+x.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function Ot(o,d,m,x,j,D,$){var re;return o<100&&o>=0?(re=new Date(o+400,d,m,x,j,D,$),isFinite(re.getFullYear())&&re.setFullYear(o)):re=new Date(o,d,m,x,j,D,$),re}function di(o){var d,m;return o<100&&o>=0?(m=Array.prototype.slice.call(arguments),m[0]=o+400,d=new Date(Date.UTC.apply(null,m)),isFinite(d.getUTCFullYear())&&d.setUTCFullYear(o)):d=new Date(Date.UTC.apply(null,arguments)),d}function Bn(o,d,m){var x=7+d-m,j=(7+di(o,0,x).getUTCDay()-d)%7;return-j+x-1}function Mn(o,d,m,x,j){var D=(7+m-x)%7,$=Bn(o,x,j),re=1+7*(d-1)+D+$,fe,Pe;return re<=0?(fe=o-1,Pe=ai(fe)+re):re>ai(o)?(fe=o+1,Pe=re-ai(o)):(fe=o,Pe=re),{year:fe,dayOfYear:Pe}}function $e(o,d,m){var x=Bn(o.year(),d,m),j=Math.floor((o.dayOfYear()-x-1)/7)+1,D,$;return j<1?($=o.year()-1,D=j+mt($,d,m)):j>mt(o.year(),d,m)?(D=j-mt(o.year(),d,m),$=o.year()+1):($=o.year(),D=j),{week:D,year:$}}function mt(o,d,m){var x=Bn(o,d,m),j=Bn(o+1,d,m);return(ai(o)-x+j)/7}J("w",["ww",2],"wo","week"),J("W",["WW",2],"Wo","isoWeek"),te("w",Ie,Fn),te("ww",Ie,ft),te("W",Ie,Fn),te("WW",Ie,ft),si(["w","ww","W","WW"],function(o,d,m,x){d[x.substr(0,1)]=be(o)});function hi(o){return $e(o,this._week.dow,this._week.doy).week}var fi={dow:0,doy:6};function ua(){return this._week.dow}function mi(){return this._week.doy}function da(o){var d=this.localeData().week(this);return o==null?d:this.add((o-d)*7,"d")}function ha(o){var d=$e(this,1,4).week;return o==null?d:this.add((o-d)*7,"d")}J("d",0,"do","day"),J("dd",0,0,function(o){return this.localeData().weekdaysMin(this,o)}),J("ddd",0,0,function(o){return this.localeData().weekdaysShort(this,o)}),J("dddd",0,0,function(o){return this.localeData().weekdays(this,o)}),J("e",0,0,"weekday"),J("E",0,0,"isoWeekday"),te("d",Ie),te("e",Ie),te("E",Ie),te("dd",function(o,d){return d.weekdaysMinRegex(o)}),te("ddd",function(o,d){return d.weekdaysShortRegex(o)}),te("dddd",function(o,d){return d.weekdaysRegex(o)}),si(["dd","ddd","dddd"],function(o,d,m,x){var j=m._locale.weekdaysParse(o,x,m._strict);j!=null?d.d=j:S(m).invalidWeekday=o}),si(["d","e","E"],function(o,d,m,x){d[x]=be(o)});function Qi(o,d){return typeof o!="string"?o:isNaN(o)?(o=d.weekdaysParse(o),typeof o=="number"?o:null):parseInt(o,10)}function fa(o,d){return typeof o=="string"?d.weekdaysParse(o)%7||7:isNaN(o)?null:o}function pi(o,d){return o.slice(d,7).concat(o.slice(0,d))}var Xi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ma="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),pa="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),tu=hr,me=hr,cn=hr;function Re(o,d){var m=u(this._weekdays)?this._weekdays:this._weekdays[o&&o!==!0&&this._weekdays.isFormat.test(d)?"format":"standalone"];return o===!0?pi(m,this._week.dow):o?m[o.day()]:m}function Ro(o){return o===!0?pi(this._weekdaysShort,this._week.dow):o?this._weekdaysShort[o.day()]:this._weekdaysShort}function ga(o){return o===!0?pi(this._weekdaysMin,this._week.dow):o?this._weekdaysMin[o.day()]:this._weekdaysMin}function xa(o,d,m){var x,j,D,$=o.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],x=0;x<7;++x)D=T([2e3,1]).day(x),this._minWeekdaysParse[x]=this.weekdaysMin(D,"").toLocaleLowerCase(),this._shortWeekdaysParse[x]=this.weekdaysShort(D,"").toLocaleLowerCase(),this._weekdaysParse[x]=this.weekdays(D,"").toLocaleLowerCase();return m?d==="dddd"?(j=Ve.call(this._weekdaysParse,$),j!==-1?j:null):d==="ddd"?(j=Ve.call(this._shortWeekdaysParse,$),j!==-1?j:null):(j=Ve.call(this._minWeekdaysParse,$),j!==-1?j:null):d==="dddd"?(j=Ve.call(this._weekdaysParse,$),j!==-1||(j=Ve.call(this._shortWeekdaysParse,$),j!==-1)?j:(j=Ve.call(this._minWeekdaysParse,$),j!==-1?j:null)):d==="ddd"?(j=Ve.call(this._shortWeekdaysParse,$),j!==-1||(j=Ve.call(this._weekdaysParse,$),j!==-1)?j:(j=Ve.call(this._minWeekdaysParse,$),j!==-1?j:null)):(j=Ve.call(this._minWeekdaysParse,$),j!==-1||(j=Ve.call(this._weekdaysParse,$),j!==-1)?j:(j=Ve.call(this._shortWeekdaysParse,$),j!==-1?j:null))}function va(o,d,m){var x,j,D;if(this._weekdaysParseExact)return xa.call(this,o,d,m);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),x=0;x<7;x++){if(j=T([2e3,1]).day(x),m&&!this._fullWeekdaysParse[x]&&(this._fullWeekdaysParse[x]=new RegExp("^"+this.weekdays(j,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[x]=new RegExp("^"+this.weekdaysShort(j,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[x]=new RegExp("^"+this.weekdaysMin(j,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[x]||(D="^"+this.weekdays(j,"")+"|^"+this.weekdaysShort(j,"")+"|^"+this.weekdaysMin(j,""),this._weekdaysParse[x]=new RegExp(D.replace(".",""),"i")),m&&d==="dddd"&&this._fullWeekdaysParse[x].test(o))return x;if(m&&d==="ddd"&&this._shortWeekdaysParse[x].test(o))return x;if(m&&d==="dd"&&this._minWeekdaysParse[x].test(o))return x;if(!m&&this._weekdaysParse[x].test(o))return x}}function Wn(o){if(!this.isValid())return o!=null?this:NaN;var d=oi(this,"Day");return o!=null?(o=Qi(o,this.localeData()),this.add(o-d,"d")):d}function _a(o){if(!this.isValid())return o!=null?this:NaN;var d=(this.day()+7-this.localeData()._week.dow)%7;return o==null?d:this.add(o-d,"d")}function gi(o){if(!this.isValid())return o!=null?this:NaN;if(o!=null){var d=fa(o,this.localeData());return this.day(this.day()%7?d:d-7)}else return this.day()||7}function ot(o){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||es.call(this),o?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=tu),this._weekdaysStrictRegex&&o?this._weekdaysStrictRegex:this._weekdaysRegex)}function Un(o){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||es.call(this),o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=me),this._weekdaysShortStrictRegex&&o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ao(o){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||es.call(this),o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=cn),this._weekdaysMinStrictRegex&&o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function es(){function o(Pt,Xn){return Xn.length-Pt.length}var d=[],m=[],x=[],j=[],D,$,re,fe,Pe;for(D=0;D<7;D++)$=T([2e3,1]).day(D),re=vn(this.weekdaysMin($,"")),fe=vn(this.weekdaysShort($,"")),Pe=vn(this.weekdays($,"")),d.push(re),m.push(fe),x.push(Pe),j.push(re),j.push(fe),j.push(Pe);d.sort(o),m.sort(o),x.sort(o),j.sort(o),this._weekdaysRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+x.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+d.join("|")+")","i")}function ya(){return this.hours()%12||12}function Fo(){return this.hours()||24}J("H",["HH",2],0,"hour"),J("h",["hh",2],0,ya),J("k",["kk",2],0,Fo),J("hmm",0,0,function(){return""+ya.apply(this)+H(this.minutes(),2)}),J("hmmss",0,0,function(){return""+ya.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),J("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),J("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)});function ts(o,d){J(o,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),d)})}ts("a",!0),ts("A",!1);function $o(o,d){return d._meridiemParse}te("a",$o),te("A",$o),te("H",Ie,ia),te("h",Ie,Fn),te("k",Ie,Fn),te("HH",Ie,ft),te("hh",Ie,ft),te("kk",Ie,ft),te("hmm",ra),te("hmmss",Eo),te("Hmm",ra),te("Hmmss",Eo),De(["H","HH"],Xe),De(["k","kk"],function(o,d,m){var x=be(o);d[Xe]=x===24?0:x}),De(["a","A"],function(o,d,m){m._isPm=m._locale.isPM(o),m._meridiem=o}),De(["h","hh"],function(o,d,m){d[Xe]=be(o),S(m).bigHour=!0}),De("hmm",function(o,d,m){var x=o.length-2;d[Xe]=be(o.substr(0,x)),d[St]=be(o.substr(x)),S(m).bigHour=!0}),De("hmmss",function(o,d,m){var x=o.length-4,j=o.length-2;d[Xe]=be(o.substr(0,x)),d[St]=be(o.substr(x,2)),d[ln]=be(o.substr(j)),S(m).bigHour=!0}),De("Hmm",function(o,d,m){var x=o.length-2;d[Xe]=be(o.substr(0,x)),d[St]=be(o.substr(x))}),De("Hmmss",function(o,d,m){var x=o.length-4,j=o.length-2;d[Xe]=be(o.substr(0,x)),d[St]=be(o.substr(x,2)),d[ln]=be(o.substr(j))});function Yo(o){return(o+"").toLowerCase().charAt(0)==="p"}var ke=/[ap]\.?m?\.?/i,nu=$n("Hours",!0);function Gt(o,d,m){return o>11?m?"pm":"PM":m?"am":"AM"}var pr={calendar:W,longDateFormat:Ks,invalidDate:ti,ordinal:Uc,dayOfMonthOrdinalParse:Mo,relativeTime:ea,months:oa,monthsShort:fr,week:fi,weekdays:Xi,weekdaysMin:pa,weekdaysShort:ma,meridiemParse:ke},Ae={},xi={},Zn;function ru(o,d){var m,x=Math.min(o.length,d.length);for(m=0;m<x;m+=1)if(o[m]!==d[m])return m;return x}function wa(o){return o&&o.toLowerCase().replace("_","-")}function iu(o){for(var d=0,m,x,j,D;d<o.length;){for(D=wa(o[d]).split("-"),m=D.length,x=wa(o[d+1]),x=x?x.split("-"):null;m>0;){if(j=gr(D.slice(0,m).join("-")),j)return j;if(x&&x.length>=m&&ru(D,x)>=m-1)break;m--}d++}return Zn}function su(o){return!!(o&&o.match("^[^/\\\\]*$"))}function gr(o){var d=null,m;if(Ae[o]===void 0&&e&&e.exports&&su(o))try{d=Zn._abbr,m=B1,m("./locale/"+o),Ln(d)}catch{Ae[o]=null}return Ae[o]}function Ln(o,d){var m;return o&&(_(d)?m=un(o):m=zt(o,d),m?Zn=m:typeof console<"u"&&console.warn&&console.warn("Locale "+o+" not found. Did you forget to load it?")),Zn._abbr}function zt(o,d){if(d!==null){var m,x=pr;if(d.abbr=o,Ae[o]!=null)X("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),x=Ae[o]._config;else if(d.parentLocale!=null)if(Ae[d.parentLocale]!=null)x=Ae[d.parentLocale]._config;else if(m=gr(d.parentLocale),m!=null)x=m._config;else return xi[d.parentLocale]||(xi[d.parentLocale]=[]),xi[d.parentLocale].push({name:o,config:d}),null;return Ae[o]=new de(Y(x,d)),xi[o]&&xi[o].forEach(function(j){zt(j.name,j.config)}),Ln(o),Ae[o]}else return delete Ae[o],null}function au(o,d){if(d!=null){var m,x,j=pr;Ae[o]!=null&&Ae[o].parentLocale!=null?Ae[o].set(Y(Ae[o]._config,d)):(x=gr(o),x!=null&&(j=x._config),d=Y(j,d),x==null&&(d.abbr=o),m=new de(d),m.parentLocale=Ae[o],Ae[o]=m),Ln(o)}else Ae[o]!=null&&(Ae[o].parentLocale!=null?(Ae[o]=Ae[o].parentLocale,o===Ln()&&Ln(o)):Ae[o]!=null&&delete Ae[o]);return Ae[o]}function un(o){var d;if(o&&o._locale&&o._locale._abbr&&(o=o._locale._abbr),!o)return Zn;if(!u(o)){if(d=gr(o),d)return d;o=[o]}return iu(o)}function Tn(){return je(Ae)}function ns(o){var d,m=o._a;return m&&S(o).overflow===-2&&(d=m[on]<0||m[on]>11?on:m[Vt]<1||m[Vt]>aa(m[at],m[on])?Vt:m[Xe]<0||m[Xe]>24||m[Xe]===24&&(m[St]!==0||m[ln]!==0||m[Dt]!==0)?Xe:m[St]<0||m[St]>59?St:m[ln]<0||m[ln]>59?ln:m[Dt]<0||m[Dt]>999?Dt:-1,S(o)._overflowDayOfYear&&(d<at||d>Vt)&&(d=Vt),S(o)._overflowWeeks&&d===-1&&(d=Oo),S(o)._overflowWeekday&&d===-1&&(d=Jc),S(o).overflow=d),o}var Bo=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ja=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ou=/Z|[+-]\d\d(?::?\d\d)?/,vi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],rs=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],lu=/^\/?Date\((-?\d+)/i,cu=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ba={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Wo(o){var d,m,x=o._i,j=Bo.exec(x)||ja.exec(x),D,$,re,fe,Pe=vi.length,Pt=rs.length;if(j){for(S(o).iso=!0,d=0,m=Pe;d<m;d++)if(vi[d][1].exec(j[1])){$=vi[d][0],D=vi[d][2]!==!1;break}if($==null){o._isValid=!1;return}if(j[3]){for(d=0,m=Pt;d<m;d++)if(rs[d][1].exec(j[3])){re=(j[2]||" ")+rs[d][0];break}if(re==null){o._isValid=!1;return}}if(!D&&re!=null){o._isValid=!1;return}if(j[4])if(ou.exec(j[4]))fe="Z";else{o._isValid=!1;return}o._f=$+(re||"")+(fe||""),_i(o)}else o._isValid=!1}function Uo(o,d,m,x,j,D){var $=[Zo(o),fr.indexOf(d),parseInt(m,10),parseInt(x,10),parseInt(j,10)];return D&&$.push(parseInt(D,10)),$}function Zo(o){var d=parseInt(o,10);return d<=49?2e3+d:d<=999?1900+d:d}function is(o){return o.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Hn(o,d,m){if(o){var x=ma.indexOf(o),j=new Date(d[0],d[1],d[2]).getDay();if(x!==j)return S(m).weekdayMismatch=!0,m._isValid=!1,!1}return!0}function uu(o,d,m){if(o)return ba[o];if(d)return 0;var x=parseInt(m,10),j=x%100,D=(x-j)/100;return D*60+j}function xr(o){var d=cu.exec(is(o._i)),m;if(d){if(m=Uo(d[4],d[3],d[2],d[5],d[6],d[7]),!Hn(d[1],m,o))return;o._a=m,o._tzm=uu(d[8],d[9],d[10]),o._d=di.apply(null,o._a),o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),S(o).rfc2822=!0}else o._isValid=!1}function It(o){var d=lu.exec(o._i);if(d!==null){o._d=new Date(+d[1]);return}if(Wo(o),o._isValid===!1)delete o._isValid;else return;if(xr(o),o._isValid===!1)delete o._isValid;else return;o._strict?o._isValid=!1:i.createFromInputFallback(o)}i.createFromInputFallback=ne("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(o){o._d=new Date(o._i+(o._useUTC?" UTC":""))});function Vn(o,d,m){return o??d??m}function Ho(o){var d=new Date(i.now());return o._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()]}function Na(o){var d,m,x=[],j,D,$;if(!o._d){for(j=Ho(o),o._w&&o._a[Vt]==null&&o._a[on]==null&&ka(o),o._dayOfYear!=null&&($=Vn(o._a[at],j[at]),(o._dayOfYear>ai($)||o._dayOfYear===0)&&(S(o)._overflowDayOfYear=!0),m=di($,0,o._dayOfYear),o._a[on]=m.getUTCMonth(),o._a[Vt]=m.getUTCDate()),d=0;d<3&&o._a[d]==null;++d)o._a[d]=x[d]=j[d];for(;d<7;d++)o._a[d]=x[d]=o._a[d]==null?d===2?1:0:o._a[d];o._a[Xe]===24&&o._a[St]===0&&o._a[ln]===0&&o._a[Dt]===0&&(o._nextDay=!0,o._a[Xe]=0),o._d=(o._useUTC?di:Ot).apply(null,x),D=o._useUTC?o._d.getUTCDay():o._d.getDay(),o._tzm!=null&&o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),o._nextDay&&(o._a[Xe]=24),o._w&&typeof o._w.d<"u"&&o._w.d!==D&&(S(o).weekdayMismatch=!0)}}function ka(o){var d,m,x,j,D,$,re,fe,Pe;d=o._w,d.GG!=null||d.W!=null||d.E!=null?(D=1,$=4,m=Vn(d.GG,o._a[at],$e(Se(),1,4).year),x=Vn(d.W,1),j=Vn(d.E,1),(j<1||j>7)&&(fe=!0)):(D=o._locale._week.dow,$=o._locale._week.doy,Pe=$e(Se(),D,$),m=Vn(d.gg,o._a[at],Pe.year),x=Vn(d.w,Pe.week),d.d!=null?(j=d.d,(j<0||j>6)&&(fe=!0)):d.e!=null?(j=d.e+D,(d.e<0||d.e>6)&&(fe=!0)):j=D),x<1||x>mt(m,D,$)?S(o)._overflowWeeks=!0:fe!=null?S(o)._overflowWeekday=!0:(re=Mn(m,x,j,D,$),o._a[at]=re.year,o._dayOfYear=re.dayOfYear)}i.ISO_8601=function(){},i.RFC_2822=function(){};function _i(o){if(o._f===i.ISO_8601){Wo(o);return}if(o._f===i.RFC_2822){xr(o);return}o._a=[],S(o).empty=!0;var d=""+o._i,m,x,j,D,$,re=d.length,fe=0,Pe,Pt;for(j=An(o._f,o._locale).match(ie)||[],Pt=j.length,m=0;m<Pt;m++)D=j[m],x=(d.match(Gc(D,o))||[])[0],x&&($=d.substr(0,d.indexOf(x)),$.length>0&&S(o).unusedInput.push($),d=d.slice(d.indexOf(x)+x.length),fe+=x.length),ye[D]?(x?S(o).empty=!1:S(o).unusedTokens.push(D),an(D,x,o)):o._strict&&!x&&S(o).unusedTokens.push(D);S(o).charsLeftOver=re-fe,d.length>0&&S(o).unusedInput.push(d),o._a[Xe]<=12&&S(o).bigHour===!0&&o._a[Xe]>0&&(S(o).bigHour=void 0),S(o).parsedDateParts=o._a.slice(0),S(o).meridiem=o._meridiem,o._a[Xe]=du(o._locale,o._a[Xe],o._meridiem),Pe=S(o).era,Pe!==null&&(o._a[at]=o._locale.erasConvertYear(Pe,o._a[at])),Na(o),ns(o)}function du(o,d,m){var x;return m==null?d:o.meridiemHour!=null?o.meridiemHour(d,m):(o.isPM!=null&&(x=o.isPM(m),x&&d<12&&(d+=12),!x&&d===12&&(d=0)),d)}function hu(o){var d,m,x,j,D,$,re=!1,fe=o._f.length;if(fe===0){S(o).invalidFormat=!0,o._d=new Date(NaN);return}for(j=0;j<fe;j++)D=0,$=!1,d=B({},o),o._useUTC!=null&&(d._useUTC=o._useUTC),d._f=o._f[j],_i(d),w(d)&&($=!0),D+=S(d).charsLeftOver,D+=S(d).unusedTokens.length*10,S(d).score=D,re?D<x&&(x=D,m=d):(x==null||D<x||$)&&(x=D,m=d,$&&(re=!0));O(o,m||d)}function Vo(o){if(!o._d){var d=Zi(o._i),m=d.day===void 0?d.date:d.day;o._a=M([d.year,d.month,m,d.hour,d.minute,d.second,d.millisecond],function(x){return x&&parseInt(x,10)}),Na(o)}}function fu(o){var d=new V(ns(Rt(o)));return d._nextDay&&(d.add(1,"d"),d._nextDay=void 0),d}function Rt(o){var d=o._i,m=o._f;return o._locale=o._locale||un(o._l),d===null||m===void 0&&d===""?P({nullInput:!0}):(typeof d=="string"&&(o._i=d=o._locale.preparse(d)),Q(d)?new V(ns(d)):(k(d)?o._d=d:u(m)?hu(o):m?_i(o):vr(o),w(o)||(o._d=null),o))}function vr(o){var d=o._i;_(d)?o._d=new Date(i.now()):k(d)?o._d=new Date(d.valueOf()):typeof d=="string"?It(o):u(d)?(o._a=M(d.slice(0),function(m){return parseInt(m,10)}),Na(o)):f(d)?Vo(o):C(d)?o._d=new Date(d):i.createFromInputFallback(o)}function Go(o,d,m,x,j){var D={};return(d===!0||d===!1)&&(x=d,d=void 0),(m===!0||m===!1)&&(x=m,m=void 0),(f(o)&&v(o)||u(o)&&o.length===0)&&(o=void 0),D._isAMomentObject=!0,D._useUTC=D._isUTC=j,D._l=m,D._i=o,D._f=d,D._strict=x,fu(D)}function Se(o,d,m,x){return Go(o,d,m,x,!1)}var mu=ne("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=Se.apply(null,arguments);return this.isValid()&&o.isValid()?o<this?this:o:P()}),_r=ne("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=Se.apply(null,arguments);return this.isValid()&&o.isValid()?o>this?this:o:P()});function qo(o,d){var m,x;if(d.length===1&&u(d[0])&&(d=d[0]),!d.length)return Se();for(m=d[0],x=1;x<d.length;++x)(!d[x].isValid()||d[x][o](m))&&(m=d[x]);return m}function yi(){var o=[].slice.call(arguments,0);return qo("isBefore",o)}function Jo(){var o=[].slice.call(arguments,0);return qo("isAfter",o)}var ss=function(){return Date.now?Date.now():+new Date},wi=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Cn(o){var d,m=!1,x,j=wi.length;for(d in o)if(p(o,d)&&!(Ve.call(wi,d)!==-1&&(o[d]==null||!isNaN(o[d]))))return!1;for(x=0;x<j;++x)if(o[wi[x]]){if(m)return!1;parseFloat(o[wi[x]])!==be(o[wi[x]])&&(m=!0)}return!0}function as(){return this._isValid}function pu(){return At(NaN)}function yr(o){var d=Zi(o),m=d.year||0,x=d.quarter||0,j=d.month||0,D=d.week||d.isoWeek||0,$=d.day||0,re=d.hour||0,fe=d.minute||0,Pe=d.second||0,Pt=d.millisecond||0;this._isValid=Cn(d),this._milliseconds=+Pt+Pe*1e3+fe*6e4+re*1e3*60*60,this._days=+$+D*7,this._months=+j+x*3+m*12,this._data={},this._locale=un(),this._bubble()}function os(o){return o instanceof yr}function qt(o){return o<0?Math.round(-1*o)*-1:Math.round(o)}function gu(o,d,m){var x=Math.min(o.length,d.length),j=Math.abs(o.length-d.length),D=0,$;for($=0;$<x;$++)(m&&o[$]!==d[$]||!m&&be(o[$])!==be(d[$]))&&D++;return D+j}function Gn(o,d){J(o,0,0,function(){var m=this.utcOffset(),x="+";return m<0&&(m=-m,x="-"),x+H(~~(m/60),2)+d+H(~~m%60,2)})}Gn("Z",":"),Gn("ZZ",""),te("Z",Gi),te("ZZ",Gi),De(["Z","ZZ"],function(o,d,m){m._useUTC=!0,m._tzm=Jt(Gi,o)});var xu=/([\+\-]|\d\d)/gi;function Jt(o,d){var m=(d||"").match(o),x,j,D;return m===null?null:(x=m[m.length-1]||[],j=(x+"").match(xu)||["-",0,0],D=+(j[1]*60)+be(j[2]),D===0?0:j[0]==="+"?D:-D)}function wr(o,d){var m,x;return d._isUTC?(m=d.clone(),x=(Q(o)||k(o)?o.valueOf():Se(o).valueOf())-m.valueOf(),m._d.setTime(m._d.valueOf()+x),i.updateOffset(m,!1),m):Se(o).local()}function ls(o){return-Math.round(o._d.getTimezoneOffset())}i.updateOffset=function(){};function Sa(o,d,m){var x=this._offset||0,j;if(!this.isValid())return o!=null?this:NaN;if(o!=null){if(typeof o=="string"){if(o=Jt(Gi,o),o===null)return this}else Math.abs(o)<16&&!m&&(o=o*60);return!this._isUTC&&d&&(j=ls(this)),this._offset=o,this._isUTC=!0,j!=null&&this.add(j,"m"),x!==o&&(!d||this._changeInProgress?ji(this,At(o-x,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?x:ls(this)}function cs(o,d){return o!=null?(typeof o!="string"&&(o=-o),this.utcOffset(o,d),this):-this.utcOffset()}function Pa(o){return this.utcOffset(0,o)}function us(o){return this._isUTC&&(this.utcOffset(0,o),this._isUTC=!1,o&&this.subtract(ls(this),"m")),this}function jr(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var o=Jt(Vc,this._i);o!=null?this.utcOffset(o):this.utcOffset(0,!0)}return this}function ds(o){return this.isValid()?(o=o?Se(o).utcOffset():0,(this.utcOffset()-o)%60===0):!1}function Ma(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ko(){if(!_(this._isDSTShifted))return this._isDSTShifted;var o={},d;return B(o,this),o=Rt(o),o._a?(d=o._isUTC?T(o._a):Se(o._a),this._isDSTShifted=this.isValid()&&gu(o._a,d.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function vu(){return this.isValid()?!this._isUTC:!1}function hs(){return this.isValid()?this._isUTC:!1}function Qo(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Xo=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,_u=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function At(o,d){var m=o,x=null,j,D,$;return os(o)?m={ms:o._milliseconds,d:o._days,M:o._months}:C(o)||!isNaN(+o)?(m={},d?m[d]=+o:m.milliseconds=+o):(x=Xo.exec(o))?(j=x[1]==="-"?-1:1,m={y:0,d:be(x[Vt])*j,h:be(x[Xe])*j,m:be(x[St])*j,s:be(x[ln])*j,ms:be(qt(x[Dt]*1e3))*j}):(x=_u.exec(o))?(j=x[1]==="-"?-1:1,m={y:qn(x[2],j),M:qn(x[3],j),w:qn(x[4],j),d:qn(x[5],j),h:qn(x[6],j),m:qn(x[7],j),s:qn(x[8],j)}):m==null?m={}:typeof m=="object"&&("from"in m||"to"in m)&&($=fs(Se(m.from),Se(m.to)),m={},m.ms=$.milliseconds,m.M=$.months),D=new yr(m),os(o)&&p(o,"_locale")&&(D._locale=o._locale),os(o)&&p(o,"_isValid")&&(D._isValid=o._isValid),D}At.fn=yr.prototype,At.invalid=pu;function qn(o,d){var m=o&&parseFloat(o.replace(",","."));return(isNaN(m)?0:m)*d}function Kt(o,d){var m={};return m.months=d.month()-o.month()+(d.year()-o.year())*12,o.clone().add(m.months,"M").isAfter(d)&&--m.months,m.milliseconds=+d-+o.clone().add(m.months,"M"),m}function fs(o,d){var m;return o.isValid()&&d.isValid()?(d=wr(d,o),o.isBefore(d)?m=Kt(o,d):(m=Kt(d,o),m.milliseconds=-m.milliseconds,m.months=-m.months),m):{milliseconds:0,months:0}}function el(o,d){return function(m,x){var j,D;return x!==null&&!isNaN(+x)&&(X(d,"moment()."+d+"(period, number) is deprecated. Please use moment()."+d+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),D=m,m=x,x=D),j=At(m,x),ji(this,j,o),this}}function ji(o,d,m,x){var j=d._milliseconds,D=qt(d._days),$=qt(d._months);o.isValid()&&(x=x??!0,$&&Yn(o,oi(o,"Month")+$*m),D&&li(o,"Date",oi(o,"Date")+D*m),j&&o._d.setTime(o._d.valueOf()+j*m),x&&i.updateOffset(o,D||$))}var yu=el(1,"add"),tl=el(-1,"subtract");function nl(o){return typeof o=="string"||o instanceof String}function bi(o){return Q(o)||k(o)||nl(o)||C(o)||br(o)||wu(o)||o===null||o===void 0}function wu(o){var d=f(o)&&!v(o),m=!1,x=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],j,D,$=x.length;for(j=0;j<$;j+=1)D=x[j],m=m||p(o,D);return d&&m}function br(o){var d=u(o),m=!1;return d&&(m=o.filter(function(x){return!C(x)&&nl(o)}).length===0),d&&m}function rl(o){var d=f(o)&&!v(o),m=!1,x=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],j,D;for(j=0;j<x.length;j+=1)D=x[j],m=m||p(o,D);return d&&m}function il(o,d){var m=o.diff(d,"days",!0);return m<-6?"sameElse":m<-1?"lastWeek":m<0?"lastDay":m<1?"sameDay":m<2?"nextDay":m<7?"nextWeek":"sameElse"}function ju(o,d){arguments.length===1&&(arguments[0]?bi(arguments[0])?(o=arguments[0],d=void 0):rl(arguments[0])&&(d=arguments[0],o=void 0):(o=void 0,d=void 0));var m=o||Se(),x=wr(m,this).startOf("day"),j=i.calendarFormat(this,x)||"sameElse",D=d&&(U(d[j])?d[j].call(this,m):d[j]);return this.format(D||this.localeData().calendar(j,this,Se(m)))}function _n(){return new V(this)}function sl(o,d){var m=Q(o)?o:Se(o);return this.isValid()&&m.isValid()?(d=_t(d)||"millisecond",d==="millisecond"?this.valueOf()>m.valueOf():m.valueOf()<this.clone().startOf(d).valueOf()):!1}function al(o,d){var m=Q(o)?o:Se(o);return this.isValid()&&m.isValid()?(d=_t(d)||"millisecond",d==="millisecond"?this.valueOf()<m.valueOf():this.clone().endOf(d).valueOf()<m.valueOf()):!1}function Ni(o,d,m,x){var j=Q(o)?o:Se(o),D=Q(d)?d:Se(d);return this.isValid()&&j.isValid()&&D.isValid()?(x=x||"()",(x[0]==="("?this.isAfter(j,m):!this.isBefore(j,m))&&(x[1]===")"?this.isBefore(D,m):!this.isAfter(D,m))):!1}function bu(o,d){var m=Q(o)?o:Se(o),x;return this.isValid()&&m.isValid()?(d=_t(d)||"millisecond",d==="millisecond"?this.valueOf()===m.valueOf():(x=m.valueOf(),this.clone().startOf(d).valueOf()<=x&&x<=this.clone().endOf(d).valueOf())):!1}function ms(o,d){return this.isSame(o,d)||this.isAfter(o,d)}function ki(o,d){return this.isSame(o,d)||this.isBefore(o,d)}function ol(o,d,m){var x,j,D;if(!this.isValid())return NaN;if(x=wr(o,this),!x.isValid())return NaN;switch(j=(x.utcOffset()-this.utcOffset())*6e4,d=_t(d),d){case"year":D=Si(this,x)/12;break;case"month":D=Si(this,x);break;case"quarter":D=Si(this,x)/3;break;case"second":D=(this-x)/1e3;break;case"minute":D=(this-x)/6e4;break;case"hour":D=(this-x)/36e5;break;case"day":D=(this-x-j)/864e5;break;case"week":D=(this-x-j)/6048e5;break;default:D=this-x}return m?D:yt(D)}function Si(o,d){if(o.date()<d.date())return-Si(d,o);var m=(d.year()-o.year())*12+(d.month()-o.month()),x=o.clone().add(m,"months"),j,D;return d-x<0?(j=o.clone().add(m-1,"months"),D=(d-x)/(x-j)):(j=o.clone().add(m+1,"months"),D=(d-x)/(j-x)),-(m+D)||0}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Nu(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ll(o){if(!this.isValid())return null;var d=o!==!0,m=d?this.clone().utc():this;return m.year()<0||m.year()>9999?Fe(m,d?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):U(Date.prototype.toISOString)?d?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Fe(m,"Z")):Fe(m,d?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function cl(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var o="moment",d="",m,x,j,D;return this.isLocal()||(o=this.utcOffset()===0?"moment.utc":"moment.parseZone",d="Z"),m="["+o+'("]',x=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",j="-MM-DD[T]HH:mm:ss.SSS",D=d+'[")]',this.format(m+x+j+D)}function ul(o){o||(o=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var d=Fe(this,o);return this.localeData().postformat(d)}function dl(o,d){return this.isValid()&&(Q(o)&&o.isValid()||Se(o).isValid())?At({to:this,from:o}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function hl(o){return this.from(Se(),o)}function ku(o,d){return this.isValid()&&(Q(o)&&o.isValid()||Se(o).isValid())?At({from:this,to:o}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function fl(o){return this.to(Se(),o)}function La(o){var d;return o===void 0?this._locale._abbr:(d=un(o),d!=null&&(this._locale=d),this)}var ml=ne("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(o){return o===void 0?this.localeData():this.locale(o)});function n(){return this._locale}var s=1e3,c=60*s,h=60*c,g=(365*400+97)*24*h;function y(o,d){return(o%d+d)%d}function E(o,d,m){return o<100&&o>=0?new Date(o+400,d,m)-g:new Date(o,d,m).valueOf()}function R(o,d,m){return o<100&&o>=0?Date.UTC(o+400,d,m)-g:Date.UTC(o,d,m)}function F(o){var d,m;if(o=_t(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?R:E,o){case"year":d=m(this.year(),0,1);break;case"quarter":d=m(this.year(),this.month()-this.month()%3,1);break;case"month":d=m(this.year(),this.month(),1);break;case"week":d=m(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":d=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":d=m(this.year(),this.month(),this.date());break;case"hour":d=this._d.valueOf(),d-=y(d+(this._isUTC?0:this.utcOffset()*c),h);break;case"minute":d=this._d.valueOf(),d-=y(d,c);break;case"second":d=this._d.valueOf(),d-=y(d,s);break}return this._d.setTime(d),i.updateOffset(this,!0),this}function Z(o){var d,m;if(o=_t(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?R:E,o){case"year":d=m(this.year()+1,0,1)-1;break;case"quarter":d=m(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":d=m(this.year(),this.month()+1,1)-1;break;case"week":d=m(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":d=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":d=m(this.year(),this.month(),this.date()+1)-1;break;case"hour":d=this._d.valueOf(),d+=h-y(d+(this._isUTC?0:this.utcOffset()*c),h)-1;break;case"minute":d=this._d.valueOf(),d+=c-y(d,c)-1;break;case"second":d=this._d.valueOf(),d+=s-y(d,s)-1;break}return this._d.setTime(d),i.updateOffset(this,!0),this}function ee(){return this._d.valueOf()-(this._offset||0)*6e4}function ue(){return Math.floor(this.valueOf()/1e3)}function _e(){return new Date(this.valueOf())}function pt(){var o=this;return[o.year(),o.month(),o.date(),o.hour(),o.minute(),o.second(),o.millisecond()]}function it(){var o=this;return{years:o.year(),months:o.month(),date:o.date(),hours:o.hours(),minutes:o.minutes(),seconds:o.seconds(),milliseconds:o.milliseconds()}}function Ft(){return this.isValid()?this.toISOString():null}function wt(){return w(this)}function Nr(){return O({},S(this))}function Su(){return S(this).overflow}function Pu(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}J("N",0,0,"eraAbbr"),J("NN",0,0,"eraAbbr"),J("NNN",0,0,"eraAbbr"),J("NNNN",0,0,"eraName"),J("NNNNN",0,0,"eraNarrow"),J("y",["y",1],"yo","eraYear"),J("y",["yy",2],0,"eraYear"),J("y",["yyy",3],0,"eraYear"),J("y",["yyyy",4],0,"eraYear"),te("N",gs),te("NN",gs),te("NNN",gs),te("NNNN",Du),te("NNNNN",tx),De(["N","NN","NNN","NNNN","NNNNN"],function(o,d,m,x){var j=m._locale.erasParse(o,x,m._strict);j?S(m).era=j:S(m).invalidEra=o}),te("y",dr),te("yy",dr),te("yyy",dr),te("yyyy",dr),te("yo",nx),De(["y","yy","yyy","yyyy"],at),De(["yo"],function(o,d,m,x){var j;m._locale._eraYearOrdinalRegex&&(j=o.match(m._locale._eraYearOrdinalRegex)),m._locale.eraYearOrdinalParse?d[at]=m._locale.eraYearOrdinalParse(o,j):d[at]=parseInt(o,10)});function Mu(o,d){var m,x,j,D=this._eras||un("en")._eras;for(m=0,x=D.length;m<x;++m){switch(typeof D[m].since){case"string":j=i(D[m].since).startOf("day"),D[m].since=j.valueOf();break}switch(typeof D[m].until){case"undefined":D[m].until=1/0;break;case"string":j=i(D[m].until).startOf("day").valueOf(),D[m].until=j.valueOf();break}}return D}function pl(o,d,m){var x,j,D=this.eras(),$,re,fe;for(o=o.toUpperCase(),x=0,j=D.length;x<j;++x)if($=D[x].name.toUpperCase(),re=D[x].abbr.toUpperCase(),fe=D[x].narrow.toUpperCase(),m)switch(d){case"N":case"NN":case"NNN":if(re===o)return D[x];break;case"NNNN":if($===o)return D[x];break;case"NNNNN":if(fe===o)return D[x];break}else if([$,re,fe].indexOf(o)>=0)return D[x]}function Lu(o,d){var m=o.since<=o.until?1:-1;return d===void 0?i(o.since).year():i(o.since).year()+(d-o.offset)*m}function gl(){var o,d,m,x=this.localeData().eras();for(o=0,d=x.length;o<d;++o)if(m=this.clone().startOf("day").valueOf(),x[o].since<=m&&m<=x[o].until||x[o].until<=m&&m<=x[o].since)return x[o].name;return""}function et(){var o,d,m,x=this.localeData().eras();for(o=0,d=x.length;o<d;++o)if(m=this.clone().startOf("day").valueOf(),x[o].since<=m&&m<=x[o].until||x[o].until<=m&&m<=x[o].since)return x[o].narrow;return""}function ps(){var o,d,m,x=this.localeData().eras();for(o=0,d=x.length;o<d;++o)if(m=this.clone().startOf("day").valueOf(),x[o].since<=m&&m<=x[o].until||x[o].until<=m&&m<=x[o].since)return x[o].abbr;return""}function Tu(){var o,d,m,x,j=this.localeData().eras();for(o=0,d=j.length;o<d;++o)if(m=j[o].since<=j[o].until?1:-1,x=this.clone().startOf("day").valueOf(),j[o].since<=x&&x<=j[o].until||j[o].until<=x&&x<=j[o].since)return(this.year()-i(j[o].since).year())*m+j[o].offset;return this.year()}function Cu(o){return p(this,"_erasNameRegex")||Ou.call(this),o?this._erasNameRegex:this._erasRegex}function Eu(o){return p(this,"_erasAbbrRegex")||Ou.call(this),o?this._erasAbbrRegex:this._erasRegex}function Ta(o){return p(this,"_erasNarrowRegex")||Ou.call(this),o?this._erasNarrowRegex:this._erasRegex}function gs(o,d){return d.erasAbbrRegex(o)}function Du(o,d){return d.erasNameRegex(o)}function tx(o,d){return d.erasNarrowRegex(o)}function nx(o,d){return d._eraYearOrdinalRegex||dr}function Ou(){var o=[],d=[],m=[],x=[],j,D,$,re,fe,Pe=this.eras();for(j=0,D=Pe.length;j<D;++j)$=vn(Pe[j].name),re=vn(Pe[j].abbr),fe=vn(Pe[j].narrow),d.push($),o.push(re),m.push(fe),x.push($),x.push(re),x.push(fe);this._erasRegex=new RegExp("^("+x.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+d.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+m.join("|")+")","i")}J(0,["gg",2],0,function(){return this.weekYear()%100}),J(0,["GG",2],0,function(){return this.isoWeekYear()%100});function xl(o,d){J(0,[o,o.length],0,d)}xl("gggg","weekYear"),xl("ggggg","weekYear"),xl("GGGG","isoWeekYear"),xl("GGGGG","isoWeekYear"),te("G",Pn),te("g",Pn),te("GG",Ie,ft),te("gg",Ie,ft),te("GGGG",ri,Hi),te("gggg",ri,Hi),te("GGGGG",ii,Vi),te("ggggg",ii,Vi),si(["gggg","ggggg","GGGG","GGGGG"],function(o,d,m,x){d[x.substr(0,2)]=be(o)}),si(["gg","GG"],function(o,d,m,x){d[x]=i.parseTwoDigitYear(o)});function rx(o){return wf.call(this,o,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function ix(o){return wf.call(this,o,this.isoWeek(),this.isoWeekday(),1,4)}function sx(){return mt(this.year(),1,4)}function ax(){return mt(this.isoWeekYear(),1,4)}function ox(){var o=this.localeData()._week;return mt(this.year(),o.dow,o.doy)}function lx(){var o=this.localeData()._week;return mt(this.weekYear(),o.dow,o.doy)}function wf(o,d,m,x,j){var D;return o==null?$e(this,x,j).year:(D=mt(o,x,j),d>D&&(d=D),cx.call(this,o,d,m,x,j))}function cx(o,d,m,x,j){var D=Mn(o,d,m,x,j),$=di(D.year,0,D.dayOfYear);return this.year($.getUTCFullYear()),this.month($.getUTCMonth()),this.date($.getUTCDate()),this}J("Q",0,"Qo","quarter"),te("Q",Co),De("Q",function(o,d){d[on]=(be(o)-1)*3});function ux(o){return o==null?Math.ceil((this.month()+1)/3):this.month((o-1)*3+this.month()%3)}J("D",["DD",2],"Do","date"),te("D",Ie,Fn),te("DD",Ie,ft),te("Do",function(o,d){return o?d._dayOfMonthOrdinalParse||d._ordinalParse:d._dayOfMonthOrdinalParseLenient}),De(["D","DD"],Vt),De("Do",function(o,d){d[Vt]=be(o.match(Ie)[0])});var jf=$n("Date",!0);J("DDD",["DDDD",3],"DDDo","dayOfYear"),te("DDD",ni),te("DDDD",na),De(["DDD","DDDD"],function(o,d,m){m._dayOfYear=be(o)});function dx(o){var d=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return o==null?d:this.add(o-d,"d")}J("m",["mm",2],0,"minute"),te("m",Ie,ia),te("mm",Ie,ft),De(["m","mm"],St);var hx=$n("Minutes",!1);J("s",["ss",2],0,"second"),te("s",Ie,ia),te("ss",Ie,ft),De(["s","ss"],ln);var fx=$n("Seconds",!1);J("S",0,0,function(){return~~(this.millisecond()/100)}),J(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),J(0,["SSS",3],0,"millisecond"),J(0,["SSSS",4],0,function(){return this.millisecond()*10}),J(0,["SSSSS",5],0,function(){return this.millisecond()*100}),J(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),J(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),J(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),J(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),te("S",ni,Co),te("SS",ni,ft),te("SSS",ni,na);var kr,bf;for(kr="SSSS";kr.length<=9;kr+="S")te(kr,dr);function mx(o,d){d[Dt]=be(("0."+o)*1e3)}for(kr="S";kr.length<=9;kr+="S")De(kr,mx);bf=$n("Milliseconds",!1),J("z",0,0,"zoneAbbr"),J("zz",0,0,"zoneName");function px(){return this._isUTC?"UTC":""}function gx(){return this._isUTC?"Coordinated Universal Time":""}var q=V.prototype;q.add=yu,q.calendar=ju,q.clone=_n,q.diff=ol,q.endOf=Z,q.format=ul,q.from=dl,q.fromNow=hl,q.to=ku,q.toNow=fl,q.get=Qc,q.invalidAt=Su,q.isAfter=sl,q.isBefore=al,q.isBetween=Ni,q.isSame=bu,q.isSameOrAfter=ms,q.isSameOrBefore=ki,q.isValid=wt,q.lang=ml,q.locale=La,q.localeData=n,q.max=_r,q.min=mu,q.parsingFlags=Nr,q.set=Xc,q.startOf=F,q.subtract=tl,q.toArray=pt,q.toObject=it,q.toDate=_e,q.toISOString=ll,q.inspect=cl,typeof Symbol<"u"&&Symbol.for!=null&&(q[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),q.toJSON=Ft,q.toString=Nu,q.unix=ue,q.valueOf=ee,q.creationData=Pu,q.eraName=gl,q.eraNarrow=et,q.eraAbbr=ps,q.eraYear=Tu,q.year=zo,q.isLeapYear=Kc,q.weekYear=rx,q.isoWeekYear=ix,q.quarter=q.quarters=ux,q.month=Ki,q.daysInMonth=xe,q.week=q.weeks=da,q.isoWeek=q.isoWeeks=ha,q.weeksInYear=ox,q.weeksInWeekYear=lx,q.isoWeeksInYear=sx,q.isoWeeksInISOWeekYear=ax,q.date=jf,q.day=q.days=Wn,q.weekday=_a,q.isoWeekday=gi,q.dayOfYear=dx,q.hour=q.hours=nu,q.minute=q.minutes=hx,q.second=q.seconds=fx,q.millisecond=q.milliseconds=bf,q.utcOffset=Sa,q.utc=Pa,q.local=us,q.parseZone=jr,q.hasAlignedHourOffset=ds,q.isDST=Ma,q.isLocal=vu,q.isUtcOffset=hs,q.isUtc=Qo,q.isUTC=Qo,q.zoneAbbr=px,q.zoneName=gx,q.dates=ne("dates accessor is deprecated. Use date instead.",jf),q.months=ne("months accessor is deprecated. Use month instead",Ki),q.years=ne("years accessor is deprecated. Use year instead",zo),q.zone=ne("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",cs),q.isDSTShifted=ne("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ko);function xx(o){return Se(o*1e3)}function vx(){return Se.apply(null,arguments).parseZone()}function Nf(o){return o}var Ce=de.prototype;Ce.calendar=le,Ce.longDateFormat=Qs,Ce.invalidDate=Xs,Ce.ordinal=Lo,Ce.preparse=Nf,Ce.postformat=Nf,Ce.relativeTime=Ui,Ce.pastFuture=Zc,Ce.set=ae,Ce.eras=Mu,Ce.erasParse=pl,Ce.erasConvertYear=Lu,Ce.erasAbbrRegex=Eu,Ce.erasNameRegex=Cu,Ce.erasNarrowRegex=Ta,Ce.months=Me,Ce.monthsShort=Be,Ce.monthsParse=mr,Ce.monthsRegex=ca,Ce.monthsShortRegex=Ge,Ce.week=hi,Ce.firstDayOfYear=mi,Ce.firstDayOfWeek=ua,Ce.weekdays=Re,Ce.weekdaysMin=ga,Ce.weekdaysShort=Ro,Ce.weekdaysParse=va,Ce.weekdaysRegex=ot,Ce.weekdaysShortRegex=Un,Ce.weekdaysMinRegex=Ao,Ce.isPM=Yo,Ce.meridiem=Gt;function vl(o,d,m,x){var j=un(),D=T().set(x,d);return j[m](D,o)}function kf(o,d,m){if(C(o)&&(d=o,o=void 0),o=o||"",d!=null)return vl(o,d,m,"month");var x,j=[];for(x=0;x<12;x++)j[x]=vl(o,x,m,"month");return j}function zu(o,d,m,x){typeof o=="boolean"?(C(d)&&(m=d,d=void 0),d=d||""):(d=o,m=d,o=!1,C(d)&&(m=d,d=void 0),d=d||"");var j=un(),D=o?j._week.dow:0,$,re=[];if(m!=null)return vl(d,(m+D)%7,x,"day");for($=0;$<7;$++)re[$]=vl(d,($+D)%7,x,"day");return re}function _x(o,d){return kf(o,d,"months")}function yx(o,d){return kf(o,d,"monthsShort")}function wx(o,d,m){return zu(o,d,m,"weekdays")}function jx(o,d,m){return zu(o,d,m,"weekdaysShort")}function bx(o,d,m){return zu(o,d,m,"weekdaysMin")}Ln("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(o){var d=o%10,m=be(o%100/10)===1?"th":d===1?"st":d===2?"nd":d===3?"rd":"th";return o+m}}),i.lang=ne("moment.lang is deprecated. Use moment.locale instead.",Ln),i.langData=ne("moment.langData is deprecated. Use moment.localeData instead.",un);var Jn=Math.abs;function Nx(){var o=this._data;return this._milliseconds=Jn(this._milliseconds),this._days=Jn(this._days),this._months=Jn(this._months),o.milliseconds=Jn(o.milliseconds),o.seconds=Jn(o.seconds),o.minutes=Jn(o.minutes),o.hours=Jn(o.hours),o.months=Jn(o.months),o.years=Jn(o.years),this}function Sf(o,d,m,x){var j=At(d,m);return o._milliseconds+=x*j._milliseconds,o._days+=x*j._days,o._months+=x*j._months,o._bubble()}function kx(o,d){return Sf(this,o,d,1)}function Sx(o,d){return Sf(this,o,d,-1)}function Pf(o){return o<0?Math.floor(o):Math.ceil(o)}function Px(){var o=this._milliseconds,d=this._days,m=this._months,x=this._data,j,D,$,re,fe;return o>=0&&d>=0&&m>=0||o<=0&&d<=0&&m<=0||(o+=Pf(Iu(m)+d)*864e5,d=0,m=0),x.milliseconds=o%1e3,j=yt(o/1e3),x.seconds=j%60,D=yt(j/60),x.minutes=D%60,$=yt(D/60),x.hours=$%24,d+=yt($/24),fe=yt(Mf(d)),m+=fe,d-=Pf(Iu(fe)),re=yt(m/12),m%=12,x.days=d,x.months=m,x.years=re,this}function Mf(o){return o*4800/146097}function Iu(o){return o*146097/4800}function Mx(o){if(!this.isValid())return NaN;var d,m,x=this._milliseconds;if(o=_t(o),o==="month"||o==="quarter"||o==="year")switch(d=this._days+x/864e5,m=this._months+Mf(d),o){case"month":return m;case"quarter":return m/3;case"year":return m/12}else switch(d=this._days+Math.round(Iu(this._months)),o){case"week":return d/7+x/6048e5;case"day":return d+x/864e5;case"hour":return d*24+x/36e5;case"minute":return d*1440+x/6e4;case"second":return d*86400+x/1e3;case"millisecond":return Math.floor(d*864e5)+x;default:throw new Error("Unknown unit "+o)}}function Kn(o){return function(){return this.as(o)}}var Lf=Kn("ms"),Lx=Kn("s"),Tx=Kn("m"),Cx=Kn("h"),Ex=Kn("d"),Dx=Kn("w"),Ox=Kn("M"),zx=Kn("Q"),Ix=Kn("y"),Rx=Lf;function Ax(){return At(this)}function Fx(o){return o=_t(o),this.isValid()?this[o+"s"]():NaN}function Pi(o){return function(){return this.isValid()?this._data[o]:NaN}}var $x=Pi("milliseconds"),Yx=Pi("seconds"),Bx=Pi("minutes"),Wx=Pi("hours"),Ux=Pi("days"),Zx=Pi("months"),Hx=Pi("years");function Vx(){return yt(this.days()/7)}var Qn=Math.round,xs={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Gx(o,d,m,x,j){return j.relativeTime(d||1,!!m,o,x)}function qx(o,d,m,x){var j=At(o).abs(),D=Qn(j.as("s")),$=Qn(j.as("m")),re=Qn(j.as("h")),fe=Qn(j.as("d")),Pe=Qn(j.as("M")),Pt=Qn(j.as("w")),Xn=Qn(j.as("y")),Sr=D<=m.ss&&["s",D]||D<m.s&&["ss",D]||$<=1&&["m"]||$<m.m&&["mm",$]||re<=1&&["h"]||re<m.h&&["hh",re]||fe<=1&&["d"]||fe<m.d&&["dd",fe];return m.w!=null&&(Sr=Sr||Pt<=1&&["w"]||Pt<m.w&&["ww",Pt]),Sr=Sr||Pe<=1&&["M"]||Pe<m.M&&["MM",Pe]||Xn<=1&&["y"]||["yy",Xn],Sr[2]=d,Sr[3]=+o>0,Sr[4]=x,Gx.apply(null,Sr)}function Jx(o){return o===void 0?Qn:typeof o=="function"?(Qn=o,!0):!1}function Kx(o,d){return xs[o]===void 0?!1:d===void 0?xs[o]:(xs[o]=d,o==="s"&&(xs.ss=d-1),!0)}function Qx(o,d){if(!this.isValid())return this.localeData().invalidDate();var m=!1,x=xs,j,D;return typeof o=="object"&&(d=o,o=!1),typeof o=="boolean"&&(m=o),typeof d=="object"&&(x=Object.assign({},xs,d),d.s!=null&&d.ss==null&&(x.ss=d.s-1)),j=this.localeData(),D=qx(this,!m,x,j),m&&(D=j.pastFuture(+this,D)),j.postformat(D)}var Ru=Math.abs;function vs(o){return(o>0)-(o<0)||+o}function _l(){if(!this.isValid())return this.localeData().invalidDate();var o=Ru(this._milliseconds)/1e3,d=Ru(this._days),m=Ru(this._months),x,j,D,$,re=this.asSeconds(),fe,Pe,Pt,Xn;return re?(x=yt(o/60),j=yt(x/60),o%=60,x%=60,D=yt(m/12),m%=12,$=o?o.toFixed(3).replace(/\.?0+$/,""):"",fe=re<0?"-":"",Pe=vs(this._months)!==vs(re)?"-":"",Pt=vs(this._days)!==vs(re)?"-":"",Xn=vs(this._milliseconds)!==vs(re)?"-":"",fe+"P"+(D?Pe+D+"Y":"")+(m?Pe+m+"M":"")+(d?Pt+d+"D":"")+(j||x||o?"T":"")+(j?Xn+j+"H":"")+(x?Xn+x+"M":"")+(o?Xn+$+"S":"")):"P0D"}var Le=yr.prototype;Le.isValid=as,Le.abs=Nx,Le.add=kx,Le.subtract=Sx,Le.as=Mx,Le.asMilliseconds=Lf,Le.asSeconds=Lx,Le.asMinutes=Tx,Le.asHours=Cx,Le.asDays=Ex,Le.asWeeks=Dx,Le.asMonths=Ox,Le.asQuarters=zx,Le.asYears=Ix,Le.valueOf=Rx,Le._bubble=Px,Le.clone=Ax,Le.get=Fx,Le.milliseconds=$x,Le.seconds=Yx,Le.minutes=Bx,Le.hours=Wx,Le.days=Ux,Le.weeks=Vx,Le.months=Zx,Le.years=Hx,Le.humanize=Qx,Le.toISOString=_l,Le.toString=_l,Le.toJSON=_l,Le.locale=La,Le.localeData=n,Le.toIsoString=ne("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",_l),Le.lang=ml,J("X",0,0,"unix"),J("x",0,0,"valueOf"),te("x",Pn),te("X",Do),De("X",function(o,d,m){m._d=new Date(parseFloat(o)*1e3)}),De("x",function(o,d,m){m._d=new Date(be(o))});//! moment.js
return i.version="2.30.1",l(Se),i.fn=q,i.min=yi,i.max=Jo,i.now=ss,i.utc=T,i.unix=xx,i.months=_x,i.isDate=k,i.locale=Ln,i.invalid=P,i.duration=At,i.isMoment=Q,i.weekdays=wx,i.parseZone=vx,i.localeData=un,i.isDuration=os,i.monthsShort=yx,i.weekdaysMin=bx,i.defineLocale=zt,i.updateLocale=au,i.locales=Tn,i.weekdaysShort=jx,i.normalizeUnits=_t,i.relativeTimeRounding=Jx,i.relativeTimeThreshold=Kx,i.calendarFormat=il,i.prototype=q,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i})})(zg);var W1=zg.exports,U1={toJalaali:Z1,toGregorian:Ig,isValidJalaaliDate:H1,isLeapJalaaliYear:Rg,jalaaliMonthLength:Ag,jalCal:ff,j2d:jc,d2j:bc,g2d:Bc,d2g:mf,jalaaliToDateObject:Fg,jalaaliWeek:G1},Ir=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Z1(e,t,r){return Object.prototype.toString.call(e)==="[object Date]"&&(r=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),bc(Bc(e,t,r))}function Ig(e,t,r){return mf(jc(e,t,r))}function H1(e,t,r){return e>=-61&&e<=3177&&t>=1&&t<=12&&r>=1&&r<=Ag(e,t)}function Rg(e){return V1(e)===0}function Ag(e,t){return t<=6?31:t<=11||Rg(e)?30:29}function V1(e){var t=Ir.length,r=Ir[0],i,l,u,f,p;if(e<r||e>=Ir[t-1])throw new Error("Invalid Jalaali year "+e);for(p=1;p<t&&(i=Ir[p],l=i-r,!(e<i));p+=1)r=i;return f=e-r,l-f<6&&(f=f-l+Ue(l+4,33)*33),u=Xt(Xt(f+1,33)-1,4),u===-1&&(u=4),u}function ff(e,t){var r=Ir.length,i=e+621,l=-14,u=Ir[0],f,p,v,_,C,k,M;if(e<u||e>=Ir[r-1])throw new Error("Invalid Jalaali year "+e);for(M=1;M<r&&(f=Ir[M],p=f-u,!(e<f));M+=1)l=l+Ue(p,33)*8+Ue(Xt(p,33),4),u=f;return k=e-u,l=l+Ue(k,33)*8+Ue(Xt(k,33)+3,4),Xt(p,33)===4&&p-k===4&&(l+=1),_=Ue(i,4)-Ue((Ue(i,100)+1)*3,4)-150,C=20+l-_,t?{gy:i,march:C}:(p-k<6&&(k=k-p+Ue(p+4,33)*33),v=Xt(Xt(k+1,33)-1,4),v===-1&&(v=4),{leap:v,gy:i,march:C})}function jc(e,t,r){var i=ff(e,!0);return Bc(i.gy,3,i.march)+(t-1)*31-Ue(t,7)*(t-7)+r-1}function bc(e){var t=mf(e).gy,r=t-621,i=ff(r,!1),l=Bc(t,3,i.march),u,f,p;if(p=e-l,p>=0){if(p<=185)return f=1+Ue(p,31),u=Xt(p,31)+1,{jy:r,jm:f,jd:u};p-=186}else r-=1,p+=179,i.leap===1&&(p+=1);return f=7+Ue(p,30),u=Xt(p,30)+1,{jy:r,jm:f,jd:u}}function Bc(e,t,r){var i=Ue((e+Ue(t-8,6)+100100)*1461,4)+Ue(153*Xt(t+9,12)+2,5)+r-34840408;return i=i-Ue(Ue(e+100100+Ue(t-8,6),100)*3,4)+752,i}function mf(e){var t,r,i,l,u;return t=4*e+139361631,t=t+Ue(Ue(4*e+183187720,146097)*3,4)*4-3908,r=Ue(Xt(t,1461),4)*5+308,i=Ue(Xt(r,153),5)+1,l=Xt(Ue(r,153),12)+1,u=Ue(t,1461)-100100+Ue(8-l,6),{gy:u,gm:l,gd:i}}function G1(e,t,r){var i=Fg(e,t,r).getDay(),l=i==6?0:-(i+1),u=6+l;return{saturday:bc(jc(e,t,r+l)),friday:bc(jc(e,t,r+u))}}function Fg(e,t,r,i,l,u,f){var p=Ig(e,t,r);return new Date(p.gy,p.gm-1,p.gd,i||0,l||0,u||0,f||0)}function Ue(e,t){return~~(e/t)}function Xt(e,t){return e-~~(e/t)*t}var q1=ve,Ke=W1,pf=U1,gf=/(\[[^\[]*\])|(\\)?j(Mo|MM?M?M?|Do|DDDo|DD?D?D?|w[o|w]?|YYYYY|YYYY|YY|gg(ggg?)?|)|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,Jm=/(\[[^\[]*\])|(\\)?(LTS?|LL?L?L?|l{1,4})/g,Km=/\d\d?/,Qm=/\d{1,3}/,Xm=/\d{3}/,ep=/\d{1,4}/,tp=/[+\-]?\d{1,6}/,np=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,J1=/Z|[\+\-]\d\d:?\d\d/i,K1=/T/i,Q1=/[\+\-]?\d+(\.\d{1,3})?/,xf={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},vf={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"},X1={jm:"jmonth",jmonths:"jmonth",jy:"jyear",jyears:"jyear"},fd={},rp="DDD w M D".split(" "),ip="M D w".split(" "),On={jM:function(){return this.jMonth()+1},jMMM:function(e){return this.localeData().jMonthsShort(this,e)},jMMMM:function(e){return this.localeData().jMonths(this,e)},jD:function(){return this.jDate()},jDDD:function(){return this.jDayOfYear()},jw:function(){return this.jWeek()},jYY:function(){return nr(this.jYear()%100,2)},jYYYY:function(){return nr(this.jYear(),4)},jYYYYY:function(){return nr(this.jYear(),5)},jgg:function(){return nr(this.jWeekYear()%100,2)},jgggg:function(){return this.jWeekYear()},jggggg:function(){return nr(this.jWeekYear(),5)}};function sp(e,t){return function(r){return nr(e.call(this,r),t)}}function ew(e,t){return function(r){return this.localeData().ordinal(e.call(this,r),t)}}(function(){for(var e;rp.length;)e=rp.pop(),On["j"+e+"o"]=ew(On["j"+e],e);for(;ip.length;)e=ip.pop(),On["j"+e+e]=sp(On["j"+e],2);On.jDDDD=sp(On.jDDD,3)})();function _f(e,t){var r;for(r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function nr(e,t){for(var r=e+"";r.length<t;)r="0"+r;return r}function tw(e){return Object.prototype.toString.call(e)==="[object Array]"}function So(e){if(e){var t=e.toLowerCase();e=X1[t]||t}return e}function yf(e,t,r,i){var l=e._d;isNaN(t)&&(e._isValid=!1),e._isUTC?e._d=new Date(Date.UTC(t,r,i,l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds())):e._d=new Date(t,r,i,l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds())}function $g(e){function t(){}return t.prototype=e,new t}function nw(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):"".__proto__?e.__proto__:e.constructor.prototype}_f(nw(Ke.localeData()),{_jMonths:["Farvardin","Ordibehesht","Khordaad","Tir","Amordaad","Shahrivar","Mehr","Aabaan","Aazar","Dey","Bahman","Esfand"],jMonths:function(e){return this._jMonths[e.jMonth()]},_jMonthsShort:["Far","Ord","Kho","Tir","Amo","Sha","Meh","Aab","Aaz","Dey","Bah","Esf"],jMonthsShort:function(e){return this._jMonthsShort[e.jMonth()]},jMonthsParse:function(e){var t,r,i;for(this._jMonthsParse||(this._jMonthsParse=[]),t=0;t<12;t+=1)if(this._jMonthsParse[t]||(r=ve([2e3,(2+t)%12,25]),i="^"+this.jMonths(r,"")+"|^"+this.jMonthsShort(r,""),this._jMonthsParse[t]=new RegExp(i.replace(".",""),"i")),this._jMonthsParse[t].test(e))return t}});function rw(e){var t=e.match(gf),r=t.length,i;for(i=0;i<r;i+=1)On[t[i]]&&(t[i]=On[t[i]]);return function(l){var u="";for(i=0;i<r;i+=1)u+=t[i]instanceof Function?"["+t[i].call(l,e)+"]":t[i];return u}}function Yg(e,t){switch(e){case"jDDDD":return Xm;case"jYYYY":return ep;case"jYYYYY":return tp;case"jDDD":return Qm;case"jMMM":case"jMMMM":return np;case"jMM":case"jDD":case"jYY":case"jM":case"jD":return Km;case"DDDD":return Xm;case"YYYY":return ep;case"YYYYY":return tp;case"S":case"SS":case"SSS":case"DDD":return Qm;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return np;case"a":case"A":return Ke.localeData(t._l)._meridiemParse;case"X":return Q1;case"Z":case"ZZ":return J1;case"T":return K1;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return Km;default:return new RegExp(e.replace("\\",""))}}function iw(e,t,r){var i,l=r._a;switch(e){case"jM":case"jMM":l[1]=t==null?0:~~t-1;break;case"jMMM":case"jMMMM":i=Ke.localeData(r._l).jMonthsParse(t),i!=null?l[1]=i:r._isValid=!1;break;case"jD":case"jDD":case"jDDD":case"jDDDD":t!=null&&(l[2]=~~t);break;case"jYY":l[0]=~~t+(~~t>47?1300:1400);break;case"jYYYY":case"jYYYYY":l[0]=~~t}t==null&&(r._isValid=!1)}function sw(e){var t,r,i=e._a[0],l=e._a[1],u=e._a[2];return i==null&&l==null&&u==null?[0,0,1]:(i=i??0,l=l??0,u=u??1,(u<1||u>ve.jDaysInMonth(i,l)||l<0||l>11)&&(e._isValid=!1),t=Po(i,l,u),r=Gr(t.gy,t.gm,t.gd),isNaN(t.gy)&&(e._isValid=!1),e._jDiff=0,~~r.jy!==i&&(e._jDiff+=1),~~r.jm!==l&&(e._jDiff+=1),~~r.jd!==u&&(e._jDiff+=1),[t.gy,t.gm,t.gd])}function aw(e){var t=e._f.match(gf),r=e._i+"",i=t.length,l,u,f;for(e._a=[],l=0;l<i;l+=1)u=t[l],f=(Yg(u,e).exec(r)||[])[0],f&&(r=r.slice(r.indexOf(f)+f.length)),On[u]&&iw(u,f,e);return r&&(e._il=r),sw(e)}function ow(e,t){var r=e._f.length,i,l,u,f,p,v;if(r===0)return yo(new Date(NaN));for(i=0;i<r;i+=1)l=e._f[i],p=0,u=yo(e._i,l,e._l,e._strict,t),u.isValid()&&(p+=u._jDiff,u._il&&(p+=u._il.length),(v==null||p<v)&&(v=p,f=u));return f}function lw(e){var t=e._i+"",r="",i="",l=e._f.match(gf),u=l.length,f,p,v;for(f=0;f<u;f+=1)p=l[f],v=(Yg(p,e).exec(t)||[])[0],v&&(t=t.slice(t.indexOf(v)+v.length)),On[p]instanceof Function||(i+=p,v&&(r+=v));e._i=r,e._f=i}function Bg(e,t,r){var i=r-t,l=r-e.day(),u;return l>i&&(l-=7),l<i-7&&(l+=7),u=ve(e).add(l,"d"),{week:Math.ceil(u.jDayOfYear()/7),year:u.jYear()}}var cw=57724432199999;function yo(e,t,r,i,l){typeof r=="boolean"&&(i=r,r=void 0),t&&typeof t=="string"&&(t=Wg(t,Ke));var u={_i:e,_f:t,_l:r,_strict:i,_isUTC:l},f,p,v,_=e,C=t;if(t){if(tw(t))return ow(u,l);f=aw(u),lw(u),t="YYYY-MM-DD-"+u._f,e=nr(f[0],4)+"-"+nr(f[1]+1,2)+"-"+nr(f[2],2)+"-"+u._i}return l?p=Ke.utc(e,t,r,i):p=Ke(e,t,r,i),u._isValid===!1&&(p._isValid=!1),p._jDiff=u._jDiff||0,v=$g(ve.fn),_f(v,p),i&&t&&v.isValid()&&(v._isValid=v.format(C)===_),p._d.getTime()>cw&&(v._isValid=!1),v}function ve(e,t,r,i){return yo(e,t,r,i,!1)}_f(ve,Ke);ve.fn=$g(Ke.fn);ve.utc=function(e,t,r,i){return yo(e,t,r,i,!0)};ve.unix=function(e){return yo(e*1e3)};function Wg(e,t){for(var r=5,i=function(l){return t.localeData().longDateFormat(l)||l};r>0&&Jm.test(e);)r-=1,e=e.replace(Jm,i);return e}ve.fn.format=function(e){return e&&(e=Wg(e,this),fd[e]||(fd[e]=rw(e)),e=fd[e](this)),Ke.fn.format.call(this,e)};ve.fn.jYear=function(e){var t,r,i;return typeof e=="number"?(r=Gr(this.year(),this.month(),this.date()),t=Math.min(r.jd,ve.jDaysInMonth(e,r.jm)),i=Po(e,r.jm,t),yf(this,i.gy,i.gm,i.gd),Ke.updateOffset(this),this):Gr(this.year(),this.month(),this.date()).jy};ve.fn.jMonth=function(e){var t,r,i;return e!=null?typeof e=="string"&&(e=this.localeData().jMonthsParse(e),typeof e!="number")?this:(r=Gr(this.year(),this.month(),this.date()),t=Math.min(r.jd,ve.jDaysInMonth(r.jy,e)),this.jYear(r.jy+Ug(e,12)),e=Zg(e,12),e<0&&(e+=12,this.jYear(this.jYear()-1)),i=Po(this.jYear(),e,t),yf(this,i.gy,i.gm,i.gd),Ke.updateOffset(this),this):Gr(this.year(),this.month(),this.date()).jm};ve.fn.jDate=function(e){var t,r;return typeof e=="number"?(t=Gr(this.year(),this.month(),this.date()),r=Po(t.jy,t.jm,e),yf(this,r.gy,r.gm,r.gd),Ke.updateOffset(this),this):Gr(this.year(),this.month(),this.date()).jd};ve.fn.jDayOfYear=function(e){var t=Math.round((ve(this).startOf("day")-ve(this).startOf("jYear"))/864e5)+1;return e==null?t:this.add(e-t,"d")};ve.fn.jWeek=function(e){var t=Bg(this,this.localeData()._week.dow,this.localeData()._week.doy).week;return e==null?t:this.add((e-t)*7,"d")};ve.fn.jWeekYear=function(e){var t=Bg(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return e==null?t:this.add(e-t,"y")};ve.fn.add=function(e,t){var r;return t!==null&&!isNaN(+t)&&(r=e,e=t,t=r),t=So(t),t==="jyear"?this.jYear(this.jYear()+e):t==="jmonth"?this.jMonth(this.jMonth()+e):(Ke.fn.add.call(this,e,t),isNaN(this.jYear())&&(this._isValid=!1)),this};ve.fn.subtract=function(e,t){var r;return t!==null&&!isNaN(+t)&&(r=e,e=t,t=r),t=So(t),t==="jyear"?this.jYear(this.jYear()-e):t==="jmonth"?this.jMonth(this.jMonth()-e):Ke.fn.subtract.call(this,e,t),this};ve.fn.startOf=function(e){return e=So(e),e==="jyear"||e==="jmonth"?(e==="jyear"&&this.jMonth(0),this.jDate(1),this.hours(0),this.minutes(0),this.seconds(0),this.milliseconds(0),this):Ke.fn.startOf.call(this,e)};ve.fn.endOf=function(e){return e=So(e),e===void 0||e==="milisecond"?this:this.startOf(e).add(1,e==="isoweek"?"week":e).subtract(1,"ms")};ve.fn.isSame=function(e,t){return t=So(t),t==="jyear"||t==="jmonth"?Ke.fn.isSame.call(this.startOf(t),e.startOf(t)):Ke.fn.isSame.call(this,e,t)};ve.fn.clone=function(){return ve(this)};ve.fn.jYears=ve.fn.jYear;ve.fn.jMonths=ve.fn.jMonth;ve.fn.jDates=ve.fn.jDate;ve.fn.jWeeks=ve.fn.jWeek;ve.jDaysInMonth=function(e,t){return e+=Ug(t,12),t=Zg(t,12),t<0&&(t+=12,e-=1),t<6?31:t<11||ve.jIsLeapYear(e)?30:29};ve.jIsLeapYear=pf.isLeapJalaaliYear;ve.loadPersian=function(e){var t=e!==void 0&&e.hasOwnProperty("usePersianDigits")?e.usePersianDigits:!1,r=e!==void 0&&e.hasOwnProperty("dialect")?e.dialect:"persian";Ke.locale("fa"),Ke.updateLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:{persian:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_آدینه_شنبه".split("_"),"persian-modern":"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_")}[r],weekdaysShort:{persian:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_آدینه_شنبه".split("_"),"persian-modern":"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_")}[r],weekdaysMin:{persian:"ی_د_س_چ_پ_آ_ش".split("_"),"persian-modern":"ی_د_س_چ_پ_ج_ش".split("_")}[r],longDateFormat:{LT:"HH:mm",L:"jYYYY/jMM/jDD",LL:"jD jMMMM jYYYY",LLL:"jD jMMMM jYYYY LT",LLLL:"dddd، jD jMMMM jYYYY LT"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [ی پیش ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",m:"1 دقیقه",mm:"%d دقیقه",h:"1 ساعت",hh:"%d ساعت",d:"1 روز",dd:"%d روز",M:"1 ماه",MM:"%d ماه",y:"1 سال",yy:"%d سال"},preparse:function(i){return t?i.replace(/[۰-۹]/g,function(l){return vf[l]}).replace(/،/g,","):i},postformat:function(i){return t?i.replace(/\d/g,function(l){return xf[l]}).replace(/,/g,"،"):i},ordinal:"%dم",week:{dow:6,doy:12},meridiem:function(i){return i<12?"ق.ظ":"ب.ظ"},jMonths:{persian:"فروردین_اردیبهشت_خرداد_تیر_امرداد_شهریور_مهر_آبان_آذر_دی_بهمن_اسفند".split("_"),"persian-modern":"فروردین_اردیبهشت_خرداد_تیر_مرداد_شهریور_مهر_آبان_آذر_دی_بهمن_اسفند".split("_")}[r],jMonthsShort:{persian:"فرو_ارد_خرد_تیر_امر_شهر_مهر_آبا_آذر_دی_بهم_اسف".split("_"),"persian-modern":"فرو_ارد_خرد_تیر_مرد_شهر_مهر_آبا_آذر_دی_بهم_اسف".split("_")}[r]})};ve.loadPersian_dari=function(e){var t=e!==void 0&&e.hasOwnProperty("usePersianDigits")?e.usePersianDigits:!1,r=e!==void 0&&e.hasOwnProperty("dialect")?e.dialect:"persian-dari";Ke.locale("fa-af"),Ke.updateLocale("fa-af",{months:"جنوری_فبروری_مارچ_اپریل_می_جون_جولای_آگست_سپتمبر_اکتوبر_نومبر_دیسمبر".split("_"),monthsShort:"جنوری_فبروری_مارچ_اپریل_می_جون_جولای_آگست_سپتمبر_اکتوبر_نومبر_دیسمبر".split("_"),weekdays:{persian:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_آدینه_شنبه".split("_"),"persian-modern":"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_")}[r],weekdaysShort:{persian:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_آدینه_شنبه".split("_"),"persian-modern":"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_")}[r],weekdaysMin:{persian:"ی_د_س_چ_پ_آ_ش".split("_"),"persian-modern":"ی_د_س_چ_پ_ج_ش".split("_")}[r],longDateFormat:{LT:"HH:mm",L:"jYYYY/jMM/jDD",LL:"jD jMMMM jYYYY",LLL:"jD jMMMM jYYYY LT",LLLL:"dddd، jD jMMMM jYYYY LT"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [ی پیش ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",m:"1 دقیقه",mm:"%d دقیقه",h:"1 ساعت",hh:"%d ساعت",d:"1 روز",dd:"%d روز",M:"1 ماه",MM:"%d ماه",y:"1 سال",yy:"%d سال"},preparse:function(i){return t?i.replace(/[۰-۹]/g,function(l){return vf[l]}).replace(/،/g,","):i},postformat:function(i){return t?i.replace(/\d/g,function(l){return xf[l]}).replace(/,/g,"،"):i},ordinal:"%dم",week:{dow:6,doy:12},meridiem:function(i){return i<12?"ق.ظ":"ب.ظ"},jMonths:{"persian-dari":"حمل_ثور_جوزا_سرطان_اسد_سنبله_میزان_عقرب_قوس_جدی_دلو_حوت".split("_"),"persian-modern-dari":"حمل_ثور_جوزا_سرطان_اسد_سنبله_میزان_عقرب_قوس_جدی_دلو_حوت".split("_")}[r],jMonthsShort:{"persian-dari":"حمل_ثور_جوزا_سرط_اسد_سنب_میز_عقر_قوس_جدی_دلو_حوت".split("_"),"persian-modern-dari":"حمل_ثور_جوزا_سرط_اسد_سنب_میز_عقر_قوس_جدی_دلو_حوت".split("_")}[r]})};ve.loadPashto=function(e){var t=e!==void 0&&e.hasOwnProperty("usePersianDigits")?e.usePersianDigits:!1,r=e!==void 0&&e.hasOwnProperty("dialect")?e.dialect:"pashto";Ke.locale("ps-af"),Ke.updateLocale("ps-af",{months:"جنوری_فبروری_مارچ_اپریل_می_جون_جولای_آگست_سپتمبر_اکتوبر_نومبر_دیسمبر".split("_"),monthsShort:"جنوری_فبروری_مارچ_اپریل_می_جون_جولای_آگست_سپتمبر_اکتوبر_نومبر_دیسمبر".split("_"),weekdays:{pashto:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_آدینه_شنبه".split("_"),"pashto-modern":"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_")}[r],weekdaysShort:{pashto:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_آدینه_شنبه".split("_"),"pashto-modern":"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_")}[r],weekdaysMin:{pashto:"ی_د_س_چ_پ_آ_ش".split("_"),"pashto-modern":"ی_د_س_چ_پ_ج_ش".split("_")}[r],longDateFormat:{LT:"HH:mm",L:"jYYYY/jMM/jDD",LL:"jD jMMMM jYYYY",LLL:"jD jMMMM jYYYY LT",LLLL:"dddd، jD jMMMM jYYYY LT"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [ی پیش ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",m:"1 دقیقه",mm:"%d دقیقه",h:"1 ساعت",hh:"%d ساعت",d:"1 روز",dd:"%d روز",M:"1 ماه",MM:"%d ماه",y:"1 سال",yy:"%d سال"},preparse:function(i){return t?i.replace(/[۰-۹]/g,function(l){return vf[l]}).replace(/،/g,","):i},postformat:function(i){return t?i.replace(/\d/g,function(l){return xf[l]}).replace(/,/g,"،"):i},ordinal:"%dم",week:{dow:6,doy:12},meridiem:function(i){return i<12?"ق.ظ":"ب.ظ"},jMonths:{pashto:"وری_غویی_غبرګولی_چنګاښ_زمری_وږی_تله_لړم_لیندی_مرغومی_سلواغه_کب".split("_"),"pashto-modern":"وری_غویی_غبرګولی_چنګاښ_زمری_وږی_تله_لړم_لیندی_مرغومی_سلواغه_کب".split("_")}[r],jMonthsShort:{pashto:"وری_غوی_غبر_چنګ_زمر_وږی_لړم_لین_مرغ_سلو_کب".split("_"),"pashto-modern":"وری_غوی_غبر_چنګ_زمر_وږی_لړم_لین_مرغ_سلو_کب".split("_")}[r]})};ve.jConvert={toJalaali:Gr,toGregorian:Po};function Gr(e,t,r){try{var i=pf.toJalaali(e,t+1,r);return i.jm-=1,i}catch{return{jy:NaN,jm:NaN,jd:NaN}}}function Po(e,t,r){try{var i=pf.toGregorian(e,t+1,r);return i.gm-=1,i}catch{return{gy:NaN,gm:NaN,gd:NaN}}}function Ug(e,t){return~~(e/t)}function Zg(e,t){return e-~~(e/t)*t}const Es=fh(q1);function uw(e,t){const r=z.useRef(t);z.useEffect(function(){t!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),t!=null&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}const dw=1;function hw(e){return Object.freeze({__version:dw,map:e})}function fw(e,t){return Object.freeze({...e,...t})}const Hg=z.createContext(null),Vg=Hg.Provider;function Gg(){const e=z.useContext(Hg);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function mw(e){function t(r,i){const{instance:l,context:u}=e(r).current;return z.useImperativeHandle(i,()=>l),r.children==null?null:zi.createElement(Vg,{value:u},r.children)}return z.forwardRef(t)}function pw(e){function t(r,i){const{instance:l}=e(r).current;return z.useImperativeHandle(i,()=>l),null}return z.forwardRef(t)}function gw(e,t){const r=z.useRef();z.useEffect(function(){return t!=null&&e.instance.on(t),r.current=t,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,t])}function qg(e,t){const r=e.pane??t.pane;return r?{...e,pane:r}:e}var dh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(r,i){i(t)})(ap,function(r){var i="1.9.4";function l(n){var s,c,h,g;for(c=1,h=arguments.length;c<h;c++){g=arguments[c];for(s in g)n[s]=g[s]}return n}var u=Object.create||function(){function n(){}return function(s){return n.prototype=s,new n}}();function f(n,s){var c=Array.prototype.slice;if(n.bind)return n.bind.apply(n,c.call(arguments,1));var h=c.call(arguments,2);return function(){return n.apply(s,h.length?h.concat(c.call(arguments)):arguments)}}var p=0;function v(n){return"_leaflet_id"in n||(n._leaflet_id=++p),n._leaflet_id}function _(n,s,c){var h,g,y,E;return E=function(){h=!1,g&&(y.apply(c,g),g=!1)},y=function(){h?g=arguments:(n.apply(c,arguments),setTimeout(E,s),h=!0)},y}function C(n,s,c){var h=s[1],g=s[0],y=h-g;return n===h&&c?n:((n-g)%y+y)%y+g}function k(){return!1}function M(n,s){if(s===!1)return n;var c=Math.pow(10,s===void 0?6:s);return Math.round(n*c)/c}function O(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function T(n){return O(n).split(/\s+/)}function N(n,s){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?u(n.options):{});for(var c in s)n.options[c]=s[c];return n.options}function S(n,s,c){var h=[];for(var g in n)h.push(encodeURIComponent(c?g.toUpperCase():g)+"="+encodeURIComponent(n[g]));return(!s||s.indexOf("?")===-1?"?":"&")+h.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function w(n,s){return n.replace(b,function(c,h){var g=s[h];if(g===void 0)throw new Error("No value provided for variable "+c);return typeof g=="function"&&(g=g(s)),g})}var P=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function I(n,s){for(var c=0;c<n.length;c++)if(n[c]===s)return c;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var V=0;function Q(n){var s=+new Date,c=Math.max(0,16-(s-V));return V=s+c,window.setTimeout(n,c)}var ce=window.requestAnimationFrame||B("RequestAnimationFrame")||Q,ne=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function ge(n,s,c){if(c&&ce===Q)n.call(s);else return ce.call(window,f(n,s))}function X(n){n&&ne.call(window,n)}var U={__proto__:null,extend:l,create:u,bind:f,get lastId(){return p},stamp:v,throttle:_,wrapNum:C,falseFn:k,formatNum:M,trim:O,splitWords:T,setOptions:N,getParamString:S,template:w,isArray:P,indexOf:I,emptyImageUrl:A,requestFn:ce,cancelFn:ne,requestAnimFrame:ge,cancelAnimFrame:X};function ae(){}ae.extend=function(n){var s=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=s.__super__=this.prototype,h=u(c);h.constructor=s,s.prototype=h;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(s[g]=this[g]);return n.statics&&l(s,n.statics),n.includes&&(Y(n.includes),l.apply(null,[h].concat(n.includes))),l(h,n),delete h.statics,delete h.includes,h.options&&(h.options=c.options?u(c.options):{},l(h.options,n.options)),h._initHooks=[],h.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,E=h._initHooks.length;y<E;y++)h._initHooks[y].call(this)}},s},ae.include=function(n){var s=this.prototype.options;return l(this.prototype,n),n.options&&(this.prototype.options=s,this.mergeOptions(n.options)),this},ae.mergeOptions=function(n){return l(this.prototype.options,n),this},ae.addInitHook=function(n){var s=Array.prototype.slice.call(arguments,1),c=typeof n=="function"?n:function(){this[n].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Y(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=P(n)?n:[n];for(var s=0;s<n.length;s++)n[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var de={on:function(n,s,c){if(typeof n=="object")for(var h in n)this._on(h,n[h],s);else{n=T(n);for(var g=0,y=n.length;g<y;g++)this._on(n[g],s,c)}return this},off:function(n,s,c){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var h in n)this._off(h,n[h],s);else{n=T(n);for(var g=arguments.length===1,y=0,E=n.length;y<E;y++)g?this._off(n[y]):this._off(n[y],s,c)}return this},_on:function(n,s,c,h){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(n,s,c)===!1){c===this&&(c=void 0);var g={fn:s,ctx:c};h&&(g.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(g)}},_off:function(n,s,c){var h,g,y;if(this._events&&(h=this._events[n],!!h)){if(arguments.length===1){if(this._firingCount)for(g=0,y=h.length;g<y;g++)h[g].fn=k;delete this._events[n];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var E=this._listens(n,s,c);if(E!==!1){var R=h[E];this._firingCount&&(R.fn=k,this._events[n]=h=h.slice()),h.splice(E,1)}}},fire:function(n,s,c){if(!this.listens(n,c))return this;var h=l({},s,{type:n,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var g=this._events[n];if(g){this._firingCount=this._firingCount+1||1;for(var y=0,E=g.length;y<E;y++){var R=g[y],F=R.fn;R.once&&this.off(n,F,R.ctx),F.call(R.ctx||this,h)}this._firingCount--}}return c&&this._propagateEvent(h),this},listens:function(n,s,c,h){typeof n!="string"&&console.warn('"string" type argument expected');var g=s;typeof s!="function"&&(h=!!s,g=void 0,c=void 0);var y=this._events&&this._events[n];if(y&&y.length&&this._listens(n,g,c)!==!1)return!0;if(h){for(var E in this._eventParents)if(this._eventParents[E].listens(n,s,c,h))return!0}return!1},_listens:function(n,s,c){if(!this._events)return!1;var h=this._events[n]||[];if(!s)return!!h.length;c===this&&(c=void 0);for(var g=0,y=h.length;g<y;g++)if(h[g].fn===s&&h[g].ctx===c)return g;return!1},once:function(n,s,c){if(typeof n=="object")for(var h in n)this._on(h,n[h],s,!0);else{n=T(n);for(var g=0,y=n.length;g<y;g++)this._on(n[g],s,c,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[v(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[v(n)],this},_propagateEvent:function(n){for(var s in this._eventParents)this._eventParents[s].fire(n.type,l({layer:n.target,propagatedFrom:n.target},n),!0)}};de.addEventListener=de.on,de.removeEventListener=de.clearAllEventListeners=de.off,de.addOneTimeEventListener=de.once,de.fireEvent=de.fire,de.hasEventListeners=de.listens;var je=ae.extend(de);function W(n,s,c){this.x=c?Math.round(n):n,this.y=c?Math.round(s):s}var le=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(n){return this.clone()._add(H(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(H(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new W(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new W(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=le(this.x),this.y=le(this.y),this},distanceTo:function(n){n=H(n);var s=n.x-this.x,c=n.y-this.y;return Math.sqrt(s*s+c*c)},equals:function(n){return n=H(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=H(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function H(n,s,c){return n instanceof W?n:P(n)?new W(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new W(n.x,n.y):new W(n,s,c)}function ie(n,s){if(n)for(var c=s?[n,s]:n,h=0,g=c.length;h<g;h++)this.extend(c[h])}ie.prototype={extend:function(n){var s,c;if(!n)return this;if(n instanceof W||typeof n[0]=="number"||"x"in n)s=c=H(n);else if(n=he(n),s=n.min,c=n.max,!s||!c)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=c.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(n){return H((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return H(this.min.x,this.max.y)},getTopRight:function(){return H(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var s,c;return typeof n[0]=="number"||n instanceof W?n=H(n):n=he(n),n instanceof ie?(s=n.min,c=n.max):s=c=n,s.x>=this.min.x&&c.x<=this.max.x&&s.y>=this.min.y&&c.y<=this.max.y},intersects:function(n){n=he(n);var s=this.min,c=this.max,h=n.min,g=n.max,y=g.x>=s.x&&h.x<=c.x,E=g.y>=s.y&&h.y<=c.y;return y&&E},overlaps:function(n){n=he(n);var s=this.min,c=this.max,h=n.min,g=n.max,y=g.x>s.x&&h.x<c.x,E=g.y>s.y&&h.y<c.y;return y&&E},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var s=this.min,c=this.max,h=Math.abs(s.x-c.x)*n,g=Math.abs(s.y-c.y)*n;return he(H(s.x-h,s.y-g),H(c.x+h,c.y+g))},equals:function(n){return n?(n=he(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function he(n,s){return!n||n instanceof ie?n:new ie(n,s)}function Ee(n,s){if(n)for(var c=s?[n,s]:n,h=0,g=c.length;h<g;h++)this.extend(c[h])}Ee.prototype={extend:function(n){var s=this._southWest,c=this._northEast,h,g;if(n instanceof J)h=n,g=n;else if(n instanceof Ee){if(h=n._southWest,g=n._northEast,!h||!g)return this}else return n?this.extend(K(n)||ye(n)):this;return!s&&!c?(this._southWest=new J(h.lat,h.lng),this._northEast=new J(g.lat,g.lng)):(s.lat=Math.min(h.lat,s.lat),s.lng=Math.min(h.lng,s.lng),c.lat=Math.max(g.lat,c.lat),c.lng=Math.max(g.lng,c.lng)),this},pad:function(n){var s=this._southWest,c=this._northEast,h=Math.abs(s.lat-c.lat)*n,g=Math.abs(s.lng-c.lng)*n;return new Ee(new J(s.lat-h,s.lng-g),new J(c.lat+h,c.lng+g))},getCenter:function(){return new J((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new J(this.getNorth(),this.getWest())},getSouthEast:function(){return new J(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof J||"lat"in n?n=K(n):n=ye(n);var s=this._southWest,c=this._northEast,h,g;return n instanceof Ee?(h=n.getSouthWest(),g=n.getNorthEast()):h=g=n,h.lat>=s.lat&&g.lat<=c.lat&&h.lng>=s.lng&&g.lng<=c.lng},intersects:function(n){n=ye(n);var s=this._southWest,c=this._northEast,h=n.getSouthWest(),g=n.getNorthEast(),y=g.lat>=s.lat&&h.lat<=c.lat,E=g.lng>=s.lng&&h.lng<=c.lng;return y&&E},overlaps:function(n){n=ye(n);var s=this._southWest,c=this._northEast,h=n.getSouthWest(),g=n.getNorthEast(),y=g.lat>s.lat&&h.lat<c.lat,E=g.lng>s.lng&&h.lng<c.lng;return y&&E},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,s){return n?(n=ye(n),this._southWest.equals(n.getSouthWest(),s)&&this._northEast.equals(n.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ye(n,s){return n instanceof Ee?n:new Ee(n,s)}function J(n,s,c){if(isNaN(n)||isNaN(s))throw new Error("Invalid LatLng object: ("+n+", "+s+")");this.lat=+n,this.lng=+s,c!==void 0&&(this.alt=+c)}J.prototype={equals:function(n,s){if(!n)return!1;n=K(n);var c=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return c<=(s===void 0?1e-9:s)},toString:function(n){return"LatLng("+M(this.lat,n)+", "+M(this.lng,n)+")"},distanceTo:function(n){return Fe.distance(this,K(n))},wrap:function(){return Fe.wrapLatLng(this)},toBounds:function(n){var s=180*n/40075017,c=s/Math.cos(Math.PI/180*this.lat);return ye([this.lat-s,this.lng-c],[this.lat+s,this.lng+c])},clone:function(){return new J(this.lat,this.lng,this.alt)}};function K(n,s,c){return n instanceof J?n:P(n)&&typeof n[0]!="object"?n.length===3?new J(n[0],n[1],n[2]):n.length===2?new J(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new J(n.lat,"lng"in n?n.lng:n.lon,n.alt):s===void 0?null:new J(n,s,c)}var we={latLngToPoint:function(n,s){var c=this.projection.project(n),h=this.scale(s);return this.transformation._transform(c,h)},pointToLatLng:function(n,s){var c=this.scale(s),h=this.transformation.untransform(n,c);return this.projection.unproject(h)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var s=this.projection.bounds,c=this.scale(n),h=this.transformation.transform(s.min,c),g=this.transformation.transform(s.max,c);return new ie(h,g)},infinite:!1,wrapLatLng:function(n){var s=this.wrapLng?C(n.lng,this.wrapLng,!0):n.lng,c=this.wrapLat?C(n.lat,this.wrapLat,!0):n.lat,h=n.alt;return new J(c,s,h)},wrapLatLngBounds:function(n){var s=n.getCenter(),c=this.wrapLatLng(s),h=s.lat-c.lat,g=s.lng-c.lng;if(h===0&&g===0)return n;var y=n.getSouthWest(),E=n.getNorthEast(),R=new J(y.lat-h,y.lng-g),F=new J(E.lat-h,E.lng-g);return new Ee(R,F)}},Fe=l({},we,{wrapLng:[-180,180],R:6371e3,distance:function(n,s){var c=Math.PI/180,h=n.lat*c,g=s.lat*c,y=Math.sin((s.lat-n.lat)*c/2),E=Math.sin((s.lng-n.lng)*c/2),R=y*y+Math.cos(h)*Math.cos(g)*E*E,F=2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R));return this.R*F}}),An=6378137,Ks={R:An,MAX_LATITUDE:85.0511287798,project:function(n){var s=Math.PI/180,c=this.MAX_LATITUDE,h=Math.max(Math.min(c,n.lat),-c),g=Math.sin(h*s);return new W(this.R*n.lng*s,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(n){var s=180/Math.PI;return new J((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*s,n.x*s/this.R)},bounds:function(){var n=An*Math.PI;return new ie([-n,-n],[n,n])}()};function Qs(n,s,c,h){if(P(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=s,this._c=c,this._d=h}Qs.prototype={transform:function(n,s){return this._transform(n.clone(),s)},_transform:function(n,s){return s=s||1,n.x=s*(this._a*n.x+this._b),n.y=s*(this._c*n.y+this._d),n},untransform:function(n,s){return s=s||1,new W((n.x/s-this._b)/this._a,(n.y/s-this._d)/this._c)}};function ti(n,s,c,h){return new Qs(n,s,c,h)}var Xs=l({},Fe,{code:"EPSG:3857",projection:Ks,transformation:function(){var n=.5/(Math.PI*Ks.R);return ti(n,.5,-n,.5)}()}),Uc=l({},Xs,{code:"EPSG:900913"});function Mo(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Lo(n,s){var c="",h,g,y,E,R,F;for(h=0,y=n.length;h<y;h++){for(R=n[h],g=0,E=R.length;g<E;g++)F=R[g],c+=(g?"L":"M")+F.x+" "+F.y;c+=s?oe.svg?"z":"x":""}return c||"M0 0"}var ea=document.documentElement.style,Ui="ActiveXObject"in window,Zc=Ui&&!document.addEventListener,ta="msLaunchUri"in navigator&&!("documentMode"in document),_t=an("webkit"),Zi=an("android"),To=an("android 2")||an("android 3"),Hc=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Co=Zi&&an("Google")&&Hc<537&&!("AudioNode"in window),ft=!!window.opera,na=!ta&&an("chrome"),Hi=an("gecko")&&!_t&&!ft&&!Ui,Vi=!na&&an("safari"),Ie=an("phantom"),ra="OTransition"in ea,Eo=navigator.platform.indexOf("Win")===0,ni=Ui&&"transition"in ea,ri="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!To,ii="MozPerspective"in ea,dr=!window.L_DISABLE_3D&&(ni||ri||ii)&&!ra&&!Ie,Pn=typeof orientation<"u"||an("mobile"),Vc=Pn&&_t,Gi=Pn&&ri,Do=!window.PointerEvent&&window.MSPointerEvent,hr=!!(window.PointerEvent||Do),Fn="ontouchstart"in window||!!window.TouchEvent,ia=!window.L_NO_TOUCH&&(Fn||hr),qi=Pn&&ft,te=Pn&&Hi,Gc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qc=function(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",k,s),window.removeEventListener("testPassiveEventSupport",k,s)}catch{}return n}(),vn=function(){return!!document.createElement("canvas").getContext}(),yt=!!(document.createElementNS&&Mo("svg").createSVGRect),be=!!yt&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),sa=!yt&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var s=n.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),De=navigator.platform.indexOf("Mac")===0,si=navigator.platform.indexOf("Linux")===0;function an(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var oe={ie:Ui,ielt9:Zc,edge:ta,webkit:_t,android:Zi,android23:To,androidStock:Co,opera:ft,chrome:na,gecko:Hi,safari:Vi,phantom:Ie,opera12:ra,win:Eo,ie3d:ni,webkit3d:ri,gecko3d:ii,any3d:dr,mobile:Pn,mobileWebkit:Vc,mobileWebkit3d:Gi,msPointer:Do,pointer:hr,touch:ia,touchNative:Fn,mobileOpera:qi,mobileGecko:te,retina:Gc,passiveEvents:qc,canvas:vn,svg:yt,vml:sa,inlineSvg:be,mac:De,linux:si},at=oe.msPointer?"MSPointerDown":"pointerdown",on=oe.msPointer?"MSPointerMove":"pointermove",Vt=oe.msPointer?"MSPointerUp":"pointerup",Xe=oe.msPointer?"MSPointerCancel":"pointercancel",St={touchstart:at,touchmove:on,touchend:Vt,touchcancel:Xe},ln={touchstart:Qc,touchmove:li,touchend:li,touchcancel:li},Dt={},Oo=!1;function Jc(n,s,c){return s==="touchstart"&&oi(),ln[s]?(c=ln[s].bind(this,c),n.addEventListener(St[s],c,!1),c):(console.warn("wrong event specified:",s),k)}function ai(n,s,c){if(!St[s]){console.warn("wrong event specified:",s);return}n.removeEventListener(St[s],c,!1)}function zo(n){Dt[n.pointerId]=n}function Kc(n){Dt[n.pointerId]&&(Dt[n.pointerId]=n)}function $n(n){delete Dt[n.pointerId]}function oi(){Oo||(document.addEventListener(at,zo,!0),document.addEventListener(on,Kc,!0),document.addEventListener(Vt,$n,!0),document.addEventListener(Xe,$n,!0),Oo=!0)}function li(n,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var c in Dt)s.touches.push(Dt[c]);s.changedTouches=[s],n(s)}}function Qc(n,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&ot(s),li(n,s)}function Xc(n){var s={},c,h;for(h in n)c=n[h],s[h]=c&&c.bind?c.bind(n):c;return n=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var eu=200;function Ve(n,s){n.addEventListener("dblclick",s);var c=0,h;function g(y){if(y.detail!==1){h=y.detail;return}if(!(y.pointerType==="mouse"||y.sourceCapabilities&&!y.sourceCapabilities.firesTouchEvents)){var E=Ao(y);if(!(E.some(function(F){return F instanceof HTMLLabelElement&&F.attributes.for})&&!E.some(function(F){return F instanceof HTMLInputElement||F instanceof HTMLSelectElement}))){var R=Date.now();R-c<=eu?(h++,h===2&&s(Xc(y))):h=1,c=R}}}return n.addEventListener("click",g),{dblclick:s,simDblclick:g}}function aa(n,s){n.removeEventListener("dblclick",s.dblclick),n.removeEventListener("click",s.simDblclick)}var oa=Bn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fr=Bn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),la=fr==="webkitTransition"||fr==="OTransition"?fr+"End":"transitionend";function Io(n){return typeof n=="string"?document.getElementById(n):n}function ci(n,s){var c=n.style[s]||n.currentStyle&&n.currentStyle[s];if((!c||c==="auto")&&document.defaultView){var h=document.defaultView.getComputedStyle(n,null);c=h?h[s]:null}return c==="auto"?null:c}function Me(n,s,c){var h=document.createElement(n);return h.className=s||"",c&&c.appendChild(h),h}function Be(n){var s=n.parentNode;s&&s.removeChild(n)}function Ji(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function mr(n){var s=n.parentNode;s&&s.lastChild!==n&&s.appendChild(n)}function Yn(n){var s=n.parentNode;s&&s.firstChild!==n&&s.insertBefore(n,s.firstChild)}function Ki(n,s){if(n.classList!==void 0)return n.classList.contains(s);var c=ui(n);return c.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(c)}function xe(n,s){if(n.classList!==void 0)for(var c=T(s),h=0,g=c.length;h<g;h++)n.classList.add(c[h]);else if(!Ki(n,s)){var y=ui(n);ca(n,(y?y+" ":"")+s)}}function Ge(n,s){n.classList!==void 0?n.classList.remove(s):ca(n,O((" "+ui(n)+" ").replace(" "+s+" "," ")))}function ca(n,s){n.className.baseVal===void 0?n.className=s:n.className.baseVal=s}function ui(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function Ot(n,s){"opacity"in n.style?n.style.opacity=s:"filter"in n.style&&di(n,s)}function di(n,s){var c=!1,h="DXImageTransform.Microsoft.Alpha";try{c=n.filters.item(h)}catch{if(s===1)return}s=Math.round(s*100),c?(c.Enabled=s!==100,c.Opacity=s):n.style.filter+=" progid:"+h+"(opacity="+s+")"}function Bn(n){for(var s=document.documentElement.style,c=0;c<n.length;c++)if(n[c]in s)return n[c];return!1}function Mn(n,s,c){var h=s||new W(0,0);n.style[oa]=(oe.ie3d?"translate("+h.x+"px,"+h.y+"px)":"translate3d("+h.x+"px,"+h.y+"px,0)")+(c?" scale("+c+")":"")}function $e(n,s){n._leaflet_pos=s,oe.any3d?Mn(n,s):(n.style.left=s.x+"px",n.style.top=s.y+"px")}function mt(n){return n._leaflet_pos||new W(0,0)}var hi,fi,ua;if("onselectstart"in document)hi=function(){me(window,"selectstart",ot)},fi=function(){Re(window,"selectstart",ot)};else{var mi=Bn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);hi=function(){if(mi){var n=document.documentElement.style;ua=n[mi],n[mi]="none"}},fi=function(){mi&&(document.documentElement.style[mi]=ua,ua=void 0)}}function da(){me(window,"dragstart",ot)}function ha(){Re(window,"dragstart",ot)}var Qi,fa;function pi(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Xi(),Qi=n,fa=n.style.outlineStyle,n.style.outlineStyle="none",me(window,"keydown",Xi))}function Xi(){Qi&&(Qi.style.outlineStyle=fa,Qi=void 0,fa=void 0,Re(window,"keydown",Xi))}function ma(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function pa(n){var s=n.getBoundingClientRect();return{x:s.width/n.offsetWidth||1,y:s.height/n.offsetHeight||1,boundingClientRect:s}}var tu={__proto__:null,TRANSFORM:oa,TRANSITION:fr,TRANSITION_END:la,get:Io,getStyle:ci,create:Me,remove:Be,empty:Ji,toFront:mr,toBack:Yn,hasClass:Ki,addClass:xe,removeClass:Ge,setClass:ca,getClass:ui,setOpacity:Ot,testProp:Bn,setTransform:Mn,setPosition:$e,getPosition:mt,get disableTextSelection(){return hi},get enableTextSelection(){return fi},disableImageDrag:da,enableImageDrag:ha,preventOutline:pi,restoreOutline:Xi,getSizedParentNode:ma,getScale:pa};function me(n,s,c,h){if(s&&typeof s=="object")for(var g in s)xa(n,g,s[g],c);else{s=T(s);for(var y=0,E=s.length;y<E;y++)xa(n,s[y],c,h)}return this}var cn="_leaflet_events";function Re(n,s,c,h){if(arguments.length===1)Ro(n),delete n[cn];else if(s&&typeof s=="object")for(var g in s)va(n,g,s[g],c);else if(s=T(s),arguments.length===2)Ro(n,function(R){return I(s,R)!==-1});else for(var y=0,E=s.length;y<E;y++)va(n,s[y],c,h);return this}function Ro(n,s){for(var c in n[cn]){var h=c.split(/\d/)[0];(!s||s(h))&&va(n,h,null,null,c)}}var ga={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function xa(n,s,c,h){var g=s+v(c)+(h?"_"+v(h):"");if(n[cn]&&n[cn][g])return this;var y=function(R){return c.call(h||n,R||window.event)},E=y;!oe.touchNative&&oe.pointer&&s.indexOf("touch")===0?y=Jc(n,s,y):oe.touch&&s==="dblclick"?y=Ve(n,y):"addEventListener"in n?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?n.addEventListener(ga[s]||s,y,oe.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(y=function(R){R=R||window.event,ts(n,R)&&E(R)},n.addEventListener(ga[s],y,!1)):n.addEventListener(s,E,!1):n.attachEvent("on"+s,y),n[cn]=n[cn]||{},n[cn][g]=y}function va(n,s,c,h,g){g=g||s+v(c)+(h?"_"+v(h):"");var y=n[cn]&&n[cn][g];if(!y)return this;!oe.touchNative&&oe.pointer&&s.indexOf("touch")===0?ai(n,s,y):oe.touch&&s==="dblclick"?aa(n,y):"removeEventListener"in n?n.removeEventListener(ga[s]||s,y,!1):n.detachEvent("on"+s,y),n[cn][g]=null}function Wn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function _a(n){return xa(n,"wheel",Wn),this}function gi(n){return me(n,"mousedown touchstart dblclick contextmenu",Wn),n._leaflet_disable_click=!0,this}function ot(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Un(n){return ot(n),Wn(n),this}function Ao(n){if(n.composedPath)return n.composedPath();for(var s=[],c=n.target;c;)s.push(c),c=c.parentNode;return s}function es(n,s){if(!s)return new W(n.clientX,n.clientY);var c=pa(s),h=c.boundingClientRect;return new W((n.clientX-h.left)/c.x-s.clientLeft,(n.clientY-h.top)/c.y-s.clientTop)}var ya=oe.linux&&oe.chrome?window.devicePixelRatio:oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Fo(n){return oe.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/ya:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function ts(n,s){var c=s.relatedTarget;if(!c)return!0;try{for(;c&&c!==n;)c=c.parentNode}catch{return!1}return c!==n}var $o={__proto__:null,on:me,off:Re,stopPropagation:Wn,disableScrollPropagation:_a,disableClickPropagation:gi,preventDefault:ot,stop:Un,getPropagationPath:Ao,getMousePosition:es,getWheelDelta:Fo,isExternalTarget:ts,addListener:me,removeListener:Re},Yo=je.extend({run:function(n,s,c,h){this.stop(),this._el=n,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(h||.5,.2),this._startPos=mt(n),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ge(this._animate,this),this._step()},_step:function(n){var s=+new Date-this._startTime,c=this._duration*1e3;s<c?this._runFrame(this._easeOut(s/c),n):(this._runFrame(1),this._complete())},_runFrame:function(n,s){var c=this._startPos.add(this._offset.multiplyBy(n));s&&c._round(),$e(this._el,c),this.fire("step")},_complete:function(){X(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),ke=je.extend({options:{crs:Xs,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,s){s=N(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(K(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fr&&oe.any3d&&!oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),me(this._proxy,la,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,s,c){if(s=s===void 0?this._zoom:this._limitZoom(s),n=this._limitCenter(K(n),s,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=l({animate:c.animate},c.zoom),c.pan=l({animate:c.animate,duration:c.duration},c.pan));var h=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,s,c.zoom):this._tryAnimatedPan(n,c.pan);if(h)return clearTimeout(this._sizeTimer),this}return this._resetView(n,s,c.pan&&c.pan.noMoveStart),this},setZoom:function(n,s){return this._loaded?this.setView(this.getCenter(),n,{zoom:s}):(this._zoom=n,this)},zoomIn:function(n,s){return n=n||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,s)},zoomOut:function(n,s){return n=n||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,s)},setZoomAround:function(n,s,c){var h=this.getZoomScale(s),g=this.getSize().divideBy(2),y=n instanceof W?n:this.latLngToContainerPoint(n),E=y.subtract(g).multiplyBy(1-1/h),R=this.containerPointToLatLng(g.add(E));return this.setView(R,s,{zoom:c})},_getBoundsCenterZoom:function(n,s){s=s||{},n=n.getBounds?n.getBounds():ye(n);var c=H(s.paddingTopLeft||s.padding||[0,0]),h=H(s.paddingBottomRight||s.padding||[0,0]),g=this.getBoundsZoom(n,!1,c.add(h));if(g=typeof s.maxZoom=="number"?Math.min(s.maxZoom,g):g,g===1/0)return{center:n.getCenter(),zoom:g};var y=h.subtract(c).divideBy(2),E=this.project(n.getSouthWest(),g),R=this.project(n.getNorthEast(),g),F=this.unproject(E.add(R).divideBy(2).add(y),g);return{center:F,zoom:g}},fitBounds:function(n,s){if(n=ye(n),!n.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(n,s);return this.setView(c.center,c.zoom,s)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,s){return this.setView(n,this._zoom,{pan:s})},panBy:function(n,s){if(n=H(n).round(),s=s||{},!n.x&&!n.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Yo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){xe(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,c,s.duration||.25,s.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,s,c){if(c=c||{},c.animate===!1||!oe.any3d)return this.setView(n,s,c);this._stop();var h=this.project(this.getCenter()),g=this.project(n),y=this.getSize(),E=this._zoom;n=K(n),s=s===void 0?E:s;var R=Math.max(y.x,y.y),F=R*this.getZoomScale(E,s),Z=g.distanceTo(h)||1,ee=1.42,ue=ee*ee;function _e(et){var ps=et?-1:1,Tu=et?F:R,Cu=F*F-R*R+ps*ue*ue*Z*Z,Eu=2*Tu*ue*Z,Ta=Cu/Eu,gs=Math.sqrt(Ta*Ta+1)-Ta,Du=gs<1e-9?-18:Math.log(gs);return Du}function pt(et){return(Math.exp(et)-Math.exp(-et))/2}function it(et){return(Math.exp(et)+Math.exp(-et))/2}function Ft(et){return pt(et)/it(et)}var wt=_e(0);function Nr(et){return R*(it(wt)/it(wt+ee*et))}function Su(et){return R*(it(wt)*Ft(wt+ee*et)-pt(wt))/ue}function Pu(et){return 1-Math.pow(1-et,1.5)}var Mu=Date.now(),pl=(_e(1)-wt)/ee,Lu=c.duration?1e3*c.duration:1e3*pl*.8;function gl(){var et=(Date.now()-Mu)/Lu,ps=Pu(et)*pl;et<=1?(this._flyToFrame=ge(gl,this),this._move(this.unproject(h.add(g.subtract(h).multiplyBy(Su(ps)/Z)),E),this.getScaleZoom(R/Nr(ps),E),{flyTo:!0})):this._move(n,s)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),gl.call(this),this},flyToBounds:function(n,s){var c=this._getBoundsCenterZoom(n,s);return this.flyTo(c.center,c.zoom,s)},setMaxBounds:function(n){return n=ye(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var s=this.options.minZoom;return this.options.minZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var s=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,s){this._enforcingBounds=!0;var c=this.getCenter(),h=this._limitCenter(c,this._zoom,ye(n));return c.equals(h)||this.panTo(h,s),this._enforcingBounds=!1,this},panInside:function(n,s){s=s||{};var c=H(s.paddingTopLeft||s.padding||[0,0]),h=H(s.paddingBottomRight||s.padding||[0,0]),g=this.project(this.getCenter()),y=this.project(n),E=this.getPixelBounds(),R=he([E.min.add(c),E.max.subtract(h)]),F=R.getSize();if(!R.contains(y)){this._enforcingBounds=!0;var Z=y.subtract(R.getCenter()),ee=R.extend(y).getSize().subtract(F);g.x+=Z.x<0?-ee.x:ee.x,g.y+=Z.y<0?-ee.y:ee.y,this.panTo(this.unproject(g),s),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=l({animate:!1,pan:!0},n===!0?{animate:!0}:n);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),h=s.divideBy(2).round(),g=c.divideBy(2).round(),y=h.subtract(g);return!y.x&&!y.y?this:(n.animate&&n.pan?this.panBy(y):(n.pan&&this._rawPanBy(y),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=l({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=f(this._handleGeolocationResponse,this),c=f(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,c,n):navigator.geolocation.getCurrentPosition(s,c,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var s=n.code,c=n.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var s=n.coords.latitude,c=n.coords.longitude,h=new J(s,c),g=h.toBounds(n.coords.accuracy*2),y=this._locateOptions;if(y.setView){var E=this.getBoundsZoom(g);this.setView(h,y.maxZoom?Math.min(E,y.maxZoom):E)}var R={latlng:h,bounds:g,timestamp:n.timestamp};for(var F in n.coords)typeof n.coords[F]=="number"&&(R[F]=n.coords[F]);this.fire("locationfound",R)}},addHandler:function(n,s){if(!s)return this;var c=this[n]=new s(this);return this._handlers.push(c),this.options[n]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Be(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(X(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Be(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,s){var c="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),h=Me("div",c,s||this._mapPane);return n&&(this._panes[n]=h),h},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),s=this.unproject(n.getBottomLeft()),c=this.unproject(n.getTopRight());return new Ee(s,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,s,c){n=ye(n),c=H(c||[0,0]);var h=this.getZoom()||0,g=this.getMinZoom(),y=this.getMaxZoom(),E=n.getNorthWest(),R=n.getSouthEast(),F=this.getSize().subtract(c),Z=he(this.project(R,h),this.project(E,h)).getSize(),ee=oe.any3d?this.options.zoomSnap:1,ue=F.x/Z.x,_e=F.y/Z.y,pt=s?Math.max(ue,_e):Math.min(ue,_e);return h=this.getScaleZoom(pt,h),ee&&(h=Math.round(h/(ee/100))*(ee/100),h=s?Math.ceil(h/ee)*ee:Math.floor(h/ee)*ee),Math.max(g,Math.min(y,h))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,s){var c=this._getTopLeftPoint(n,s);return new ie(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,s){var c=this.options.crs;return s=s===void 0?this._zoom:s,c.scale(n)/c.scale(s)},getScaleZoom:function(n,s){var c=this.options.crs;s=s===void 0?this._zoom:s;var h=c.zoom(n*c.scale(s));return isNaN(h)?1/0:h},project:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(K(n),s)},unproject:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(H(n),s)},layerPointToLatLng:function(n){var s=H(n).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(n){var s=this.project(K(n))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(K(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(ye(n))},distance:function(n,s){return this.options.crs.distance(K(n),K(s))},containerPointToLayerPoint:function(n){return H(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return H(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var s=this.containerPointToLayerPoint(H(n));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(n)))},mouseEventToContainerPoint:function(n){return es(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var s=this._container=Io(n);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");me(s,"scroll",this._onScroll,this),this._containerId=v(s)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&oe.any3d,xe(n,"leaflet-container"+(oe.touch?" leaflet-touch":"")+(oe.retina?" leaflet-retina":"")+(oe.ielt9?" leaflet-oldie":"")+(oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=ci(n,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),$e(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xe(n.markerPane,"leaflet-zoom-hide"),xe(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,s,c){$e(this._mapPane,new W(0,0));var h=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var g=this._zoom!==s;this._moveStart(g,c)._move(n,s)._moveEnd(g),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(n,s){return n&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(n,s,c,h){s===void 0&&(s=this._zoom);var g=this._zoom!==s;return this._zoom=s,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),h?c&&c.pinch&&this.fire("zoom",c):((g||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return X(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){$e(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[v(this._container)]=this;var s=n?Re:me;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),oe.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){X(this._resizeRequest),this._resizeRequest=ge(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,s){for(var c=[],h,g=s==="mouseout"||s==="mouseover",y=n.target||n.srcElement,E=!1;y;){if(h=this._targets[v(y)],h&&(s==="click"||s==="preclick")&&this._draggableMoved(h)){E=!0;break}if(h&&h.listens(s,!0)&&(g&&!ts(y,n)||(c.push(h),g))||y===this._container)break;y=y.parentNode}return!c.length&&!E&&!g&&this.listens(s,!0)&&(c=[this]),c},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var s=n.target||n.srcElement;if(!(!this._loaded||s._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(s))){var c=n.type;c==="mousedown"&&pi(s),this._fireDOMEvent(n,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,s,c){if(n.type==="click"){var h=l({},n);h.type="preclick",this._fireDOMEvent(h,h.type,c)}var g=this._findEventTargets(n,s);if(c){for(var y=[],E=0;E<c.length;E++)c[E].listens(s,!0)&&y.push(c[E]);g=y.concat(g)}if(g.length){s==="contextmenu"&&ot(n);var R=g[0],F={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var Z=R.getLatLng&&(!R._radius||R._radius<=10);F.containerPoint=Z?this.latLngToContainerPoint(R.getLatLng()):this.mouseEventToContainerPoint(n),F.layerPoint=this.containerPointToLayerPoint(F.containerPoint),F.latlng=Z?R.getLatLng():this.layerPointToLatLng(F.layerPoint)}for(E=0;E<g.length;E++)if(g[E].fire(s,F,!0),F.originalEvent._stopped||g[E].options.bubblingMouseEvents===!1&&I(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,s=this._handlers.length;n<s;n++)this._handlers[n].disable()},whenReady:function(n,s){return this._loaded?n.call(s||this,{target:this}):this.on("load",n,s),this},_getMapPanePos:function(){return mt(this._mapPane)||new W(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,s){var c=n&&s!==void 0?this._getNewPixelOrigin(n,s):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,s){var c=this.getSize()._divideBy(2);return this.project(n,s)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,s,c){var h=this._getNewPixelOrigin(c,s);return this.project(n,s)._subtract(h)},_latLngBoundsToNewLayerBounds:function(n,s,c){var h=this._getNewPixelOrigin(c,s);return he([this.project(n.getSouthWest(),s)._subtract(h),this.project(n.getNorthWest(),s)._subtract(h),this.project(n.getSouthEast(),s)._subtract(h),this.project(n.getNorthEast(),s)._subtract(h)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,s,c){if(!c)return n;var h=this.project(n,s),g=this.getSize().divideBy(2),y=new ie(h.subtract(g),h.add(g)),E=this._getBoundsOffset(y,c,s);return Math.abs(E.x)<=1&&Math.abs(E.y)<=1?n:this.unproject(h.add(E),s)},_limitOffset:function(n,s){if(!s)return n;var c=this.getPixelBounds(),h=new ie(c.min.add(n),c.max.add(n));return n.add(this._getBoundsOffset(h,s))},_getBoundsOffset:function(n,s,c){var h=he(this.project(s.getNorthEast(),c),this.project(s.getSouthWest(),c)),g=h.min.subtract(n.min),y=h.max.subtract(n.max),E=this._rebound(g.x,-y.x),R=this._rebound(g.y,-y.y);return new W(E,R)},_rebound:function(n,s){return n+s>0?Math.round(n-s)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(s))},_limitZoom:function(n){var s=this.getMinZoom(),c=this.getMaxZoom(),h=oe.any3d?this.options.zoomSnap:1;return h&&(n=Math.round(n/h)*h),Math.max(s,Math.min(c,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,s){var c=this._getCenterOffset(n)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,s),!0)},_createAnimProxy:function(){var n=this._proxy=Me("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(s){var c=oa,h=this._proxy.style[c];Mn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),h===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Be(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),s=this.getZoom();Mn(this._proxy,this.project(n,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,s,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var h=this.getZoomScale(s),g=this._getCenterOffset(n)._divideBy(1-1/h);return c.animate!==!0&&!this.getSize().contains(g)?!1:(ge(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(n,s,!0)},this),!0)},_animateZoom:function(n,s,c,h){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=s,xe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:s,noUpdate:h}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function nu(n,s){return new ke(n,s)}var Gt=ae.extend({options:{position:"topright"},initialize:function(n){N(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var s=this._map;return s&&s.removeControl(this),this.options.position=n,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var s=this._container=this.onAdd(n),c=this.getPosition(),h=n._controlCorners[c];return xe(s,"leaflet-control"),c.indexOf("bottom")!==-1?h.insertBefore(s,h.firstChild):h.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Be(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),pr=function(n){return new Gt(n)};ke.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},s="leaflet-",c=this._controlContainer=Me("div",s+"control-container",this._container);function h(g,y){var E=s+g+" "+s+y;n[g+y]=Me("div",E,c)}h("top","left"),h("top","right"),h("bottom","left"),h("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Be(this._controlCorners[n]);Be(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ae=Gt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,s,c,h){return c<h?-1:h<c?1:0}},initialize:function(n,s,c){N(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var h in n)this._addLayer(n[h],h);for(h in s)this._addLayer(s[h],h,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Gt.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,s){return this._addLayer(n,s),this._map?this._update():this},addOverlay:function(n,s){return this._addLayer(n,s,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var s=this._getLayer(v(n));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){xe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(xe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):Ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",s=this._container=Me("div",n),c=this.options.collapsed;s.setAttribute("aria-haspopup",!0),gi(s),_a(s);var h=this._section=Me("section",n+"-list");c&&(this._map.on("click",this.collapse,this),me(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=Me("a",n+"-toggle",s);g.href="#",g.title="Layers",g.setAttribute("role","button"),me(g,{keydown:function(y){y.keyCode===13&&this._expandSafely()},click:function(y){ot(y),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Me("div",n+"-base",h),this._separator=Me("div",n+"-separator",h),this._overlaysList=Me("div",n+"-overlays",h),s.appendChild(h)},_getLayer:function(n){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&v(this._layers[s].layer)===n)return this._layers[s]},_addLayer:function(n,s,c){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:s,overlay:c}),this.options.sortLayers&&this._layers.sort(f(function(h,g){return this.options.sortFunction(h.layer,g.layer,h.name,g.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ji(this._baseLayersList),Ji(this._overlaysList),this._layerControlInputs=[];var n,s,c,h,g=0;for(c=0;c<this._layers.length;c++)h=this._layers[c],this._addItem(h),s=s||h.overlay,n=n||!h.overlay,g+=h.overlay?0:1;return this.options.hideSingleBase&&(n=n&&g>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=s&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var s=this._getLayer(v(n.target)),c=s.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;c&&this._map.fire(c,s)},_createRadioElement:function(n,s){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(s?' checked="checked"':"")+"/>",h=document.createElement("div");return h.innerHTML=c,h.firstChild},_addItem:function(n){var s=document.createElement("label"),c=this._map.hasLayer(n.layer),h;n.overlay?(h=document.createElement("input"),h.type="checkbox",h.className="leaflet-control-layers-selector",h.defaultChecked=c):h=this._createRadioElement("leaflet-base-layers_"+v(this),c),this._layerControlInputs.push(h),h.layerId=v(n.layer),me(h,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+n.name;var y=document.createElement("span");s.appendChild(y),y.appendChild(h),y.appendChild(g);var E=n.overlay?this._overlaysList:this._baseLayersList;return E.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,s,c,h=[],g=[];this._handlingClick=!0;for(var y=n.length-1;y>=0;y--)s=n[y],c=this._getLayer(s.layerId).layer,s.checked?h.push(c):s.checked||g.push(c);for(y=0;y<g.length;y++)this._map.hasLayer(g[y])&&this._map.removeLayer(g[y]);for(y=0;y<h.length;y++)this._map.hasLayer(h[y])||this._map.addLayer(h[y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,s,c,h=this._map.getZoom(),g=n.length-1;g>=0;g--)s=n[g],c=this._getLayer(s.layerId).layer,s.disabled=c.options.minZoom!==void 0&&h<c.options.minZoom||c.options.maxZoom!==void 0&&h>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,me(n,"click",ot),this.expand();var s=this;setTimeout(function(){Re(n,"click",ot),s._preventClick=!1})}}),xi=function(n,s,c){return new Ae(n,s,c)},Zn=Gt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var s="leaflet-control-zoom",c=Me("div",s+" leaflet-bar"),h=this.options;return this._zoomInButton=this._createButton(h.zoomInText,h.zoomInTitle,s+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(h.zoomOutText,h.zoomOutTitle,s+"-out",c,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,s,c,h,g){var y=Me("a",c,h);return y.innerHTML=n,y.href="#",y.title=s,y.setAttribute("role","button"),y.setAttribute("aria-label",s),gi(y),me(y,"click",Un),me(y,"click",g,this),me(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var n=this._map,s="leaflet-disabled";Ge(this._zoomInButton,s),Ge(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(xe(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(xe(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});ke.mergeOptions({zoomControl:!0}),ke.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Zn,this.addControl(this.zoomControl))});var ru=function(n){return new Zn(n)},wa=Gt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var s="leaflet-control-scale",c=Me("div",s),h=this.options;return this._addScales(h,s+"-line",c),n.on(h.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),c},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,s,c){n.metric&&(this._mScale=Me("div",s,c)),n.imperial&&(this._iScale=Me("div",s,c))},_update:function(){var n=this._map,s=n.getSize().y/2,c=n.distance(n.containerPointToLatLng([0,s]),n.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(c)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var s=this._getRoundNum(n),c=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,c,s/n)},_updateImperial:function(n){var s=n*3.2808399,c,h,g;s>5280?(c=s/5280,h=this._getRoundNum(c),this._updateScale(this._iScale,h+" mi",h/c)):(g=this._getRoundNum(s),this._updateScale(this._iScale,g+" ft",g/s))},_updateScale:function(n,s,c){n.style.width=Math.round(this.options.maxWidth*c)+"px",n.innerHTML=s},_getRoundNum:function(n){var s=Math.pow(10,(Math.floor(n)+"").length-1),c=n/s;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,s*c}}),iu=function(n){return new wa(n)},su='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',gr=Gt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(oe.inlineSvg?su+" ":"")+"Leaflet</a>"},initialize:function(n){N(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Me("div","leaflet-control-attribution"),gi(this._container);for(var s in n._layers)n._layers[s].getAttribution&&this.addAttribution(n._layers[s].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var s in this._attributions)this._attributions[s]&&n.push(s);var c=[];this.options.prefix&&c.push(this.options.prefix),n.length&&c.push(n.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});ke.mergeOptions({attributionControl:!0}),ke.addInitHook(function(){this.options.attributionControl&&new gr().addTo(this)});var Ln=function(n){return new gr(n)};Gt.Layers=Ae,Gt.Zoom=Zn,Gt.Scale=wa,Gt.Attribution=gr,pr.layers=xi,pr.zoom=ru,pr.scale=iu,pr.attribution=Ln;var zt=ae.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});zt.addTo=function(n,s){return n.addHandler(s,this),this};var au={Events:de},un=oe.touch?"touchstart mousedown":"mousedown",Tn=je.extend({options:{clickTolerance:3},initialize:function(n,s,c,h){N(this,h),this._element=n,this._dragStartTarget=s||n,this._preventOutline=c},enable:function(){this._enabled||(me(this._dragStartTarget,un,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Tn._dragging===this&&this.finishDrag(!0),Re(this._dragStartTarget,un,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Ki(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Tn._dragging===this&&this.finishDrag();return}if(!(Tn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Tn._dragging=this,this._preventOutline&&pi(this._element),da(),hi(),!this._moving)){this.fire("down");var s=n.touches?n.touches[0]:n,c=ma(this._element);this._startPoint=new W(s.clientX,s.clientY),this._startPos=mt(this._element),this._parentScale=pa(c);var h=n.type==="mousedown";me(document,h?"mousemove":"touchmove",this._onMove,this),me(document,h?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var s=n.touches&&n.touches.length===1?n.touches[0]:n,c=new W(s.clientX,s.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,ot(n),this._moved||(this.fire("dragstart"),this._moved=!0,xe(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),$e(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){Ge(document.body,"leaflet-dragging"),this._lastTarget&&(Ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Re(document,"mousemove touchmove",this._onMove,this),Re(document,"mouseup touchend touchcancel",this._onUp,this),ha(),fi();var s=this._moved&&this._moving;this._moving=!1,Tn._dragging=!1,s&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function ns(n,s,c){var h,g=[1,4,2,8],y,E,R,F,Z,ee,ue,_e;for(y=0,ee=n.length;y<ee;y++)n[y]._code=Hn(n[y],s);for(R=0;R<4;R++){for(ue=g[R],h=[],y=0,ee=n.length,E=ee-1;y<ee;E=y++)F=n[y],Z=n[E],F._code&ue?Z._code&ue||(_e=is(Z,F,ue,s,c),_e._code=Hn(_e,s),h.push(_e)):(Z._code&ue&&(_e=is(Z,F,ue,s,c),_e._code=Hn(_e,s),h.push(_e)),h.push(F));n=h}return n}function Bo(n,s){var c,h,g,y,E,R,F,Z,ee;if(!n||n.length===0)throw new Error("latlngs not passed");It(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ue=K([0,0]),_e=ye(n),pt=_e.getNorthWest().distanceTo(_e.getSouthWest())*_e.getNorthEast().distanceTo(_e.getNorthWest());pt<1700&&(ue=ja(n));var it=n.length,Ft=[];for(c=0;c<it;c++){var wt=K(n[c]);Ft.push(s.project(K([wt.lat-ue.lat,wt.lng-ue.lng])))}for(R=F=Z=0,c=0,h=it-1;c<it;h=c++)g=Ft[c],y=Ft[h],E=g.y*y.x-y.y*g.x,F+=(g.x+y.x)*E,Z+=(g.y+y.y)*E,R+=E*3;R===0?ee=Ft[0]:ee=[F/R,Z/R];var Nr=s.unproject(H(ee));return K([Nr.lat+ue.lat,Nr.lng+ue.lng])}function ja(n){for(var s=0,c=0,h=0,g=0;g<n.length;g++){var y=K(n[g]);s+=y.lat,c+=y.lng,h++}return K([s/h,c/h])}var ou={__proto__:null,clipPolygon:ns,polygonCenter:Bo,centroid:ja};function vi(n,s){if(!s||!n.length)return n.slice();var c=s*s;return n=Wo(n,c),n=cu(n,c),n}function rs(n,s,c){return Math.sqrt(xr(n,s,c,!0))}function lu(n,s,c){return xr(n,s,c)}function cu(n,s){var c=n.length,h=typeof Uint8Array!=void 0+""?Uint8Array:Array,g=new h(c);g[0]=g[c-1]=1,ba(n,g,s,0,c-1);var y,E=[];for(y=0;y<c;y++)g[y]&&E.push(n[y]);return E}function ba(n,s,c,h,g){var y=0,E,R,F;for(R=h+1;R<=g-1;R++)F=xr(n[R],n[h],n[g],!0),F>y&&(E=R,y=F);y>c&&(s[E]=1,ba(n,s,c,h,E),ba(n,s,c,E,g))}function Wo(n,s){for(var c=[n[0]],h=1,g=0,y=n.length;h<y;h++)uu(n[h],n[g])>s&&(c.push(n[h]),g=h);return g<y-1&&c.push(n[y-1]),c}var Uo;function Zo(n,s,c,h,g){var y=h?Uo:Hn(n,c),E=Hn(s,c),R,F,Z;for(Uo=E;;){if(!(y|E))return[n,s];if(y&E)return!1;R=y||E,F=is(n,s,R,c,g),Z=Hn(F,c),R===y?(n=F,y=Z):(s=F,E=Z)}}function is(n,s,c,h,g){var y=s.x-n.x,E=s.y-n.y,R=h.min,F=h.max,Z,ee;return c&8?(Z=n.x+y*(F.y-n.y)/E,ee=F.y):c&4?(Z=n.x+y*(R.y-n.y)/E,ee=R.y):c&2?(Z=F.x,ee=n.y+E*(F.x-n.x)/y):c&1&&(Z=R.x,ee=n.y+E*(R.x-n.x)/y),new W(Z,ee,g)}function Hn(n,s){var c=0;return n.x<s.min.x?c|=1:n.x>s.max.x&&(c|=2),n.y<s.min.y?c|=4:n.y>s.max.y&&(c|=8),c}function uu(n,s){var c=s.x-n.x,h=s.y-n.y;return c*c+h*h}function xr(n,s,c,h){var g=s.x,y=s.y,E=c.x-g,R=c.y-y,F=E*E+R*R,Z;return F>0&&(Z=((n.x-g)*E+(n.y-y)*R)/F,Z>1?(g=c.x,y=c.y):Z>0&&(g+=E*Z,y+=R*Z)),E=n.x-g,R=n.y-y,h?E*E+R*R:new W(g,y)}function It(n){return!P(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Vn(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),It(n)}function Ho(n,s){var c,h,g,y,E,R,F,Z;if(!n||n.length===0)throw new Error("latlngs not passed");It(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ee=K([0,0]),ue=ye(n),_e=ue.getNorthWest().distanceTo(ue.getSouthWest())*ue.getNorthEast().distanceTo(ue.getNorthWest());_e<1700&&(ee=ja(n));var pt=n.length,it=[];for(c=0;c<pt;c++){var Ft=K(n[c]);it.push(s.project(K([Ft.lat-ee.lat,Ft.lng-ee.lng])))}for(c=0,h=0;c<pt-1;c++)h+=it[c].distanceTo(it[c+1])/2;if(h===0)Z=it[0];else for(c=0,y=0;c<pt-1;c++)if(E=it[c],R=it[c+1],g=E.distanceTo(R),y+=g,y>h){F=(y-h)/g,Z=[R.x-F*(R.x-E.x),R.y-F*(R.y-E.y)];break}var wt=s.unproject(H(Z));return K([wt.lat+ee.lat,wt.lng+ee.lng])}var Na={__proto__:null,simplify:vi,pointToSegmentDistance:rs,closestPointOnSegment:lu,clipSegment:Zo,_getEdgeIntersection:is,_getBitCode:Hn,_sqClosestPointOnSegment:xr,isFlat:It,_flat:Vn,polylineCenter:Ho},ka={project:function(n){return new W(n.lng,n.lat)},unproject:function(n){return new J(n.y,n.x)},bounds:new ie([-180,-90],[180,90])},_i={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ie([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var s=Math.PI/180,c=this.R,h=n.lat*s,g=this.R_MINOR/c,y=Math.sqrt(1-g*g),E=y*Math.sin(h),R=Math.tan(Math.PI/4-h/2)/Math.pow((1-E)/(1+E),y/2);return h=-c*Math.log(Math.max(R,1e-10)),new W(n.lng*s*c,h)},unproject:function(n){for(var s=180/Math.PI,c=this.R,h=this.R_MINOR/c,g=Math.sqrt(1-h*h),y=Math.exp(-n.y/c),E=Math.PI/2-2*Math.atan(y),R=0,F=.1,Z;R<15&&Math.abs(F)>1e-7;R++)Z=g*Math.sin(E),Z=Math.pow((1-Z)/(1+Z),g/2),F=Math.PI/2-2*Math.atan(y*Z)-E,E+=F;return new J(E*s,n.x*s/c)}},du={__proto__:null,LonLat:ka,Mercator:_i,SphericalMercator:Ks},hu=l({},Fe,{code:"EPSG:3395",projection:_i,transformation:function(){var n=.5/(Math.PI*_i.R);return ti(n,.5,-n,.5)}()}),Vo=l({},Fe,{code:"EPSG:4326",projection:ka,transformation:ti(1/180,1,-1/180,.5)}),fu=l({},we,{projection:ka,transformation:ti(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,s){var c=s.lng-n.lng,h=s.lat-n.lat;return Math.sqrt(c*c+h*h)},infinite:!0});we.Earth=Fe,we.EPSG3395=hu,we.EPSG3857=Xs,we.EPSG900913=Uc,we.EPSG4326=Vo,we.Simple=fu;var Rt=je.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[v(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[v(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var s=n.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var c=this.getEvents();s.on(c,this),this.once("remove",function(){s.off(c,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});ke.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var s=v(n);return this._layers[s]?this:(this._layers[s]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var s=v(n);return this._layers[s]?(this._loaded&&n.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return v(n)in this._layers},eachLayer:function(n,s){for(var c in this._layers)n.call(s,this._layers[c]);return this},_addLayers:function(n){n=n?P(n)?n:[n]:[];for(var s=0,c=n.length;s<c;s++)this.addLayer(n[s])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[v(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var s=v(n);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,s=-1/0,c=this._getZoomSpan();for(var h in this._zoomBoundLayers){var g=this._zoomBoundLayers[h].options;n=g.minZoom===void 0?n:Math.min(n,g.minZoom),s=g.maxZoom===void 0?s:Math.max(s,g.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=n===1/0?void 0:n,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var vr=Rt.extend({initialize:function(n,s){N(this,s),this._layers={};var c,h;if(n)for(c=0,h=n.length;c<h;c++)this.addLayer(n[c])},addLayer:function(n){var s=this.getLayerId(n);return this._layers[s]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var s=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(n){var s=typeof n=="number"?n:this.getLayerId(n);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var s=Array.prototype.slice.call(arguments,1),c,h;for(c in this._layers)h=this._layers[c],h[n]&&h[n].apply(h,s);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,s){for(var c in this._layers)n.call(s,this._layers[c]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return v(n)}}),Go=function(n,s){return new vr(n,s)},Se=vr.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),vr.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),vr.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new Ee;for(var s in this._layers){var c=this._layers[s];n.extend(c.getBounds?c.getBounds():c.getLatLng())}return n}}),mu=function(n,s){return new Se(n,s)},_r=ae.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){N(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,s){var c=this._getIconUrl(n);if(!c){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var h=this._createImg(c,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(h,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),h},_setIconStyles:function(n,s){var c=this.options,h=c[s+"Size"];typeof h=="number"&&(h=[h,h]);var g=H(h),y=H(s==="shadow"&&c.shadowAnchor||c.iconAnchor||g&&g.divideBy(2,!0));n.className="leaflet-marker-"+s+" "+(c.className||""),y&&(n.style.marginLeft=-y.x+"px",n.style.marginTop=-y.y+"px"),g&&(n.style.width=g.x+"px",n.style.height=g.y+"px")},_createImg:function(n,s){return s=s||document.createElement("img"),s.src=n,s},_getIconUrl:function(n){return oe.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function qo(n){return new _r(n)}var yi=_r.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof yi.imagePath!="string"&&(yi.imagePath=this._detectIconPath()),(this.options.imagePath||yi.imagePath)+_r.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var s=function(c,h,g){var y=h.exec(c);return y&&y[g]};return n=s(n,/^url\((['"])?(.+)\1\)$/,2),n&&s(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Me("div","leaflet-default-icon-path",document.body),s=ci(n,"background-image")||ci(n,"backgroundImage");if(document.body.removeChild(n),s=this._stripUrl(s),s)return s;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Jo=zt.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Tn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xe(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var s=this._marker,c=s._map,h=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,y=mt(s._icon),E=c.getPixelBounds(),R=c.getPixelOrigin(),F=he(E.min._subtract(R).add(g),E.max._subtract(R).subtract(g));if(!F.contains(y)){var Z=H((Math.max(F.max.x,y.x)-F.max.x)/(E.max.x-F.max.x)-(Math.min(F.min.x,y.x)-F.min.x)/(E.min.x-F.min.x),(Math.max(F.max.y,y.y)-F.max.y)/(E.max.y-F.max.y)-(Math.min(F.min.y,y.y)-F.min.y)/(E.min.y-F.min.y)).multiplyBy(h);c.panBy(Z,{animate:!1}),this._draggable._newPos._add(Z),this._draggable._startPos._add(Z),$e(s._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=ge(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(X(this._panRequest),this._panRequest=ge(this._adjustPan.bind(this,n)))},_onDrag:function(n){var s=this._marker,c=s._shadow,h=mt(s._icon),g=s._map.layerPointToLatLng(h);c&&$e(c,h),s._latlng=g,n.latlng=g,n.oldLatLng=this._oldLatLng,s.fire("move",n).fire("drag",n)},_onDragEnd:function(n){X(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),ss=Rt.extend({options:{icon:new yi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,s){N(this,s),this._latlng=K(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var s=this._latlng;return this._latlng=K(n),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=n.icon.createIcon(this._icon),h=!1;c!==this._icon&&(this._icon&&this._removeIcon(),h=!0,n.title&&(c.title=n.title),c.tagName==="IMG"&&(c.alt=n.alt||"")),xe(c,s),n.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&me(c,"focus",this._panOnFocus,this);var g=n.icon.createShadow(this._shadow),y=!1;g!==this._shadow&&(this._removeShadow(),y=!0),g&&(xe(g,s),g.alt=""),this._shadow=g,n.opacity<1&&this._updateOpacity(),h&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&y&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(this._icon,"focus",this._panOnFocus,this),Be(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Be(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&$e(this._icon,n),this._shadow&&$e(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(xe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Jo)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Jo(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&Ot(this._icon,n),this._shadow&&Ot(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var s=this.options.icon.options,c=s.iconSize?H(s.iconSize):H(0,0),h=s.iconAnchor?H(s.iconAnchor):H(0,0);n.panInside(this._latlng,{paddingTopLeft:h,paddingBottomRight:c.subtract(h)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function wi(n,s){return new ss(n,s)}var Cn=Rt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return N(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),as=Cn.extend({options:{fill:!0,radius:10},initialize:function(n,s){N(this,s),this._latlng=K(n),this._radius=this.options.radius},setLatLng:function(n){var s=this._latlng;return this._latlng=K(n),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var s=n&&n.radius||this._radius;return Cn.prototype.setStyle.call(this,n),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,s=this._radiusY||n,c=this._clickTolerance(),h=[n+c,s+c];this._pxBounds=new ie(this._point.subtract(h),this._point.add(h))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function pu(n,s){return new as(n,s)}var yr=as.extend({initialize:function(n,s,c){if(typeof s=="number"&&(s=l({},c,{radius:s})),N(this,s),this._latlng=K(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new Ee(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Cn.prototype.setStyle,_project:function(){var n=this._latlng.lng,s=this._latlng.lat,c=this._map,h=c.options.crs;if(h.distance===Fe.distance){var g=Math.PI/180,y=this._mRadius/Fe.R/g,E=c.project([s+y,n]),R=c.project([s-y,n]),F=E.add(R).divideBy(2),Z=c.unproject(F).lat,ee=Math.acos((Math.cos(y*g)-Math.sin(s*g)*Math.sin(Z*g))/(Math.cos(s*g)*Math.cos(Z*g)))/g;(isNaN(ee)||ee===0)&&(ee=y/Math.cos(Math.PI/180*s)),this._point=F.subtract(c.getPixelOrigin()),this._radius=isNaN(ee)?0:F.x-c.project([Z,n-ee]).x,this._radiusY=F.y-E.y}else{var ue=h.unproject(h.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(ue).x}this._updateBounds()}});function os(n,s,c){return new yr(n,s,c)}var qt=Cn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,s){N(this,s),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var s=1/0,c=null,h=xr,g,y,E=0,R=this._parts.length;E<R;E++)for(var F=this._parts[E],Z=1,ee=F.length;Z<ee;Z++){g=F[Z-1],y=F[Z];var ue=h(n,g,y,!0);ue<s&&(s=ue,c=h(n,g,y))}return c&&(c.distance=Math.sqrt(s)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ho(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,s){return s=s||this._defaultShape(),n=K(n),s.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new Ee,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return It(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var s=[],c=It(n),h=0,g=n.length;h<g;h++)c?(s[h]=K(n[h]),this._bounds.extend(s[h])):s[h]=this._convertLatLngs(n[h]);return s},_project:function(){var n=new ie;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),s=new W(n,n);this._rawPxBounds&&(this._pxBounds=new ie([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(n,s,c){var h=n[0]instanceof J,g=n.length,y,E;if(h){for(E=[],y=0;y<g;y++)E[y]=this._map.latLngToLayerPoint(n[y]),c.extend(E[y]);s.push(E)}else for(y=0;y<g;y++)this._projectLatlngs(n[y],s,c)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,c,h,g,y,E,R,F;for(c=0,g=0,y=this._rings.length;c<y;c++)for(F=this._rings[c],h=0,E=F.length;h<E-1;h++)R=Zo(F[h],F[h+1],n,h,!0),R&&(s[g]=s[g]||[],s[g].push(R[0]),(R[1]!==F[h+1]||h===E-2)&&(s[g].push(R[1]),g++))}},_simplifyPoints:function(){for(var n=this._parts,s=this.options.smoothFactor,c=0,h=n.length;c<h;c++)n[c]=vi(n[c],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,s){var c,h,g,y,E,R,F=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(c=0,y=this._parts.length;c<y;c++)for(R=this._parts[c],h=0,E=R.length,g=E-1;h<E;g=h++)if(!(!s&&h===0)&&rs(n,R[g],R[h])<=F)return!0;return!1}});function gu(n,s){return new qt(n,s)}qt._flat=Vn;var Gn=qt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var s=qt.prototype._convertLatLngs.call(this,n),c=s.length;return c>=2&&s[0]instanceof J&&s[0].equals(s[c-1])&&s.pop(),s},_setLatLngs:function(n){qt.prototype._setLatLngs.call(this,n),It(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return It(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,s=this.options.weight,c=new W(s,s);if(n=new ie(n.min.subtract(c),n.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var h=0,g=this._rings.length,y;h<g;h++)y=ns(this._rings[h],n,!0),y.length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var s=!1,c,h,g,y,E,R,F,Z;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(y=0,F=this._parts.length;y<F;y++)for(c=this._parts[y],E=0,Z=c.length,R=Z-1;E<Z;R=E++)h=c[E],g=c[R],h.y>n.y!=g.y>n.y&&n.x<(g.x-h.x)*(n.y-h.y)/(g.y-h.y)+h.x&&(s=!s);return s||qt.prototype._containsPoint.call(this,n,!0)}});function xu(n,s){return new Gn(n,s)}var Jt=Se.extend({initialize:function(n,s){N(this,s),this._layers={},n&&this.addData(n)},addData:function(n){var s=P(n)?n:n.features,c,h,g;if(s){for(c=0,h=s.length;c<h;c++)g=s[c],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var y=this.options;if(y.filter&&!y.filter(n))return this;var E=wr(n,y);return E?(E.feature=ds(n),E.defaultOptions=E.options,this.resetStyle(E),y.onEachFeature&&y.onEachFeature(n,E),this.addLayer(E)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=l({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(s){this._setLayerStyle(s,n)},this)},_setLayerStyle:function(n,s){n.setStyle&&(typeof s=="function"&&(s=s(n.feature)),n.setStyle(s))}});function wr(n,s){var c=n.type==="Feature"?n.geometry:n,h=c?c.coordinates:null,g=[],y=s&&s.pointToLayer,E=s&&s.coordsToLatLng||Sa,R,F,Z,ee;if(!h&&!c)return null;switch(c.type){case"Point":return R=E(h),ls(y,n,R,s);case"MultiPoint":for(Z=0,ee=h.length;Z<ee;Z++)R=E(h[Z]),g.push(ls(y,n,R,s));return new Se(g);case"LineString":case"MultiLineString":return F=cs(h,c.type==="LineString"?0:1,E),new qt(F,s);case"Polygon":case"MultiPolygon":return F=cs(h,c.type==="Polygon"?1:2,E),new Gn(F,s);case"GeometryCollection":for(Z=0,ee=c.geometries.length;Z<ee;Z++){var ue=wr({geometry:c.geometries[Z],type:"Feature",properties:n.properties},s);ue&&g.push(ue)}return new Se(g);case"FeatureCollection":for(Z=0,ee=c.features.length;Z<ee;Z++){var _e=wr(c.features[Z],s);_e&&g.push(_e)}return new Se(g);default:throw new Error("Invalid GeoJSON object.")}}function ls(n,s,c,h){return n?n(s,c):new ss(c,h&&h.markersInheritOptions&&h)}function Sa(n){return new J(n[1],n[0],n[2])}function cs(n,s,c){for(var h=[],g=0,y=n.length,E;g<y;g++)E=s?cs(n[g],s-1,c):(c||Sa)(n[g]),h.push(E);return h}function Pa(n,s){return n=K(n),n.alt!==void 0?[M(n.lng,s),M(n.lat,s),M(n.alt,s)]:[M(n.lng,s),M(n.lat,s)]}function us(n,s,c,h){for(var g=[],y=0,E=n.length;y<E;y++)g.push(s?us(n[y],It(n[y])?0:s-1,c,h):Pa(n[y],h));return!s&&c&&g.length>0&&g.push(g[0].slice()),g}function jr(n,s){return n.feature?l({},n.feature,{geometry:s}):ds(s)}function ds(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Ma={toGeoJSON:function(n){return jr(this,{type:"Point",coordinates:Pa(this.getLatLng(),n)})}};ss.include(Ma),yr.include(Ma),as.include(Ma),qt.include({toGeoJSON:function(n){var s=!It(this._latlngs),c=us(this._latlngs,s?1:0,!1,n);return jr(this,{type:(s?"Multi":"")+"LineString",coordinates:c})}}),Gn.include({toGeoJSON:function(n){var s=!It(this._latlngs),c=s&&!It(this._latlngs[0]),h=us(this._latlngs,c?2:s?1:0,!0,n);return s||(h=[h]),jr(this,{type:(c?"Multi":"")+"Polygon",coordinates:h})}}),vr.include({toMultiPoint:function(n){var s=[];return this.eachLayer(function(c){s.push(c.toGeoJSON(n).geometry.coordinates)}),jr(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(n){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(n);var c=s==="GeometryCollection",h=[];return this.eachLayer(function(g){if(g.toGeoJSON){var y=g.toGeoJSON(n);if(c)h.push(y.geometry);else{var E=ds(y);E.type==="FeatureCollection"?h.push.apply(h,E.features):h.push(E)}}}),c?jr(this,{geometries:h,type:"GeometryCollection"}):{type:"FeatureCollection",features:h}}});function Ko(n,s){return new Jt(n,s)}var vu=Ko,hs=Rt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,s,c){this._url=n,this._bounds=ye(s),N(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Be(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&mr(this._image),this},bringToBack:function(){return this._map&&Yn(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=ye(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",s=this._image=n?this._url:Me("img");if(xe(s,"leaflet-image-layer"),this._zoomAnimated&&xe(s,"leaflet-zoom-animated"),this.options.className&&xe(s,this.options.className),s.onselectstart=k,s.onmousemove=k,s.onload=f(this.fire,this,"load"),s.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(n){var s=this._map.getZoomScale(n.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Mn(this._image,c,s)},_reset:function(){var n=this._image,s=new ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=s.getSize();$e(n,s.min),n.style.width=c.x+"px",n.style.height=c.y+"px"},_updateOpacity:function(){Ot(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Qo=function(n,s,c){return new hs(n,s,c)},Xo=hs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",s=this._image=n?this._url:Me("video");if(xe(s,"leaflet-image-layer"),this._zoomAnimated&&xe(s,"leaflet-zoom-animated"),this.options.className&&xe(s,this.options.className),s.onselectstart=k,s.onmousemove=k,s.onloadeddata=f(this.fire,this,"load"),n){for(var c=s.getElementsByTagName("source"),h=[],g=0;g<c.length;g++)h.push(c[g].src);this._url=c.length>0?h:[s.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var y=0;y<this._url.length;y++){var E=Me("source");E.src=this._url[y],s.appendChild(E)}}});function _u(n,s,c){return new Xo(n,s,c)}var At=hs.extend({_initImage:function(){var n=this._image=this._url;xe(n,"leaflet-image-layer"),this._zoomAnimated&&xe(n,"leaflet-zoom-animated"),this.options.className&&xe(n,this.options.className),n.onselectstart=k,n.onmousemove=k}});function qn(n,s,c){return new At(n,s,c)}var Kt=Rt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,s){n&&(n instanceof J||P(n))?(this._latlng=K(n),N(this,s)):(N(this,n),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&Ot(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&Ot(this._container,1),this.bringToFront(),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(Ot(this._container,0),this._removeTimeout=setTimeout(f(Be,void 0,this._container),200)):Be(this._container),this.options.interactive&&(Ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=K(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&mr(this._container),this},bringToBack:function(){return this._map&&Yn(this._container),this},_prepareOpen:function(n){var s=this._source;if(!s._map)return!1;if(s instanceof Se){s=null;var c=this._source._layers;for(var h in c)if(c[h]._map){s=c[h];break}if(!s)return!1;this._source=s}if(!n)if(s.getCenter)n=s.getCenter();else if(s.getLatLng)n=s.getLatLng();else if(s.getBounds)n=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")n.innerHTML=s;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),s=H(this.options.offset),c=this._getAnchor();this._zoomAnimated?$e(this._container,n.add(c)):s=s.add(n).add(c);var h=this._containerBottom=-s.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=h+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});ke.include({_initOverlay:function(n,s,c,h){var g=s;return g instanceof n||(g=new n(h).setContent(s)),c&&g.setLatLng(c),g}}),Rt.include({_initOverlay:function(n,s,c,h){var g=c;return g instanceof n?(N(g,h),g._source=this):(g=s&&!h?s:new n(h,this),g.setContent(c)),g}});var fs=Kt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Kt.prototype.openOn.call(this,n)},onAdd:function(n){Kt.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Cn||this._source.on("preclick",Wn))},onRemove:function(n){Kt.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Cn||this._source.off("preclick",Wn))},getEvents:function(){var n=Kt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",s=this._container=Me("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Me("div",n+"-content-wrapper",s);if(this._contentNode=Me("div",n+"-content",c),gi(s),_a(this._contentNode),me(s,"contextmenu",Wn),this._tipContainer=Me("div",n+"-tip-container",s),this._tip=Me("div",n+"-tip",this._tipContainer),this.options.closeButton){var h=this._closeButton=Me("a",n+"-close-button",s);h.setAttribute("role","button"),h.setAttribute("aria-label","Close popup"),h.href="#close",h.innerHTML='<span aria-hidden="true">&#215;</span>',me(h,"click",function(g){ot(g),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,s=n.style;s.width="",s.whiteSpace="nowrap";var c=n.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),s.width=c+1+"px",s.whiteSpace="",s.height="";var h=n.offsetHeight,g=this.options.maxHeight,y="leaflet-popup-scrolled";g&&h>g?(s.height=g+"px",xe(n,y)):Ge(n,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),c=this._getAnchor();$e(this._container,s.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,s=parseInt(ci(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+s,h=this._containerWidth,g=new W(this._containerLeft,-c-this._containerBottom);g._add(mt(this._container));var y=n.layerPointToContainerPoint(g),E=H(this.options.autoPanPadding),R=H(this.options.autoPanPaddingTopLeft||E),F=H(this.options.autoPanPaddingBottomRight||E),Z=n.getSize(),ee=0,ue=0;y.x+h+F.x>Z.x&&(ee=y.x+h-Z.x+F.x),y.x-ee-R.x<0&&(ee=y.x-R.x),y.y+c+F.y>Z.y&&(ue=y.y+c-Z.y+F.y),y.y-ue-R.y<0&&(ue=y.y-R.y),(ee||ue)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([ee,ue]))}},_getAnchor:function(){return H(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),el=function(n,s){return new fs(n,s)};ke.mergeOptions({closePopupOnClick:!0}),ke.include({openPopup:function(n,s,c){return this._initOverlay(fs,n,s,c).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Rt.include({bindPopup:function(n,s){return this._popup=this._initOverlay(fs,this._popup,n,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Se||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Un(n);var s=n.layer||n.target;if(this._popup._source===s&&!(s instanceof Cn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=s,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var ji=Kt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Kt.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Kt.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Kt.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",s=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Me("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var s,c,h=this._map,g=this._container,y=h.latLngToContainerPoint(h.getCenter()),E=h.layerPointToContainerPoint(n),R=this.options.direction,F=g.offsetWidth,Z=g.offsetHeight,ee=H(this.options.offset),ue=this._getAnchor();R==="top"?(s=F/2,c=Z):R==="bottom"?(s=F/2,c=0):R==="center"?(s=F/2,c=Z/2):R==="right"?(s=0,c=Z/2):R==="left"?(s=F,c=Z/2):E.x<y.x?(R="right",s=0,c=Z/2):(R="left",s=F+(ee.x+ue.x)*2,c=Z/2),n=n.subtract(H(s,c,!0)).add(ee).add(ue),Ge(g,"leaflet-tooltip-right"),Ge(g,"leaflet-tooltip-left"),Ge(g,"leaflet-tooltip-top"),Ge(g,"leaflet-tooltip-bottom"),xe(g,"leaflet-tooltip-"+R),$e(g,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&Ot(this._container,n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(s)},_getAnchor:function(){return H(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),yu=function(n,s){return new ji(n,s)};ke.include({openTooltip:function(n,s,c){return this._initOverlay(ji,n,s,c).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Rt.include({bindTooltip:function(n,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ji,this._tooltip,n,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var s=n?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[s](c),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Se||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&(me(s,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),me(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var s=n.latlng,c,h;this._tooltip.options.sticky&&n.originalEvent&&(c=this._map.mouseEventToContainerPoint(n.originalEvent),h=this._map.containerPointToLayerPoint(c),s=this._map.layerPointToLatLng(h)),this._tooltip.setLatLng(s)}});var tl=_r.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var s=n&&n.tagName==="DIV"?n:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Ji(s),s.appendChild(c.html)):s.innerHTML=c.html!==!1?c.html:"",c.bgPos){var h=H(c.bgPos);s.style.backgroundPosition=-h.x+"px "+-h.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function nl(n){return new tl(n)}_r.Default=yi;var bi=Rt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){N(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Be(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(mr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Yn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof W?n:new W(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var s=this.getPane().children,c=-n(-1/0,1/0),h=0,g=s.length,y;h<g;h++)y=s[h].style.zIndex,s[h]!==this._container&&y&&(c=n(c,+y));isFinite(c)&&(this.options.zIndex=c+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!oe.ielt9){Ot(this._container,this.options.opacity);var n=+new Date,s=!1,c=!1;for(var h in this._tiles){var g=this._tiles[h];if(!(!g.current||!g.loaded)){var y=Math.min(1,(n-g.loaded)/200);Ot(g.el,y),y<1?s=!0:(g.active?c=!0:this._onOpaqueTile(g),g.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),s&&(X(this._fadeFrame),this._fadeFrame=ge(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=Me("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,s=this.options.maxZoom;if(n!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===n?(this._levels[c].el.style.zIndex=s-Math.abs(n-c),this._onUpdateLevel(c)):(Be(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var h=this._levels[n],g=this._map;return h||(h=this._levels[n]={},h.el=Me("div","leaflet-tile-container leaflet-zoom-animated",this._container),h.el.style.zIndex=s,h.origin=g.project(g.unproject(g.getPixelOrigin()),n).round(),h.zoom=n,this._setZoomTransform(h,g.getCenter(),g.getZoom()),k(h.el.offsetWidth),this._onCreateLevel(h)),this._level=h,h}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var n,s,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)s=this._tiles[n],s.retain=s.current;for(n in this._tiles)if(s=this._tiles[n],s.current&&!s.active){var h=s.coords;this._retainParent(h.x,h.y,h.z,h.z-5)||this._retainChildren(h.x,h.y,h.z,h.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var s in this._tiles)this._tiles[s].coords.z===n&&this._removeTile(s)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Be(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,s,c,h){var g=Math.floor(n/2),y=Math.floor(s/2),E=c-1,R=new W(+g,+y);R.z=+E;var F=this._tileCoordsToKey(R),Z=this._tiles[F];return Z&&Z.active?(Z.retain=!0,!0):(Z&&Z.loaded&&(Z.retain=!0),E>h?this._retainParent(g,y,E,h):!1)},_retainChildren:function(n,s,c,h){for(var g=2*n;g<2*n+2;g++)for(var y=2*s;y<2*s+2;y++){var E=new W(g,y);E.z=c+1;var R=this._tileCoordsToKey(E),F=this._tiles[R];if(F&&F.active){F.retain=!0;continue}else F&&F.loaded&&(F.retain=!0);c+1<h&&this._retainChildren(g,y,c+1,h)}},_resetView:function(n){var s=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var s=this.options;return s.minNativeZoom!==void 0&&n<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<n?s.maxNativeZoom:n},_setView:function(n,s,c,h){var g=Math.round(s);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var y=this.options.updateWhenZooming&&g!==this._tileZoom;(!h||y)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(n),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(n,s)},_setZoomTransforms:function(n,s){for(var c in this._levels)this._setZoomTransform(this._levels[c],n,s)},_setZoomTransform:function(n,s,c){var h=this._map.getZoomScale(c,n.zoom),g=n.origin.multiplyBy(h).subtract(this._map._getNewPixelOrigin(s,c)).round();oe.any3d?Mn(n.el,g,h):$e(n.el,g)},_resetGrid:function(){var n=this._map,s=n.options.crs,c=this._tileSize=this.getTileSize(),h=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,s.wrapLng[0]],h).x/c.x),Math.ceil(n.project([0,s.wrapLng[1]],h).x/c.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([s.wrapLat[0],0],h).y/c.x),Math.ceil(n.project([s.wrapLat[1],0],h).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var s=this._map,c=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),h=s.getZoomScale(c,this._tileZoom),g=s.project(n,this._tileZoom).floor(),y=s.getSize().divideBy(h*2);return new ie(g.subtract(y),g.add(y))},_update:function(n){var s=this._map;if(s){var c=this._clampZoom(s.getZoom());if(n===void 0&&(n=s.getCenter()),this._tileZoom!==void 0){var h=this._getTiledPixelBounds(n),g=this._pxBoundsToTileRange(h),y=g.getCenter(),E=[],R=this.options.keepBuffer,F=new ie(g.getBottomLeft().subtract([R,-R]),g.getTopRight().add([R,-R]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Z in this._tiles){var ee=this._tiles[Z].coords;(ee.z!==this._tileZoom||!F.contains(new W(ee.x,ee.y)))&&(this._tiles[Z].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(n,c);return}for(var ue=g.min.y;ue<=g.max.y;ue++)for(var _e=g.min.x;_e<=g.max.x;_e++){var pt=new W(_e,ue);if(pt.z=this._tileZoom,!!this._isValidTile(pt)){var it=this._tiles[this._tileCoordsToKey(pt)];it?it.current=!0:E.push(pt)}}if(E.sort(function(wt,Nr){return wt.distanceTo(y)-Nr.distanceTo(y)}),E.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ft=document.createDocumentFragment();for(_e=0;_e<E.length;_e++)this._addTile(E[_e],Ft);this._level.el.appendChild(Ft)}}}},_isValidTile:function(n){var s=this._map.options.crs;if(!s.infinite){var c=this._globalTileRange;if(!s.wrapLng&&(n.x<c.min.x||n.x>c.max.x)||!s.wrapLat&&(n.y<c.min.y||n.y>c.max.y))return!1}if(!this.options.bounds)return!0;var h=this._tileCoordsToBounds(n);return ye(this.options.bounds).overlaps(h)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var s=this._map,c=this.getTileSize(),h=n.scaleBy(c),g=h.add(c),y=s.unproject(h,n.z),E=s.unproject(g,n.z);return[y,E]},_tileCoordsToBounds:function(n){var s=this._tileCoordsToNwSe(n),c=new Ee(s[0],s[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var s=n.split(":"),c=new W(+s[0],+s[1]);return c.z=+s[2],c},_removeTile:function(n){var s=this._tiles[n];s&&(Be(s.el),delete this._tiles[n],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){xe(n,"leaflet-tile");var s=this.getTileSize();n.style.width=s.x+"px",n.style.height=s.y+"px",n.onselectstart=k,n.onmousemove=k,oe.ielt9&&this.options.opacity<1&&Ot(n,this.options.opacity)},_addTile:function(n,s){var c=this._getTilePos(n),h=this._tileCoordsToKey(n),g=this.createTile(this._wrapCoords(n),f(this._tileReady,this,n));this._initTile(g),this.createTile.length<2&&ge(f(this._tileReady,this,n,null,g)),$e(g,c),this._tiles[h]={el:g,coords:n,current:!0},s.appendChild(g),this.fire("tileloadstart",{tile:g,coords:n})},_tileReady:function(n,s,c){s&&this.fire("tileerror",{error:s,tile:c,coords:n});var h=this._tileCoordsToKey(n);c=this._tiles[h],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Ot(c.el,0),X(this._fadeFrame),this._fadeFrame=ge(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),s||(xe(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),oe.ielt9||!this._map._fadeAnimated?ge(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var s=new W(this._wrapX?C(n.x,this._wrapX):n.x,this._wrapY?C(n.y,this._wrapY):n.y);return s.z=n.z,s},_pxBoundsToTileRange:function(n){var s=this.getTileSize();return new ie(n.min.unscaleBy(s).floor(),n.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function wu(n){return new bi(n)}var br=bi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,s){this._url=n,s=N(this,s),s.detectRetina&&oe.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,s){return this._url===n&&s===void 0&&(s=!0),this._url=n,s||this.redraw(),this},createTile:function(n,s){var c=document.createElement("img");return me(c,"load",f(this._tileOnLoad,this,s,c)),me(c,"error",f(this._tileOnError,this,s,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(n),c},getTileUrl:function(n){var s={r:oe.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-n.y;this.options.tms&&(s.y=c),s["-y"]=c}return w(this._url,l(s,this.options))},_tileOnLoad:function(n,s){oe.ielt9?setTimeout(f(n,this,null,s),0):n(null,s)},_tileOnError:function(n,s,c){var h=this.options.errorTileUrl;h&&s.getAttribute("src")!==h&&(s.src=h),n(c,s)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,s=this.options.maxZoom,c=this.options.zoomReverse,h=this.options.zoomOffset;return c&&(n=s-n),n+h},_getSubdomain:function(n){var s=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var n,s;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(s=this._tiles[n].el,s.onload=k,s.onerror=k,!s.complete)){s.src=A;var c=this._tiles[n].coords;Be(s),delete this._tiles[n],this.fire("tileabort",{tile:s,coords:c})}},_removeTile:function(n){var s=this._tiles[n];if(s)return s.el.setAttribute("src",A),bi.prototype._removeTile.call(this,n)},_tileReady:function(n,s,c){if(!(!this._map||c&&c.getAttribute("src")===A))return bi.prototype._tileReady.call(this,n,s,c)}});function rl(n,s){return new br(n,s)}var il=br.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,s){this._url=n;var c=l({},this.defaultWmsParams);for(var h in s)h in this.options||(c[h]=s[h]);s=N(this,s);var g=s.detectRetina&&oe.retina?2:1,y=this.getTileSize();c.width=y.x*g,c.height=y.y*g,this.wmsParams=c},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,br.prototype.onAdd.call(this,n)},getTileUrl:function(n){var s=this._tileCoordsToNwSe(n),c=this._crs,h=he(c.project(s[0]),c.project(s[1])),g=h.min,y=h.max,E=(this._wmsVersion>=1.3&&this._crs===Vo?[g.y,g.x,y.y,y.x]:[g.x,g.y,y.x,y.y]).join(","),R=br.prototype.getTileUrl.call(this,n);return R+S(this.wmsParams,R,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+E},setParams:function(n,s){return l(this.wmsParams,n),s||this.redraw(),this}});function ju(n,s){return new il(n,s)}br.WMS=il,rl.wms=ju;var _n=Rt.extend({options:{padding:.1},initialize:function(n){N(this,n),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,s){var c=this._map.getZoomScale(s,this._zoom),h=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,s),y=h.multiplyBy(-c).add(g).subtract(this._map._getNewPixelOrigin(n,s));oe.any3d?Mn(this._container,y,c):$e(this._container,y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,s=this._map.getSize(),c=this._map.containerPointToLayerPoint(s.multiplyBy(-n)).round();this._bounds=new ie(c,c.add(s.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),sl=_n.extend({options:{tolerance:0},getEvents:function(){var n=_n.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_n.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");me(n,"mousemove",this._onMouseMove,this),me(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),me(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){X(this._redrawRequest),delete this._ctx,Be(this._container),Re(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var s in this._layers)n=this._layers[s],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_n.prototype._update.call(this);var n=this._bounds,s=this._container,c=n.getSize(),h=oe.retina?2:1;$e(s,n.min),s.width=h*c.x,s.height=h*c.y,s.style.width=c.x+"px",s.style.height=c.y+"px",oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){_n.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[v(n)]=n;var s=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var s=n._order,c=s.next,h=s.prev;c?c.prev=h:this._drawLast=h,h?h.next=c:this._drawFirst=c,delete n._order,delete this._layers[v(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var s=n.options.dashArray.split(/[, ]+/),c=[],h,g;for(g=0;g<s.length;g++){if(h=Number(s[g]),isNaN(h))return;c.push(h)}n.options._dashArray=c}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||ge(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var s=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ie,this._redrawBounds.extend(n._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(n._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var s=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,s=this._redrawBounds;if(this._ctx.save(),s){var c=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var h=this._drawFirst;h;h=h.next)n=h.layer,(!s||n._pxBounds&&n._pxBounds.intersects(s))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,s){if(this._drawing){var c,h,g,y,E=n._parts,R=E.length,F=this._ctx;if(R){for(F.beginPath(),c=0;c<R;c++){for(h=0,g=E[c].length;h<g;h++)y=E[c][h],F[h?"lineTo":"moveTo"](y.x,y.y);s&&F.closePath()}this._fillStroke(F,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var s=n._point,c=this._ctx,h=Math.max(Math.round(n._radius),1),g=(Math.max(Math.round(n._radiusY),1)||h)/h;g!==1&&(c.save(),c.scale(1,g)),c.beginPath(),c.arc(s.x,s.y/g,h,0,Math.PI*2,!1),g!==1&&c.restore(),this._fillStroke(c,n)}},_fillStroke:function(n,s){var c=s.options;c.fill&&(n.globalAlpha=c.fillOpacity,n.fillStyle=c.fillColor||c.color,n.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(n.setLineDash&&n.setLineDash(s.options&&s.options._dashArray||[]),n.globalAlpha=c.opacity,n.lineWidth=c.weight,n.strokeStyle=c.color,n.lineCap=c.lineCap,n.lineJoin=c.lineJoin,n.stroke())},_onClick:function(n){for(var s=this._map.mouseEventToLayerPoint(n),c,h,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(s)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(c))&&(h=c);this._fireEvent(h?[h]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,s)}},_handleMouseOut:function(n){var s=this._hoveredLayer;s&&(Ge(this._container,"leaflet-interactive"),this._fireEvent([s],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,s){if(!this._mouseHoverThrottled){for(var c,h,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(s)&&(h=c);h!==this._hoveredLayer&&(this._handleMouseOut(n),h&&(xe(this._container,"leaflet-interactive"),this._fireEvent([h],n,"mouseover"),this._hoveredLayer=h)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,s,c){this._map._fireDOMEvent(s,c||s.type,n)},_bringToFront:function(n){var s=n._order;if(s){var c=s.next,h=s.prev;if(c)c.prev=h;else return;h?h.next=c:c&&(this._drawFirst=c),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(n)}},_bringToBack:function(n){var s=n._order;if(s){var c=s.next,h=s.prev;if(h)h.next=c;else return;c?c.prev=h:h&&(this._drawLast=h),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(n)}}});function al(n){return oe.canvas?new sl(n):null}var Ni=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),bu={_initContainer:function(){this._container=Me("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_n.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var s=n._container=Ni("shape");xe(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",n._path=Ni("path"),s.appendChild(n._path),this._updateStyle(n),this._layers[v(n)]=n},_addPath:function(n){var s=n._container;this._container.appendChild(s),n.options.interactive&&n.addInteractiveTarget(s)},_removePath:function(n){var s=n._container;Be(s),n.removeInteractiveTarget(s),delete this._layers[v(n)]},_updateStyle:function(n){var s=n._stroke,c=n._fill,h=n.options,g=n._container;g.stroked=!!h.stroke,g.filled=!!h.fill,h.stroke?(s||(s=n._stroke=Ni("stroke")),g.appendChild(s),s.weight=h.weight+"px",s.color=h.color,s.opacity=h.opacity,h.dashArray?s.dashStyle=P(h.dashArray)?h.dashArray.join(" "):h.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=h.lineCap.replace("butt","flat"),s.joinstyle=h.lineJoin):s&&(g.removeChild(s),n._stroke=null),h.fill?(c||(c=n._fill=Ni("fill")),g.appendChild(c),c.color=h.fillColor||h.color,c.opacity=h.fillOpacity):c&&(g.removeChild(c),n._fill=null)},_updateCircle:function(n){var s=n._point.round(),c=Math.round(n._radius),h=Math.round(n._radiusY||c);this._setPath(n,n._empty()?"M0 0":"AL "+s.x+","+s.y+" "+c+","+h+" 0,"+65535*360)},_setPath:function(n,s){n._path.v=s},_bringToFront:function(n){mr(n._container)},_bringToBack:function(n){Yn(n._container)}},ms=oe.vml?Ni:Mo,ki=_n.extend({_initContainer:function(){this._container=ms("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ms("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Be(this._container),Re(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_n.prototype._update.call(this);var n=this._bounds,s=n.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,c.setAttribute("width",s.x),c.setAttribute("height",s.y)),$e(c,n.min),c.setAttribute("viewBox",[n.min.x,n.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(n){var s=n._path=ms("path");n.options.className&&xe(s,n.options.className),n.options.interactive&&xe(s,"leaflet-interactive"),this._updateStyle(n),this._layers[v(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Be(n._path),n.removeInteractiveTarget(n._path),delete this._layers[v(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var s=n._path,c=n.options;s&&(c.stroke?(s.setAttribute("stroke",c.color),s.setAttribute("stroke-opacity",c.opacity),s.setAttribute("stroke-width",c.weight),s.setAttribute("stroke-linecap",c.lineCap),s.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?s.setAttribute("stroke-dasharray",c.dashArray):s.removeAttribute("stroke-dasharray"),c.dashOffset?s.setAttribute("stroke-dashoffset",c.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),c.fill?(s.setAttribute("fill",c.fillColor||c.color),s.setAttribute("fill-opacity",c.fillOpacity),s.setAttribute("fill-rule",c.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(n,s){this._setPath(n,Lo(n._parts,s))},_updateCircle:function(n){var s=n._point,c=Math.max(Math.round(n._radius),1),h=Math.max(Math.round(n._radiusY),1)||c,g="a"+c+","+h+" 0 1,0 ",y=n._empty()?"M0 0":"M"+(s.x-c)+","+s.y+g+c*2+",0 "+g+-c*2+",0 ";this._setPath(n,y)},_setPath:function(n,s){n._path.setAttribute("d",s)},_bringToFront:function(n){mr(n._path)},_bringToBack:function(n){Yn(n._path)}});oe.vml&&ki.include(bu);function ol(n){return oe.svg||oe.vml?new ki(n):null}ke.include({getRenderer:function(n){var s=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var s=this._paneRenderers[n];return s===void 0&&(s=this._createRenderer({pane:n}),this._paneRenderers[n]=s),s},_createRenderer:function(n){return this.options.preferCanvas&&al(n)||ol(n)}});var Si=Gn.extend({initialize:function(n,s){Gn.prototype.initialize.call(this,this._boundsToLatLngs(n),s)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=ye(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Nu(n,s){return new Si(n,s)}ki.create=ms,ki.pointsToPath=Lo,Jt.geometryToLayer=wr,Jt.coordsToLatLng=Sa,Jt.coordsToLatLngs=cs,Jt.latLngToCoords=Pa,Jt.latLngsToCoords=us,Jt.getFeature=jr,Jt.asFeature=ds,ke.mergeOptions({boxZoom:!0});var ll=zt.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Be(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),hi(),da(),this._startPoint=this._map.mouseEventToContainerPoint(n),me(document,{contextmenu:Un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Me("div","leaflet-zoom-box",this._container),xe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var s=new ie(this._point,this._startPoint),c=s.getSize();$e(this._box,s.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Be(this._box),Ge(this._container,"leaflet-crosshair")),fi(),ha(),Re(document,{contextmenu:Un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var s=new Ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ke.addInitHook("addHandler","boxZoom",ll),ke.mergeOptions({doubleClickZoom:!0});var cl=zt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var s=this._map,c=s.getZoom(),h=s.options.zoomDelta,g=n.originalEvent.shiftKey?c-h:c+h;s.options.doubleClickZoom==="center"?s.setZoom(g):s.setZoomAround(n.containerPoint,g)}});ke.addInitHook("addHandler","doubleClickZoom",cl),ke.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ul=zt.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Tn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}xe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ge(this._map._container,"leaflet-grab"),Ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=ye(this._map.options.maxBounds);this._offsetLimit=he(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var s=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(s),this._prunePositions(s)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,s){return n-(n-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;n.x<s.min.x&&(n.x=this._viscousLimit(n.x,s.min.x)),n.y<s.min.y&&(n.y=this._viscousLimit(n.y,s.min.y)),n.x>s.max.x&&(n.x=this._viscousLimit(n.x,s.max.x)),n.y>s.max.y&&(n.y=this._viscousLimit(n.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,s=Math.round(n/2),c=this._initialWorldOffset,h=this._draggable._newPos.x,g=(h-s+c)%n+s-c,y=(h+s+c)%n-s-c,E=Math.abs(g+c)<Math.abs(y+c)?g:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=E},_onDragEnd:function(n){var s=this._map,c=s.options,h=!c.inertia||n.noInertia||this._times.length<2;if(s.fire("dragend",n),h)s.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),y=(this._lastTime-this._times[0])/1e3,E=c.easeLinearity,R=g.multiplyBy(E/y),F=R.distanceTo([0,0]),Z=Math.min(c.inertiaMaxSpeed,F),ee=R.multiplyBy(Z/F),ue=Z/(c.inertiaDeceleration*E),_e=ee.multiplyBy(-ue/2).round();!_e.x&&!_e.y?s.fire("moveend"):(_e=s._limitOffset(_e,s.options.maxBounds),ge(function(){s.panBy(_e,{duration:ue,easeLinearity:E,noMoveStart:!0,animate:!0})}))}}});ke.addInitHook("addHandler","dragging",ul),ke.mergeOptions({keyboard:!0,keyboardPanDelta:80});var dl=zt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),me(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Re(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,s=document.documentElement,c=n.scrollTop||s.scrollTop,h=n.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(h,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var s=this._panKeys={},c=this.keyCodes,h,g;for(h=0,g=c.left.length;h<g;h++)s[c.left[h]]=[-1*n,0];for(h=0,g=c.right.length;h<g;h++)s[c.right[h]]=[n,0];for(h=0,g=c.down.length;h<g;h++)s[c.down[h]]=[0,n];for(h=0,g=c.up.length;h<g;h++)s[c.up[h]]=[0,-1*n]},_setZoomDelta:function(n){var s=this._zoomKeys={},c=this.keyCodes,h,g;for(h=0,g=c.zoomIn.length;h<g;h++)s[c.zoomIn[h]]=n;for(h=0,g=c.zoomOut.length;h<g;h++)s[c.zoomOut[h]]=-n},_addHooks:function(){me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var s=n.keyCode,c=this._map,h;if(s in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(h=this._panKeys[s],n.shiftKey&&(h=H(h).multiplyBy(3)),c.options.maxBounds&&(h=c._limitOffset(H(h),c.options.maxBounds)),c.options.worldCopyJump){var g=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(h)));c.panTo(g)}else c.panBy(h)}else if(s in this._zoomKeys)c.setZoom(c.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;Un(n)}}});ke.addInitHook("addHandler","keyboard",dl),ke.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var hl=zt.extend({addHooks:function(){me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var s=Fo(n),c=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var h=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),h),Un(n)},_performZoom:function(){var n=this._map,s=n.getZoom(),c=this._map.options.zoomSnap||0;n._stop();var h=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(h))))/Math.LN2,y=c?Math.ceil(g/c)*c:g,E=n._limitZoom(s+(this._delta>0?y:-y))-s;this._delta=0,this._startTime=null,E&&(n.options.scrollWheelZoom==="center"?n.setZoom(s+E):n.setZoomAround(this._lastMousePos,s+E))}});ke.addInitHook("addHandler","scrollWheelZoom",hl);var ku=600;ke.mergeOptions({tapHold:oe.touchNative&&oe.safari&&oe.mobile,tapTolerance:15});var fl=zt.extend({addHooks:function(){me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var s=n.touches[0];this._startPos=this._newPos=new W(s.clientX,s.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(me(document,"touchend",ot),me(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),ku),me(document,"touchend touchcancel contextmenu",this._cancel,this),me(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Re(document,"touchend",ot),Re(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)},_onMove:function(n){var s=n.touches[0];this._newPos=new W(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,s){var c=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});c._simulated=!0,s.target.dispatchEvent(c)}});ke.addInitHook("addHandler","tapHold",fl),ke.mergeOptions({touchZoom:oe.touch,bounceAtZoomLimits:!0});var La=zt.extend({addHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ge(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var s=this._map;if(!(!n.touches||n.touches.length!==2||s._animatingZoom||this._zooming)){var c=s.mouseEventToContainerPoint(n.touches[0]),h=s.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(c.add(h)._divideBy(2))),this._startDist=c.distanceTo(h),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),me(document,"touchmove",this._onTouchMove,this),me(document,"touchend touchcancel",this._onTouchEnd,this),ot(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var s=this._map,c=s.mouseEventToContainerPoint(n.touches[0]),h=s.mouseEventToContainerPoint(n.touches[1]),g=c.distanceTo(h)/this._startDist;if(this._zoom=s.getScaleZoom(g,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&g<1||this._zoom>s.getMaxZoom()&&g>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var y=c._add(h)._divideBy(2)._subtract(this._centerPoint);if(g===1&&y.x===0&&y.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),X(this._animRequest);var E=f(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ge(E,this,!0),ot(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,X(this._animRequest),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ke.addInitHook("addHandler","touchZoom",La),ke.BoxZoom=ll,ke.DoubleClickZoom=cl,ke.Drag=ul,ke.Keyboard=dl,ke.ScrollWheelZoom=hl,ke.TapHold=fl,ke.TouchZoom=La,r.Bounds=ie,r.Browser=oe,r.CRS=we,r.Canvas=sl,r.Circle=yr,r.CircleMarker=as,r.Class=ae,r.Control=Gt,r.DivIcon=tl,r.DivOverlay=Kt,r.DomEvent=$o,r.DomUtil=tu,r.Draggable=Tn,r.Evented=je,r.FeatureGroup=Se,r.GeoJSON=Jt,r.GridLayer=bi,r.Handler=zt,r.Icon=_r,r.ImageOverlay=hs,r.LatLng=J,r.LatLngBounds=Ee,r.Layer=Rt,r.LayerGroup=vr,r.LineUtil=Na,r.Map=ke,r.Marker=ss,r.Mixin=au,r.Path=Cn,r.Point=W,r.PolyUtil=ou,r.Polygon=Gn,r.Polyline=qt,r.Popup=fs,r.PosAnimation=Yo,r.Projection=du,r.Rectangle=Si,r.Renderer=_n,r.SVG=ki,r.SVGOverlay=At,r.TileLayer=br,r.Tooltip=ji,r.Transformation=Qs,r.Util=U,r.VideoOverlay=Xo,r.bind=f,r.bounds=he,r.canvas=al,r.circle=os,r.circleMarker=pu,r.control=pr,r.divIcon=nl,r.extend=l,r.featureGroup=mu,r.geoJSON=Ko,r.geoJson=vu,r.gridLayer=wu,r.icon=qo,r.imageOverlay=Qo,r.latLng=K,r.latLngBounds=ye,r.layerGroup=Go,r.map=nu,r.marker=wi,r.point=H,r.polygon=xu,r.polyline=gu,r.popup=el,r.rectangle=Nu,r.setOptions=N,r.stamp=v,r.svg=ol,r.svgOverlay=qn,r.tileLayer=rl,r.tooltip=yu,r.transformation=ti,r.version=i,r.videoOverlay=_u;var ml=window.L;r.noConflict=function(){return window.L=ml,this},window.L=r})})(dh,dh.exports);var Wc=dh.exports;const Jg=fh(Wc);function Kg(e,t,r){return Object.freeze({instance:e,context:t,container:r})}function Qg(e,t){return t==null?function(i,l){const u=z.useRef();return u.current||(u.current=e(i,l)),u}:function(i,l){const u=z.useRef();u.current||(u.current=e(i,l));const f=z.useRef(i),{instance:p}=u.current;return z.useEffect(function(){f.current!==i&&(t(p,i,f.current),f.current=i)},[p,i,l]),u}}function xw(e,t){z.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var u;(u=t.layerContainer)==null||u.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Xg(e){return function(r){const i=Gg(),l=e(qg(r,i),i);return uw(i.map,r.attribution),gw(l.current,r.eventHandlers),xw(l.current,i),l}}function vw(e,t){const r=Qg(e,t),i=Xg(r);return mw(i)}function _w(e,t){const r=Qg(e,t),i=Xg(r);return pw(i)}function yw(e,t,r){const{opacity:i,zIndex:l}=t;i!=null&&i!==r.opacity&&e.setOpacity(i),l!=null&&l!==r.zIndex&&e.setZIndex(l)}function ww(){return Gg().map}function jw(e){const t=ww();return z.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function hh(){return hh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},hh.apply(this,arguments)}function bw({bounds:e,boundsOptions:t,center:r,children:i,className:l,id:u,placeholder:f,style:p,whenReady:v,zoom:_,...C},k){const[M]=z.useState({className:l,id:u,style:p}),[O,T]=z.useState(null);z.useImperativeHandle(k,()=>(O==null?void 0:O.map)??null,[O]);const N=z.useCallback(b=>{if(b!==null&&O===null){const w=new Wc.Map(b,C);r!=null&&_!=null?w.setView(r,_):e!=null&&w.fitBounds(e,t),v!=null&&w.whenReady(v),T(hw(w))}},[]);z.useEffect(()=>()=>{O==null||O.map.remove()},[O]);const S=O?zi.createElement(Vg,{value:O},i):f??null;return zi.createElement("div",hh({},M,{ref:N}),S)}const Nw=z.forwardRef(bw),kw=vw(function({position:t,...r},i){const l=new Wc.Marker(t,r);return Kg(l,fw(i,{overlayContainer:l}))},function(t,r,i){r.position!==i.position&&t.setLatLng(r.position),r.icon!=null&&r.icon!==i.icon&&t.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==i.opacity&&t.setOpacity(r.opacity),t.dragging!=null&&r.draggable!==i.draggable&&(r.draggable===!0?t.dragging.enable():t.dragging.disable())}),Sw=_w(function({url:t,...r},i){const l=new Wc.TileLayer(t,qg(r,i));return Kg(l,i)},function(t,r,i){yw(t,r,i);const{url:l}=r;l!=null&&l!==i.url&&t.setUrl(l)});delete Jg.Icon.Default.prototype._getIconUrl;Jg.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const Pw=({onLocationSelect:e})=>(jw({click:t=>{const{lat:r,lng:i}=t.latlng;e(r,i)}}),null),Mw=({initialLat:e=35.6892,initialLng:t=51.389,onLocationSelect:r,isDark:i})=>{const[l,u]=z.useState([e,t]),[f,p]=z.useState(!1);z.useEffect(()=>{u([e,t]),p(!0)},[e,t]);const v=(C,k)=>{u([C,k]),r(C,k)},_=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(C=>{const{latitude:k,longitude:M}=C.coords;u([k,M]),r(k,M)},C=>{console.error("Error getting current location:",C),alert("خطا در دریافت موقعیت فعلی. لطفاً دسترسی به موقعیت مکانی را فعال کنید.")}):alert("مرورگر شما از موقعیت مکانی پشتیبانی نمی‌کند.")};return f?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:`text-sm ${i?"text-slate-300":"text-gray-600"}`,children:"روی نقشه کلیک کنید تا موقعیت را انتخاب کنید"}),a.jsx("button",{onClick:_,className:`px-3 py-1 text-xs rounded-lg border transition-colors ${i?"border-slate-600 text-slate-300 hover:bg-slate-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"موقعیت فعلی"})]}),a.jsx("div",{className:"relative",children:a.jsxs(Nw,{center:l,zoom:13,style:{height:"300px",width:"100%",borderRadius:"8px"},className:"z-0",children:[a.jsx(Sw,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),a.jsx(kw,{position:l}),a.jsx(Pw,{onLocationSelect:v})]})}),a.jsxs("div",{className:`text-xs ${i?"text-slate-400":"text-gray-500"}`,children:["موقعیت انتخاب شده: ",l[0].toFixed(6),", ",l[1].toFixed(6)]})]}):a.jsx("div",{className:`w-full h-64 rounded-lg flex items-center justify-center ${i?"bg-slate-700":"bg-gray-100"}`,children:a.jsx("div",{className:`text-sm ${i?"text-slate-300":"text-gray-600"}`,children:"در حال بارگذاری نقشه..."})})},Lw=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),Tw=["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],Cw=["ش","ی","د","س","چ","پ","ج"],Nc=e=>{try{if(!e||isNaN(e.getTime())){console.warn("Invalid date provided to gregorianToPersian:",e);const i=Es();return{year:i.jYear(),month:i.jMonth()+1,day:i.jDate()}}const t=e.getFullYear();if(t<1900||t>2100){console.warn("Date year out of reasonable range:",t);const i=Es();return{year:i.jYear(),month:i.jMonth()+1,day:i.jDate()}}const r=Es(e);return{year:r.jYear(),month:r.jMonth()+1,day:r.jDate()}}catch(t){console.error("Error in gregorianToPersian:",t);const r=Es();return{year:r.jYear(),month:r.jMonth()+1,day:r.jDate()}}},Ew=(e,t,r)=>{try{if(!e||!t||!r||e<1300||e>1500||t<1||t>12||r<1||r>31)return console.warn("Invalid Persian date values:",{year:e,month:t,day:r}),new Date().toISOString().split("T")[0];const i=Es(`${e}/${t}/${r}`,"jYYYY/jMM/jDD");return i.isValid()?i.format("YYYY-MM-DD"):(console.warn("Invalid Persian date conversion:",{year:e,month:t,day:r}),new Date().toISOString().split("T")[0])}catch(i){return console.error("Error in persianToGregorian:",i),new Date().toISOString().split("T")[0]}},Dw=({value:e,onChange:t,isDark:r})=>{const l=Nc(new Date);let u={year:l.year,month:l.month,day:l.day};if(e&&e.trim()!==""&&e!=="undefined"&&e!=="null")try{const w=new Date(e);if(w instanceof Date&&!isNaN(w.getTime())&&w.getFullYear()>1900){const P=Nc(w);!isNaN(P.year)&&!isNaN(P.month)&&!isNaN(P.day)&&(u=P)}}catch(w){console.error("Error parsing date value:",w)}const[f,p]=z.useState(u.year),[v,_]=z.useState(u.month),[C,k]=z.useState(u.day),[M,O]=z.useState(!1);zi.useEffect(()=>{(isNaN(f)||f<1300||f>1500)&&p(l.year),(isNaN(v)||v<1||v>12)&&_(l.month),(isNaN(C)||C<1||C>31)&&k(l.day)},[f,v,C,l]);const T=w=>{k(w);const P=Ew(f,v,w);t(P)},N=(w,P)=>{try{const I=Es(`${w}/${P}/1`,"jYYYY/jMM/jDD");return I.isValid()?I.clone().endOf("jMonth").jDate():P<=6?31:P<=11?30:29}catch(I){return console.error("Error getting days in month:",I),P<=6?31:P<=11?30:29}},S=()=>{const w=N(f,v),P=[];for(let I=1;I<=w;I++)P.push(a.jsx("button",{onClick:()=>T(I),className:`w-8 h-8 rounded text-sm transition-colors ${I===C?"bg-purple-500 text-white":r?"text-white hover:bg-slate-700":"text-gray-900 hover:bg-gray-100"}`,children:I},I));return P},b=w=>{w==="prev"?v===1?(_(12),p(P=>P-1)):_(P=>P-1):v===12?(_(1),p(P=>P+1)):_(P=>P+1)};return a.jsxs("div",{className:`rounded-lg border p-4 ${r?"border-slate-600 bg-slate-700":"border-gray-300 bg-white"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("button",{onClick:()=>b("prev"),className:`p-1 rounded ${r?"text-white hover:bg-slate-600":"text-gray-900 hover:bg-gray-100"}`,children:"<"}),a.jsx("div",{className:"text-center",children:a.jsxs("button",{onClick:()=>O(!M),className:`font-medium ${r?"text-white":"text-gray-900"}`,children:[Tw[v-1]," ",f]})}),a.jsx("button",{onClick:()=>b("next"),className:`p-1 rounded ${r?"text-white hover:bg-slate-600":"text-gray-900 hover:bg-gray-100"}`,children:">"})]}),M&&a.jsx("div",{className:"mb-4 max-h-32 overflow-y-auto",children:a.jsx("div",{className:"grid grid-cols-3 gap-2",children:Array.from({length:50},(w,P)=>1330+P).map(w=>a.jsx("button",{onClick:()=>{p(w),O(!1)},className:`p-2 rounded text-sm ${w===f?"bg-purple-500 text-white":r?"text-white hover:bg-slate-600":"text-gray-900 hover:bg-gray-100"}`,children:w},w))})}),a.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:Cw.map(w=>a.jsx("div",{className:`text-center text-sm font-medium ${r?"text-slate-300":"text-gray-600"}`,children:w},w))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:S()})]})},ex=({isOpen:e,onClose:t,title:r,currentValue:i,onSave:l,isPhone:u=!1,isEmail:f=!1,isGender:p=!1,isBirthDate:v=!1,isCategory:_=!1,isAddress:C=!1,isCity:k=!1,isLocation:M=!1})=>{const{isDark:O}=Et(),[T,N]=z.useState(""),[S,b]=z.useState("edit"),[w,P]=z.useState(""),[I,A]=z.useState(""),[B,V]=z.useState([]),[Q,ce]=z.useState(!1),[ne,ge]=z.useState(""),[X,U]=z.useState([]),[ae,Y]=z.useState([]),[de,je]=z.useState(""),[W,le]=z.useState(!1),[H,ie]=z.useState(""),[he,Ee]=z.useState(null);if(z.useEffect(()=>{(async()=>{if(_&&e){ce(!0),ge("");try{const we=await pe.getServiceCategories();we.data?V(we.data.map(Fe=>({id:Fe.id,name:Fe.name}))):we.error&&ge(we.error)}catch{ge("خطا در دریافت دسته‌بندی‌ها")}finally{ce(!1)}}})()},[_,e]),z.useEffect(()=>{(async()=>{if(k&&e){le(!0),ie("");try{const we=await pe.getProvinces();we.data?U(we.data.map(Fe=>({id:Fe.id,name:Fe.name}))):we.error&&ie(we.error)}catch{ie("خطا در دریافت استان‌ها")}finally{le(!1)}}})()},[k,e]),z.useEffect(()=>{(async()=>{if(k&&de&&e){le(!0),ie("");try{const we=parseInt(de),Fe=await pe.getCitiesByProvince(we);Fe.data?Y(Fe.data.cities.map(An=>({id:An.id,name:An.name,province:An.province}))):Fe.error&&ie(Fe.error)}catch{ie("خطا در دریافت شهرها")}finally{le(!1)}}})()},[k,de,e]),z.useEffect(()=>{if(e){if(p)N(i==="مرد"?"male":i==="زن"?"female":"");else if(v)N(i||"");else if(_)if(i&&B.length>0){const K=B.find(we=>we.name===i);N(K?K.id.toString():"")}else N("");else if(k)je(""),N(""),Y([]);else if(M)if(i&&i.includes(",")){const[K,we]=i.split(",").map(Fe=>parseFloat(Fe.trim()));!isNaN(K)&&!isNaN(we)?(Ee({lat:K,lng:we}),N(i)):(Ee(null),N(""))}else Ee(null),N("");else N(i);b("edit"),P(""),A("")}},[e,i,p,v,_,B,k,M]),!e)return null;const ye=async()=>{if(console.log("Modal handleSave called with value:",T),A(""),f&&T.trim()&&!Lw(T)){A("فرمت ایمیل معتبر نیست");return}if(k){if(!de){A("لطفا استان را انتخاب کنید");return}if(!T){A("لطفا شهر را انتخاب کنید");return}}if(M&&!he){A("لطفا موقعیت مکانی را روی نقشه انتخاب کنید");return}if(u)try{await pe.sendOTP(T),b("verify")}catch(K){console.error("Failed to send OTP:",K),A("خطا در ارسال کد تایید")}else console.log("Calling onSave with:",T),l(T),t()},J=async()=>{try{await pe.verifyOTP(T,w),l(T),t(),b("edit"),P("")}catch(K){console.error("Failed to verify OTP:",K)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:a.jsx("div",{className:`w-full max-w-md mx-4 rounded-2xl p-6 ${O?"bg-slate-800":"bg-white"}`,children:S==="edit"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:`text-lg font-semibold ${O?"text-white":"text-gray-900"}`,children:r}),a.jsx("button",{onClick:t,className:`p-2 rounded-lg ${O?"text-slate-400 hover:text-white":"text-gray-400 hover:text-gray-600"}`,children:"✕"})]}),v?a.jsx(Dw,{value:T,onChange:N,isDark:O}):_?a.jsxs("div",{className:"space-y-3",children:[Q&&a.jsx("div",{className:"text-sm text-slate-400",children:"در حال بارگذاری ..."}),ne&&a.jsx("div",{className:"text-sm text-red-500",children:ne}),!Q&&!ne&&a.jsxs("select",{className:`w-full p-3 rounded-lg border text-sm focus:outline-none ${O?"bg-slate-700 border-slate-600 text-white focus:ring-2 focus:ring-purple-500":"bg-white border-gray-300 text-gray-800 focus:ring-2 focus:ring-purple-500"}`,value:T,onChange:K=>N(K.target.value),children:[a.jsx("option",{value:"",children:"انتخاب دسته‌بندی"}),B.map(K=>a.jsx("option",{value:K.id.toString(),children:K.name},K.id))]}),a.jsx("p",{className:"text-xs text-slate-400",children:"یک دسته‌بندی خدمات برای کسب‌وکار انتخاب کنید."})]}):k?a.jsxs("div",{className:"space-y-3",children:[W&&a.jsx("div",{className:"text-sm text-slate-400",children:"در حال بارگذاری ..."}),H&&a.jsx("div",{className:"text-sm text-red-500",children:H}),!W&&!H&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-2 ${O?"text-white":"text-gray-700"}`,children:"استان"}),a.jsxs("select",{className:`w-full p-3 rounded-lg border text-sm focus:outline-none ${O?"bg-slate-700 border-slate-600 text-white focus:ring-2 focus:ring-purple-500":"bg-white border-gray-300 text-gray-800 focus:ring-2 focus:ring-purple-500"}`,value:de,onChange:K=>{je(K.target.value),N("")},children:[a.jsx("option",{value:"",children:"انتخاب استان"}),X.map(K=>a.jsx("option",{value:K.id.toString(),children:K.name},K.id))]})]}),de&&a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium mb-2 ${O?"text-white":"text-gray-700"}`,children:"شهر"}),a.jsxs("select",{className:`w-full p-3 rounded-lg border text-sm focus:outline-none ${O?"bg-slate-700 border-slate-600 text-white focus:ring-2 focus:ring-purple-500":"bg-white border-gray-300 text-gray-800 focus:ring-2 focus:ring-purple-500"}`,value:T,onChange:K=>N(K.target.value),children:[a.jsx("option",{value:"",children:"انتخاب شهر"}),ae.map(K=>a.jsx("option",{value:K.id.toString(),children:K.name},K.id))]})]})]}),a.jsx("p",{className:"text-xs text-slate-400",children:"ابتدا استان و سپس شهر خود را انتخاب کنید."})]}):M?a.jsxs("div",{className:"space-y-3",children:[a.jsx(Mw,{initialLat:(he==null?void 0:he.lat)||35.6892,initialLng:(he==null?void 0:he.lng)||51.389,onLocationSelect:(K,we)=>{Ee({lat:K,lng:we}),N(`${K}, ${we}`)},isDark:O}),a.jsx("p",{className:"text-xs text-slate-400",children:"روی نقشه کلیک کنید تا موقعیت کسب‌وکار خود را انتخاب کنید."})]}):p?a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:`flex items-center space-x-3 space-x-reverse p-3 rounded-lg border cursor-pointer transition-colors ${T==="male"?O?"border-blue-500 bg-blue-900/20":"border-blue-500 bg-blue-50":O?"border-slate-600 hover:border-slate-500":"border-gray-300 hover:border-gray-400"}`,children:[a.jsx("input",{type:"radio",name:"gender",value:"male",checked:T==="male",onChange:K=>N(K.target.value),className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:`${O?"text-white":"text-gray-900"}`,children:"مرد"})]}),a.jsxs("label",{className:`flex items-center space-x-3 space-x-reverse p-3 rounded-lg border cursor-pointer transition-colors ${T==="female"?O?"border-blue-500 bg-blue-900/20":"border-blue-500 bg-blue-50":O?"border-slate-600 hover:border-slate-500":"border-gray-300 hover:border-gray-400"}`,children:[a.jsx("input",{type:"radio",name:"gender",value:"female",checked:T==="female",onChange:K=>N(K.target.value),className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:`${O?"text-white":"text-gray-900"}`,children:"زن"})]})]})}):C?a.jsx("textarea",{rows:3,value:T,onChange:K=>N(K.target.value),className:`w-full px-4 py-3 rounded-lg border resize-none ${I?"border-red-500 focus:ring-red-500":O?"border-slate-600 bg-slate-700 text-white placeholder-slate-400 focus:ring-teal-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-500 focus:ring-teal-500"} focus:border-transparent`,placeholder:i||"آدرس را وارد کنید"}):a.jsx("input",{type:u?"tel":f?"email":"text",value:T,onChange:K=>N(K.target.value),className:`w-full px-4 py-3 rounded-lg border ${I?"border-red-500 focus:ring-red-500":O?"border-slate-600 bg-slate-700 text-white placeholder-slate-400 focus:ring-teal-500":"border-gray-300 bg-white text-gray-900 placeholder-gray-500 focus:ring-teal-500"} focus:border-transparent`,placeholder:i}),I&&a.jsx("p",{className:"text-red-500 text-sm mt-2",children:I}),!v&&a.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[a.jsx("button",{onClick:t,className:`px-6 py-2 rounded-lg border ${O?"border-slate-600 text-slate-300 hover:bg-slate-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"لغو"}),a.jsx("button",{onClick:ye,className:"px-6 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors",children:u?"ارسال کد":"ثبت"})]}),v&&a.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[a.jsx("button",{onClick:t,className:`px-6 py-2 rounded-lg border ${O?"border-slate-600 text-slate-300 hover:bg-slate-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"لغو"}),a.jsx("button",{onClick:ye,className:"px-6 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors",children:"ثبت"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:`text-lg font-semibold ${O?"text-white":"text-gray-900"}`,children:"تایید شماره موبایل"}),a.jsx("button",{onClick:t,className:`p-2 rounded-lg ${O?"text-slate-400 hover:text-white":"text-gray-400 hover:text-gray-600"}`,children:"✕"})]}),a.jsxs("p",{className:`text-sm mb-4 ${O?"text-slate-300":"text-gray-600"}`,children:["جهت تایید شماره موبایل (",T,") کلید زیر را بزنید"]}),a.jsx("input",{type:"text",value:w,onChange:K=>P(K.target.value),className:`w-full px-4 py-3 rounded-lg border ${O?"border-slate-600 bg-slate-700 text-white placeholder-slate-400":"border-gray-300 bg-white text-gray-900 placeholder-gray-500"} focus:ring-2 focus:ring-teal-500 focus:border-transparent`,placeholder:"کد تایید را وارد نمایید"}),a.jsx("button",{onClick:J,className:"w-full mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"ارسال کد"})]})})})},Oe=({label:e,value:t,editable:r=!1,onEdit:i,isPhone:l=!1,isRequired:u=!1,valueLeftMargin:f=!1})=>{const{isDark:p}=Et(),v=u&&(!t||t.trim()==="");return a.jsxs("div",{className:`flex items-center justify-between rounded-2xl px-4 py-4 ${v?p?"bg-red-900/20 border-2 border-red-500/50":"bg-red-50 border-2 border-red-300":p?"bg-slate-800 border border-slate-700":"bg-gray-50"}`,children:[a.jsxs("div",{className:`text-sm ${v?p?"text-red-400":"text-red-600":p?"text-slate-300":"text-gray-600"}`,children:[e,v&&a.jsx("span",{className:"text-red-500 mr-1",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`text-base font-medium ${f?"mr-4":""} ${v?p?"text-red-400":"text-red-600":p?"text-white":"text-gray-900"}`,children:l&&t?t.replace(/(.{4})(.{3})(.{4})/,"$1$2$3"):t||(v?"ضروری است":"-")}),r&&a.jsx("button",{onClick:i,className:`p-2 rounded-lg ${p?"text-slate-400 hover:text-white":"text-gray-400 hover:text-gray-600"}`,children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})]})},Ow=()=>{const{user:e,updateUser:t,refreshProfile:r}=Ht(),{isDark:i}=Et(),[l,u]=z.useState({isOpen:!1,field:"",title:"",value:"",isPhone:!1,isEmail:!1,isGender:!1,isBirthDate:!1,isCategory:!1,isAddress:!1,isLocation:!1}),[f,p]=z.useState((e==null?void 0:e.avatar)||null),v=z.useRef(null);z.useEffect(()=>{e!=null&&e.avatar&&e.avatar!==f?p(e.avatar):!(e!=null&&e.avatar)&&f&&p(null)},[e==null?void 0:e.avatar]);const _=(N,S,b,w=!1)=>{console.log("Opening edit modal for field:",N,"with value:",b),u({isOpen:!0,field:N,title:S,value:b,isPhone:w,isEmail:N==="email",isGender:N==="gender",isBirthDate:N==="birth_date",isCategory:N==="category",isAddress:N==="address",isLocation:N==="location"})},C=()=>{u({isOpen:!1,field:"",title:"",value:"",isPhone:!1,isEmail:!1,isGender:!1,isBirthDate:!1,isCategory:!1,isAddress:!1,isLocation:!1})},k=async N=>{console.log("handleSave called with:",l.field,"=",N);try{let S=!1;if(l.field==="phone")S=await t({phone_number:N});else if(l.field==="businessName")(e==null?void 0:e.type)==="business"?S=!!(await pe.updateFullBusinessProfile({name:N})).data:S=await t({name:N});else if(l.field==="firstName")S=await t({first_name:N});else if(l.field==="lastName")S=await t({last_name:N});else if(l.field==="email")S=await t({email:N});else if(l.field==="gender"){const b=N==="مرد"?"male":N==="زن"?"female":N;S=await t({profile:{...e==null?void 0:e.profile,gender:b}})}else if(l.field==="birth_date")console.log("Saving birth_date as Gregorian (Mobile):",N),S=await t({profile:{...e==null?void 0:e.profile,birth_date:N}});else if(l.field==="city"){const b=parseInt(N);(e==null?void 0:e.type)==="business"?S=!!(await pe.updateFullBusinessProfile({city_id:b})).data:S=!!(await pe.updateCustomerProfile({city_id:b})).data}else if(l.field==="address")(e==null?void 0:e.type)==="business"?S=!!(await pe.updateFullBusinessProfile({address:N})).data:S=await t({profile:{...e==null?void 0:e.profile,address:N}});else if(l.field==="category"){if((e==null?void 0:e.type)==="business"){const b=parseInt(N);b?S=!!(await pe.updateFullBusinessProfile({category_id:b})).data:S=!0}}else if(l.field==="businessPhone")(e==null?void 0:e.type)==="business"&&(S=!!(await pe.updateFullBusinessProfile({business_phone:N})).data);else if(l.field==="location"&&(e==null?void 0:e.type)==="business"){const[b,w]=N.split(",").map(I=>parseFloat(I.trim()));S=!!(await pe.updateFullBusinessProfile({business_location_latitude:b,business_location_longitude:w})).data}S?(console.log("Profile updated successfully"),(e==null?void 0:e.type)==="business"&&["businessName","address","businessPhone","location","category","city"].includes(l.field)?await r():(e==null?void 0:e.type)==="customer"&&["city"].includes(l.field)&&await r()):console.error("Failed to update profile")}catch(S){console.error("Failed to update profile:",S)}},M=()=>{var N;(N=v.current)==null||N.click()},O=async N=>{var b;const S=(b=N.target.files)==null?void 0:b[0];if(S)try{if(console.log("File selected:",S.name,S.size,S.type),!S.type.startsWith("image/")){alert("لطفاً یک فایل تصویری انتخاب کنید");return}if(S.size>5*1024*1024){alert("حجم فایل نباید بیشتر از 5 مگابایت باشد");return}const w=new FileReader;if(w.onload=I=>{var V;const A=(V=I.target)==null?void 0:V.result;console.log("Preview URL created:",A),p(A),localStorage.getItem("access_token")==="test_access_token"&&(t({avatar:A}),console.log("Profile image updated for test user"),alert("عکس پروفایل با موفقیت تغییر کرد"))},w.onerror=()=>{console.error("FileReader error"),alert("خطا در خواندن فایل")},w.readAsDataURL(S),!(localStorage.getItem("access_token")==="test_access_token"))try{const I=await pe.uploadProfileImage(S);I.data&&(p(I.data.image),await t({avatar:I.data.image}),console.log("Profile image updated:",I.data.image,"converted?",I.data.converted),alert("عکس پروفایل با موفقیت آپلود شد"))}catch(I){console.error("Upload failed:",I),alert("خطا در آپلود عکس"),p((e==null?void 0:e.avatar)||null)}}catch(w){console.error("Failed to process image:",w),alert("خطا در پردازش عکس")}},T=N=>{var S,b,w,P,I,A,B,V,Q,ce,ne,ge,X,U;switch(N){case"firstName":return(e==null?void 0:e.first_name)||"";case"lastName":return(e==null?void 0:e.last_name)||"";case"businessName":return(e==null?void 0:e.name)||"";case"email":return(e==null?void 0:e.email)||"";case"phone":return(e==null?void 0:e.phone_number)||"";case"gender":return((S=e==null?void 0:e.profile)==null?void 0:S.gender)==="male"?"مرد":((b=e==null?void 0:e.profile)==null?void 0:b.gender)==="female"?"زن":"";case"birth_date":if((w=e==null?void 0:e.profile)!=null&&w.birth_date)try{const ae=new Date(e.profile.birth_date);if(!isNaN(ae.getTime())){const Y=Nc(ae);return`${Y.year}/${Y.month.toString().padStart(2,"0")}/${Y.day.toString().padStart(2,"0")}`}}catch(ae){console.error("Error converting birth date:",ae)}return"";case"city":return(e==null?void 0:e.type)==="business"?((I=(P=e==null?void 0:e.businessProfile)==null?void 0:P.city)==null?void 0:I.name)||"":((B=(A=e==null?void 0:e.profile)==null?void 0:A.city)==null?void 0:B.name)||"";case"address":return(e==null?void 0:e.type)==="business"?((V=e==null?void 0:e.businessProfile)==null?void 0:V.address)||"":((Q=e==null?void 0:e.profile)==null?void 0:Q.address)||"";case"category":return((ne=(ce=e==null?void 0:e.businessProfile)==null?void 0:ce.category)==null?void 0:ne.name)||"";case"businessPhone":return((ge=e==null?void 0:e.businessProfile)==null?void 0:ge.business_phone)||"";case"location":return(X=e==null?void 0:e.businessProfile)!=null&&X.business_location_latitude&&((U=e==null?void 0:e.businessProfile)!=null&&U.business_location_longitude)?`${e.businessProfile.business_location_latitude}, ${e.businessProfile.business_location_longitude}`:"";default:return""}};return a.jsx(zr,{children:a.jsxs("div",{className:"space-y-8",children:[(e==null?void 0:e.type)==="customer"&&(e==null?void 0:e.isProfileComplete)===!1&&a.jsx("div",{className:`rounded-2xl p-6 border-2 ${i?"bg-amber-900/20 border-amber-500 text-amber-200":"bg-amber-50 border-amber-300 text-amber-800"}`,children:a.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-1",children:"تکمیل پروفایل ضروری است"}),a.jsx("p",{className:"text-sm opacity-90",children:"برای دسترسی به بخش‌های داشبورد، لطفاً ابتدا اطلاعات پروفایل خود را کامل کنید: نام، نام خانوادگی، جنسیت، تاریخ تولد و شهر."})]})]})}),(e==null?void 0:e.type)==="business"&&(e==null?void 0:e.isProfileComplete)===!1&&a.jsx("div",{className:`rounded-2xl p-6 border-2 ${i?"bg-amber-900/20 border-amber-500 text-amber-200":"bg-amber-50 border-amber-300 text-amber-800"}`,children:a.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-1",children:"تکمیل پروفایل کسب‌وکار ضروری است"}),a.jsx("p",{className:"text-sm opacity-90",children:"برای دسترسی به بخش‌های داشبورد، لطفاً ابتدا اطلاعات کسب‌وکار خود را کامل کنید: نام کسب‌وکار، دسته‌بندی، آدرس، موقعیت مکانی، شهر و شماره تلفن کسب‌وکار."})]})]})}),a.jsx("div",{className:`rounded-2xl p-8 ${i?"bg-slate-900/30":"bg-white"}`,children:a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"relative",children:[f?a.jsx("img",{src:f,alt:"Profile",className:"w-24 h-24 rounded-full object-cover"}):a.jsx("div",{className:"w-24 h-24 bg-gray-300 rounded-full flex items-center justify-center text-3xl",children:"👤"}),a.jsx("button",{onClick:M,className:"absolute -bottom-2 -right-2 w-8 h-8 bg-teal-500 text-white rounded-full flex items-center justify-center hover:bg-teal-600 transition-colors",title:(e==null?void 0:e.type)==="business"?"تغییر لوگو":"تغییر عکس",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),a.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:O,className:"hidden"})]}),a.jsxs("div",{children:[a.jsx("div",{className:`text-2xl font-bold ${i?"text-white":"text-gray-900"}`,children:e==null?void 0:e.name}),a.jsx("div",{className:`text-sm ${i?"text-slate-400":"text-gray-500"}`,children:(e==null?void 0:e.type)==="business"?"لوگو کسب‌وکار":"عکس پروفایل"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(e==null?void 0:e.type)==="business"?a.jsx(Oe,{label:"نام کسب‌وکار",value:T("businessName"),editable:!0,isRequired:!0,onEdit:()=>_("businessName","نام کسب‌وکار را وارد نمایید",T("businessName"))}):a.jsxs(a.Fragment,{children:[a.jsx(Oe,{label:"نام",value:T("firstName"),editable:!0,isRequired:!0,onEdit:()=>_("firstName","نام را وارد نمایید",T("firstName"))}),a.jsx(Oe,{label:"نام خانوادگی",value:T("lastName"),editable:!0,isRequired:!0,onEdit:()=>_("lastName","نام خانوادگی را وارد نمایید",T("lastName"))})]}),a.jsx(Oe,{label:"شماره موبایل",value:T("phone"),editable:!0,isPhone:!0,onEdit:()=>_("phone","شماره موبایل را وارد نمایید",T("phone"),!0)}),a.jsx(Oe,{label:"ایمیل",value:T("email"),editable:!0,onEdit:()=>_("email","ایمیل را وارد نمایید",T("email"))}),a.jsx(Oe,{label:"نوع کاربر",value:(e==null?void 0:e.type)==="business"?"کسب‌وکار":"مشتری",valueLeftMargin:!0}),(e==null?void 0:e.type)==="business"&&a.jsxs(a.Fragment,{children:[a.jsx(Oe,{label:"دسته‌بندی کسب‌وکار",value:T("category"),editable:!0,isRequired:!0,onEdit:()=>_("category","دسته‌بندی کسب‌وکار را انتخاب نمایید",T("category"))}),a.jsx(Oe,{label:"آدرس",value:T("address"),editable:!0,isRequired:!0,onEdit:()=>_("address","آدرس کسب‌وکار را وارد نمایید",T("address"))}),a.jsx(Oe,{label:"شهر",value:T("city"),editable:!0,isRequired:!0,onEdit:()=>_("city","شهر کسب‌وکار را انتخاب نمایید",T("city"))}),a.jsx(Oe,{label:"شماره تلفن کسب‌وکار",value:T("businessPhone"),editable:!0,isRequired:!0,onEdit:()=>_("businessPhone","شماره تلفن کسب‌وکار را وارد نمایید",T("businessPhone"))}),a.jsx(Oe,{label:"موقعیت مکانی",value:T("location"),editable:!0,isRequired:!0,onEdit:()=>_("location","موقعیت کسب‌وکار را روی نقشه انتخاب نمایید",T("location"))})]}),(e==null?void 0:e.type)==="customer"&&a.jsxs(a.Fragment,{children:[a.jsx(Oe,{label:"جنسیت",value:T("gender"),editable:!0,isRequired:!0,onEdit:()=>_("gender","جنسیت خود را انتخاب کنید",T("gender"))}),a.jsx(Oe,{label:"تاریخ تولد",value:T("birth_date"),editable:!0,isRequired:!0,onEdit:()=>_("birth_date","تاریخ تولد را وارد کنید",T("birth_date"))}),a.jsx(Oe,{label:"شهر",value:T("city"),editable:!0,isRequired:!0,onEdit:()=>_("city","شهر خود را انتخاب کنید",T("city"))}),a.jsx(Oe,{label:"آدرس",value:T("address"),editable:!0,onEdit:()=>_("address","آدرس خود را وارد کنید",T("address"))})]})]}),a.jsx(ex,{isOpen:l.isOpen,onClose:C,title:l.title,currentValue:l.value,onSave:k,isPhone:l.isPhone,isEmail:l.field==="email",isGender:l.field==="gender",isBirthDate:l.field==="birth_date",isCategory:l.field==="category",isAddress:l.field==="address",isCity:l.field==="city",isLocation:l.field==="location"})]})})},zw=()=>{const{user:e,updateUser:t,refreshProfile:r}=Ht(),{isDark:i}=Et(),[l,u]=z.useState({isOpen:!1,field:"",title:"",value:"",isPhone:!1,isEmail:!1,isGender:!1,isBirthDate:!1,isCategory:!1,isAddress:!1,isLocation:!1}),[f,p]=z.useState((e==null?void 0:e.avatar)||null),v=z.useRef(null);z.useEffect(()=>{e!=null&&e.avatar&&e.avatar!==f?p(e.avatar):!(e!=null&&e.avatar)&&f&&p(null)},[e==null?void 0:e.avatar]);const _=(N,S,b,w=!1)=>{console.log("Opening edit modal for field:",N,"with value:",b),u({isOpen:!0,field:N,title:S,value:b,isPhone:w,isEmail:N==="email",isGender:N==="gender",isBirthDate:N==="birth_date",isCategory:N==="category",isAddress:N==="address",isLocation:N==="location"})},C=()=>{u({isOpen:!1,field:"",title:"",value:"",isPhone:!1,isEmail:!1,isGender:!1,isBirthDate:!1,isCategory:!1,isAddress:!1,isLocation:!1})},k=async N=>{console.log("handleSave called with:",l.field,"=",N);try{let S=!1;if(l.field==="phone")S=await t({phone_number:N});else if(l.field==="businessName")(e==null?void 0:e.type)==="business"?S=!!(await pe.updateFullBusinessProfile({name:N})).data:S=await t({name:N});else if(l.field==="firstName")S=await t({first_name:N});else if(l.field==="lastName")S=await t({last_name:N});else if(l.field==="email")S=await t({email:N});else if(l.field==="gender")S=await t({profile:{...e==null?void 0:e.profile,gender:N}});else if(l.field==="birth_date")console.log("Saving birth_date as Gregorian (Desktop):",N),S=await t({profile:{...e==null?void 0:e.profile,birth_date:N}});else if(l.field==="city"){const b=parseInt(N);(e==null?void 0:e.type)==="business"?S=!!(await pe.updateFullBusinessProfile({city_id:b})).data:S=!!(await pe.updateCustomerProfile({city_id:b})).data}else if(l.field==="address")(e==null?void 0:e.type)==="business"?S=!!(await pe.updateFullBusinessProfile({address:N})).data:S=await t({profile:{...e==null?void 0:e.profile,address:N}});else if(l.field==="category"){if((e==null?void 0:e.type)==="business"){const b=parseInt(N);b?S=!!(await pe.updateFullBusinessProfile({category_id:b})).data:S=!0}}else if(l.field==="businessPhone")(e==null?void 0:e.type)==="business"&&(S=!!(await pe.updateFullBusinessProfile({business_phone:N})).data);else if(l.field==="location"&&(e==null?void 0:e.type)==="business"){const[b,w]=N.split(",").map(I=>parseFloat(I.trim()));S=!!(await pe.updateFullBusinessProfile({business_location_latitude:b,business_location_longitude:w})).data}S?(console.log("Profile updated successfully"),(e==null?void 0:e.type)==="business"&&["businessName","address","businessPhone","location","category","city"].includes(l.field)?await r():(e==null?void 0:e.type)==="customer"&&["city"].includes(l.field)&&await r()):console.error("Failed to update profile")}catch(S){console.error("Failed to update profile:",S)}},M=()=>{var N;(N=v.current)==null||N.click()},O=async N=>{var b;const S=(b=N.target.files)==null?void 0:b[0];if(S)try{if(console.log("File selected:",S.name,S.size,S.type),!S.type.startsWith("image/")){alert("لطفاً یک فایل تصویری انتخاب کنید");return}if(S.size>5*1024*1024){alert("حجم فایل نباید بیشتر از 5 مگابایت باشد");return}const w=new FileReader;if(w.onload=I=>{var V;const A=(V=I.target)==null?void 0:V.result;console.log("Preview URL created:",A),p(A),localStorage.getItem("access_token")==="test_access_token"&&(t({avatar:A}),console.log("Profile image updated for test user"),alert("عکس پروفایل با موفقیت تغییر کرد"))},w.onerror=()=>{console.error("FileReader error"),alert("خطا در خواندن فایل")},w.readAsDataURL(S),!(localStorage.getItem("access_token")==="test_access_token"))try{const I=await pe.uploadProfileImage(S);I.data&&(p(I.data.image),t({avatar:I.data.image}),console.log("Profile image updated:",I.data.image),alert("عکس پروفایل با موفقیت آپلود شد"))}catch(I){console.error("Upload failed:",I),alert("خطا در آپلود عکس"),p((e==null?void 0:e.avatar)||null)}}catch(w){console.error("Failed to process image:",w),alert("خطا در پردازش عکس")}},T=N=>{var S,b,w,P,I,A,B,V,Q,ce,ne,ge,X,U,ae;switch(N){case"firstName":return(e==null?void 0:e.first_name)||"";case"lastName":return(e==null?void 0:e.last_name)||"";case"businessName":return((S=e==null?void 0:e.businessProfile)==null?void 0:S.name)||(e==null?void 0:e.name)||"";case"email":return(e==null?void 0:e.email)||"";case"phone":return(e==null?void 0:e.phone_number)||"";case"gender":return((b=e==null?void 0:e.profile)==null?void 0:b.gender)==="male"?"مرد":((w=e==null?void 0:e.profile)==null?void 0:w.gender)==="female"?"زن":"";case"birth_date":if((P=e==null?void 0:e.profile)!=null&&P.birth_date)try{const Y=new Date(e.profile.birth_date);if(!isNaN(Y.getTime())){const de=Nc(Y);return`${de.year}/${de.month.toString().padStart(2,"0")}/${de.day.toString().padStart(2,"0")}`}}catch(Y){console.error("Error converting birth date:",Y)}return"";case"city":return(e==null?void 0:e.type)==="business"?((A=(I=e==null?void 0:e.businessProfile)==null?void 0:I.city)==null?void 0:A.name)||"":((V=(B=e==null?void 0:e.profile)==null?void 0:B.city)==null?void 0:V.name)||"";case"address":return(e==null?void 0:e.type)==="business"?((Q=e==null?void 0:e.businessProfile)==null?void 0:Q.address)||"":((ce=e==null?void 0:e.profile)==null?void 0:ce.address)||"";case"category":return((ge=(ne=e==null?void 0:e.businessProfile)==null?void 0:ne.category)==null?void 0:ge.name)||"";case"businessPhone":return((X=e==null?void 0:e.businessProfile)==null?void 0:X.business_phone)||"";case"location":return(U=e==null?void 0:e.businessProfile)!=null&&U.business_location_latitude&&((ae=e==null?void 0:e.businessProfile)!=null&&ae.business_location_longitude)?`${e.businessProfile.business_location_latitude}, ${e.businessProfile.business_location_longitude}`:"";default:return""}};return a.jsx(mn,{children:a.jsxs("div",{className:"p-4 space-y-6",children:[(e==null?void 0:e.type)==="customer"&&(e==null?void 0:e.isProfileComplete)===!1&&a.jsx("div",{className:`rounded-2xl p-4 border-2 ${i?"bg-amber-900/20 border-amber-500 text-amber-200":"bg-amber-50 border-amber-300 text-amber-800"}`,children:a.jsxs("div",{className:"flex items-start space-x-3 rtl:space-x-reverse",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-base font-semibold mb-1",children:"تکمیل پروفایل ضروری"}),a.jsx("p",{className:"text-sm opacity-90",children:"برای دسترسی به داشبورد، ابتدا پروفایل خود را کامل کنید."})]})]})}),a.jsx("div",{className:`rounded-2xl p-4 ${i?"bg-slate-800":"bg-white"}`,children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[f?a.jsx("img",{src:f,alt:"Profile",className:"w-16 h-16 rounded-full object-cover"}):a.jsx("div",{className:"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center text-2xl",children:"👤"}),a.jsx("button",{onClick:M,className:"absolute -bottom-1 -right-1 w-6 h-6 bg-teal-500 text-white rounded-full flex items-center justify-center hover:bg-teal-600 transition-colors",title:(e==null?void 0:e.type)==="business"?"تغییر لوگو":"تغییر عکس",children:a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),a.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:O,className:"hidden"})]}),a.jsxs("div",{children:[a.jsx("div",{className:`font-bold ${i?"text-white":"text-gray-900"}`,children:e==null?void 0:e.name}),a.jsx("div",{className:`text-xs ${i?"text-slate-400":"text-gray-500"}`,children:(e==null?void 0:e.type)==="business"?"لوگو کسب‌وکار":"عکس پروفایل"})]})]})}),a.jsxs("div",{className:"space-y-3",children:[(e==null?void 0:e.type)==="business"?a.jsx(Oe,{label:"نام کسب‌وکار",value:T("businessName"),editable:!0,isRequired:!0,onEdit:()=>_("businessName","نام کسب‌وکار را وارد نمایید",T("businessName"))}):a.jsxs(a.Fragment,{children:[a.jsx(Oe,{label:"نام",value:T("firstName"),editable:!0,isRequired:!0,onEdit:()=>_("firstName","نام را وارد نمایید",T("firstName"))}),a.jsx(Oe,{label:"نام خانوادگی",value:T("lastName"),editable:!0,isRequired:!0,onEdit:()=>_("lastName","نام خانوادگی را وارد نمایید",T("lastName"))})]}),a.jsx(Oe,{label:"شماره موبایل",value:T("phone"),editable:!0,isPhone:!0,onEdit:()=>_("phone","شماره موبایل را وارد نمایید",T("phone"),!0)}),a.jsx(Oe,{label:"ایمیل",value:T("email"),editable:!0,onEdit:()=>_("email","ایمیل را وارد نمایید",T("email"))}),a.jsx(Oe,{label:"نوع کاربر",value:(e==null?void 0:e.type)==="business"?"کسب‌وکار":"مشتری",valueLeftMargin:!0}),(e==null?void 0:e.type)==="business"&&a.jsxs(a.Fragment,{children:[a.jsx(Oe,{label:"دسته‌بندی کسب‌وکار",value:T("category"),editable:!0,isRequired:!0,onEdit:()=>_("category","دسته‌بندی کسب‌وکار را انتخاب نمایید",T("category"))}),a.jsx(Oe,{label:"آدرس",value:T("address"),editable:!0,isRequired:!0,onEdit:()=>_("address","آدرس کسب‌وکار را وارد نمایید",T("address"))}),a.jsx(Oe,{label:"شهر",value:T("city"),editable:!0,isRequired:!0,onEdit:()=>_("city","شهر کسب‌وکار را انتخاب نمایید",T("city"))}),a.jsx(Oe,{label:"شماره تلفن کسب‌وکار",value:T("businessPhone"),editable:!0,isRequired:!0,onEdit:()=>_("businessPhone","شماره تلفن کسب‌وکار را وارد نمایید",T("businessPhone"))}),a.jsx(Oe,{label:"موقعیت مکانی",value:T("location"),editable:!0,isRequired:!0,onEdit:()=>_("location","موقعیت کسب‌وکار را روی نقشه انتخاب نمایید",T("location"))})]}),(e==null?void 0:e.type)==="customer"&&a.jsxs(a.Fragment,{children:[a.jsx(Oe,{label:"جنسیت",value:T("gender"),editable:!0,isRequired:!0,onEdit:()=>_("gender","جنسیت خود را انتخاب کنید",T("gender"))}),a.jsx(Oe,{label:"تاریخ تولد",value:T("birth_date"),editable:!0,isRequired:!0,onEdit:()=>_("birth_date","تاریخ تولد را وارد کنید",T("birth_date"))}),a.jsx(Oe,{label:"شهر",value:T("city"),editable:!0,isRequired:!0,onEdit:()=>_("city","شهر خود را انتخاب کنید",T("city"))}),a.jsx(Oe,{label:"آدرس",value:T("address"),editable:!0,onEdit:()=>_("address","آدرس خود را وارد کنید",T("address"))})]})]}),a.jsx(ex,{isOpen:l.isOpen,onClose:C,title:l.title,currentValue:l.value,onSave:k,isPhone:l.isPhone,isEmail:l.field==="email",isGender:l.field==="gender",isBirthDate:l.field==="birth_date",isCategory:l.field==="category",isAddress:l.field==="address",isCity:l.field==="city",isLocation:l.field==="location"})]})})},Iw=()=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(Ow,{})}),a.jsx("div",{className:"md:hidden",children:a.jsx(zw,{})})]}),Rw=()=>{const{isDark:e}=Et(),{user:t}=Ht(),r=Wi(),[i,l]=z.useState([]),[u,f]=z.useState(!0),[p,v]=z.useState(null),[_,C]=z.useState(!1),[k,M]=z.useState(!0),[O,T]=z.useState(""),[N,S]=z.useState(void 0),[b,w]=z.useState([]),[P,I]=z.useState(null),[A,B]=z.useState(!1);z.useEffect(()=>{if(t&&t.type!=="business"){r("/dashboard");return}},[t,r]),z.useEffect(()=>{console.log("PackageManagement mounted, user:",t),console.log("Local storage access token:",localStorage.getItem("access_token")?"Exists":"Missing"),console.log("Local storage refresh token:",localStorage.getItem("refresh_token")?"Exists":"Missing"),V(),Q()},[t]);const V=async()=>{try{f(!0),v(null);const Y=await pe.getPackages();if(Y.error)v(Y.error);else if(Y.data){l(Y.data);const de=Y.data.some(ie=>ie.is_active),je=Y.data.some(ie=>ie.status==="draft"),W=Y.data.some(ie=>ie.status==="pending"&&ie.is_complete);let le=!0,H="";if(je&&(le=!1,H="draft"),W&&(le=!1,H="pending"),de&&le){const ie=Y.data.find(he=>he.is_active);if(ie&&ie.end_date){const he=new Date(ie.end_date),Ee=new Date;Math.ceil((he.getTime()-Ee.getTime())/(1e3*60*60*24))>10&&(le=!1,H="active")}}M(le),le||T(H)}}catch{v("خطا در بارگذاری پکیج‌ها")}finally{f(!1)}},Q=async()=>{try{console.log("Loading VIP experiences...");const Y=await pe.getVipExperienceCategories();console.log("VIP experiences response:",Y),Y.error?(console.error("Error loading VIP experiences:",Y.error),w([])):Y.data?(console.log("VIP experiences loaded:",Y.data),w(Y.data)):(console.log("No data in VIP experiences response"),w([]))}catch(Y){console.error("Exception loading VIP experiences:",Y),w([])}},ce=async()=>{if(console.log("=== BUTTON CLICKED: handleCreatePackage called ==="),!k){console.log("Cannot create package: conditions not met, reason:",O);let Y="";switch(O){case"draft":Y="شما پکیج پیش‌نویس دارید و نمی‌توانید پکیج جدید بسازید. لطفاً ابتدا پکیج موجود را تکمیل کنید.";break;case"pending":Y="شما یک پکیج در حال بررسی دارید و نمی‌توانید پکیج جدید بسازید.";break;case"active":Y="پکیج فعالی دارید و بیش از ۱۰ روز تا پایان آن مانده است.";break;default:Y="شما نمی‌توانید پکیج جدید ایجاد کنید. لطفاً ابتدا پکیج موجود را تکمیل کنید."}v(Y);return}try{f(!0),v(null),console.log("=== DEBUG: Starting package creation ==="),console.log("User:",t),console.log("User role:",t==null?void 0:t.role),console.log("User business profile:",t==null?void 0:t.businessProfile),console.log("API service authenticated:",pe.isAuthenticated());const Y={business:9,is_active:!1,is_complete:!1,status:"draft"},de=localStorage.getItem("access_token");if(console.log("Local storage token:",de?de.substring(0,50)+"...":"No token"),!de){v("شما وارد نشده‌اید. لطفاً ابتدا وارد شوید.");return}console.log("Creating package with data:",Y);const je=await pe.createPackage(Y);console.log("API response:",je),console.log("Response error:",je.error),console.log("Response data:",je.data),je.error?(console.error("API Error:",je.error),v(je.error)):je.data?(console.log("Package created successfully with ID:",je.data.id),S(je.data.id),C(!0),V()):(console.error("No data in response"),v("پاسخ نامعتبر از سرور"))}catch(Y){console.error("Exception in handleCreatePackage:",Y),v("خطا در ایجاد پکیج: "+Y.message)}finally{f(!1)}},ne=Y=>{S(Y),C(!0)},ge=async Y=>{try{const de=await pe.getPackage(Y.id);de.data?(I(de.data),B(!0)):v(de.error||"خطا در دریافت جزئیات پکیج")}catch(de){console.error("Error fetching package details:",de),v("خطا در دریافت جزئیات پکیج")}},X=Y=>{Y.status==="draft"&&!Y.is_complete?ne(Y.id):["pending","approved","rejected"].includes(Y.status)&&ge(Y)},U=Y=>{switch(Y){case"draft":return"text-blue-600 bg-blue-100";case"approved":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"rejected":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},ae=Y=>{switch(Y){case"draft":return"پیش‌نویس";case"approved":return"تایید شده";case"pending":return"در حال بررسی";case"rejected":return"نیاز به ویرایش";default:return Y}};return t?t.type!=="business"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"md:hidden",children:a.jsx(mn,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🚫"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"دسترسی محدود"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"این صفحه فقط برای کسب‌وکارها قابل دسترسی است"})]})})})}),a.jsx("div",{className:"hidden md:block",children:a.jsx(zr,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🚫"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"دسترسی محدود"}),a.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"این صفحه فقط برای کسب‌وکارها قابل دسترسی است"})]})})})})]}):u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"md:hidden",children:a.jsx(mn,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}),a.jsx("div",{className:"hidden md:block",children:a.jsx(zr,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"md:hidden",children:a.jsx(Aw,{packages:i,error:p,onCreatePackage:ce,onPackageClick:X,getStatusColor:U,getStatusText:ae})}),a.jsxs("div",{className:"hidden md:block",children:[a.jsx(zr,{children:a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",dir:"rtl",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:`text-3xl font-bold ${e?"text-white":"text-gray-900"} mb-2`,children:"مدیریت پکیج‌های تبلیغاتی"}),a.jsx("p",{className:`${e?"text-slate-400":"text-gray-600"}`,children:"پکیج‌های من"})]}),p&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:p}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[a.jsxs("span",{className:`text-sm ${e?"text-slate-400":"text-gray-600"}`,children:["تعداد کل: ",i.length]}),a.jsxs("span",{className:`text-sm ${e?"text-slate-400":"text-gray-600"}`,children:["فعال: ",i.filter(Y=>Y.is_active).length]}),a.jsxs("span",{className:`text-sm ${e?"text-slate-400":"text-gray-600"}`,children:["تایید شده: ",i.filter(Y=>Y.status==="approved").length]})]})}),i.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),a.jsx("h3",{className:`text-lg font-medium ${e?"text-white":"text-gray-900"} mb-2`,children:"هنوز پکیجی ایجاد نکرده‌اید"}),a.jsx("p",{className:`${e?"text-slate-400":"text-gray-600"} mb-6`,children:"برای شروع، اولین پکیج تبلیغاتی خود را ایجاد کنید"}),a.jsx("button",{onClick:()=>C(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors",children:"ایجاد اولین پکیج"})]}):a.jsx("div",{className:`${e?"bg-slate-800":"bg-white"} rounded-lg shadow-sm border ${e?"border-slate-600":"border-gray-200"} overflow-hidden`,children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:`${e?"bg-slate-700":"bg-gray-50"}`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-6 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-gray-500"} uppercase tracking-wider`,children:"وضعیت"}),a.jsx("th",{className:`px-6 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-gray-500"} uppercase tracking-wider`,children:"تاریخ شروع/پایان"}),a.jsx("th",{className:`px-6 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-gray-500"} uppercase tracking-wider`,children:"تخفیف/هدیه"}),a.jsx("th",{className:`px-6 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-gray-500"} uppercase tracking-wider`,children:"تجربیات VIP"}),a.jsx("th",{className:`px-6 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-gray-500"} uppercase tracking-wider`,children:"عملیات"})]})}),a.jsx("tbody",{className:`${e?"bg-slate-800":"bg-white"} divide-y ${e?"divide-slate-600":"divide-gray-200"}`,children:i.map(Y=>a.jsxs("tr",{className:`${e?"hover:bg-slate-700":"hover:bg-gray-50"} ${Y.status==="draft"&&!Y.is_complete||["pending","approved","rejected"].includes(Y.status)?"cursor-pointer":""}`,onClick:()=>X(Y),children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[Y.status==="draft"&&a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${U(Y.status)}`,children:ae(Y.status)}),Y.is_active&&a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full text-green-600 bg-green-100",children:"فعال"}),Y.days_remaining!==null&&Y.days_remaining!==void 0&&a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Y.days_remaining>7?"text-green-700 bg-green-100":Y.days_remaining>0?"text-orange-700 bg-orange-100":"text-red-700 bg-red-100"}`,children:Y.days_remaining>0?`${Y.days_remaining} روز`:"منقضی"})]})}),a.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${e?"text-slate-400":"text-gray-500"}`,children:a.jsxs("div",{className:"space-y-1",children:[Y.start_date&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-3 h-3 ml-1 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),new Date(Y.start_date).toLocaleDateString("fa-IR")]}),Y.end_date&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-3 h-3 ml-1 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),new Date(Y.end_date).toLocaleDateString("fa-IR")]})]})}),a.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${e?"text-slate-400":"text-gray-500"}`,children:a.jsxs("div",{className:"space-y-1",children:[Y.discount_percentage&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-4 h-4 bg-red-100 rounded flex items-center justify-center ml-1",children:a.jsx("svg",{className:"w-2 h-2 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.99 1.99 0 013 12V7a4 4 0 014-4z"})})}),a.jsxs("span",{className:"text-red-600 font-medium",children:["%",Y.discount_percentage]})]}),Y.elite_gift_title&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-4 h-4 bg-purple-100 rounded flex items-center justify-center ml-1",children:a.jsx("svg",{className:"w-2 h-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})})}),a.jsx("span",{className:"text-purple-600 truncate max-w-20",title:Y.elite_gift_title,children:Y.elite_gift_title})]})]})}),a.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${e?"text-slate-400":"text-gray-500"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 ml-1 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),a.jsx("span",{className:"font-medium",children:Y.vip_experiences_count}),a.jsx("span",{className:"mr-1",children:"تجربه"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[Y.status==="draft"&&a.jsx("span",{className:"text-blue-600 text-sm",children:"کلیک کنید تا ویرایش کنید"}),Y.status==="pending"&&a.jsx("span",{className:"text-orange-600 text-sm",children:"در حال بررسی"}),Y.status==="approved"&&a.jsx("span",{className:"text-green-600 text-sm",children:"تایید شده"}),Y.status==="rejected"&&a.jsx("span",{className:"text-red-600 text-sm",children:"نیاز به ویرایش"})]})})]},Y.id))})]})})})]})}),i.length>0&&a.jsx("button",{onClick:ce,disabled:!k||u,className:`fixed bottom-8 right-6 w-12 h-12 rounded-full shadow-lg flex items-center justify-center transition-all duration-300 z-40 ${k&&!u?"bg-blue-600 hover:bg-blue-700 text-white hover:scale-110 shadow-blue-500/25":"bg-gray-400 text-gray-200 cursor-not-allowed"}`,title:k?"ایجاد پکیج جدید":O==="draft"?"شما پکیج پیش‌نویس دارید":O==="pending"?"شما پکیج در حال بررسی دارید":O==="active"?"پکیج فعال شما بیش از ۱۰ روز باقی‌مانده دارد":"امکان ایجاد پکیج جدید وجود ندارد",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),_&&a.jsx(Fw,{onClose:()=>{C(!1),S(void 0)},onSuccess:()=>{C(!1),S(void 0),V()},editingPackageId:N,vipExperiences:b}),A&&P&&a.jsx($w,{package:P,onClose:()=>{B(!1),I(null)}})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"md:hidden",children:a.jsx(mn,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}),a.jsx("div",{className:"hidden md:block",children:a.jsx(zr,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})})]})},Aw=({packages:e,error:t,onCreatePackage:r,onPackageClick:i,getStatusColor:l,getStatusText:u})=>{const{isDark:f}=Et();return a.jsxs(mn,{children:[a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsx("div",{className:`${f?"bg-slate-800":"bg-white"} rounded-2xl p-4 shadow-sm`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:`text-xl font-bold ${f?"text-white":"text-gray-900"}`,children:"مدیریت پکیج‌ها"}),a.jsx("p",{className:`text-sm ${f?"text-slate-400":"text-gray-600"}`,children:"پکیج‌های تبلیغاتی شما"})]}),a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-2xl",children:"📦"})})]})}),t&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:t}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:`${f?"bg-slate-800":"bg-white"} rounded-2xl p-4 shadow-sm text-center`,children:[a.jsx("div",{className:"text-2xl font-bold text-blue-500 mb-1",children:e.length}),a.jsx("div",{className:`text-sm ${f?"text-slate-400":"text-gray-600"}`,children:"کل پکیج‌ها"})]}),a.jsxs("div",{className:`${f?"bg-slate-800":"bg-white"} rounded-2xl p-4 shadow-sm text-center`,children:[a.jsx("div",{className:"text-2xl font-bold text-green-500 mb-1",children:e.filter(p=>p.is_active).length}),a.jsx("div",{className:`text-sm ${f?"text-slate-400":"text-gray-600"}`,children:"فعال"})]}),a.jsxs("div",{className:`${f?"bg-slate-800":"bg-white"} rounded-2xl p-4 shadow-sm text-center`,children:[a.jsx("div",{className:"text-2xl font-bold text-purple-500 mb-1",children:e.filter(p=>p.status==="approved").length}),a.jsx("div",{className:`text-sm ${f?"text-slate-400":"text-gray-600"}`,children:"تایید شده"})]})]}),e.length===0?a.jsxs("div",{className:`${f?"bg-slate-800":"bg-white"} rounded-2xl p-8 shadow-sm text-center`,children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),a.jsx("h3",{className:`text-lg font-medium ${f?"text-white":"text-gray-900"} mb-2`,children:"هنوز پکیجی ایجاد نکرده‌اید"}),a.jsx("p",{className:`${f?"text-slate-400":"text-gray-600"} mb-6`,children:"برای شروع، اولین پکیج تبلیغاتی خود را ایجاد کنید"}),a.jsx("button",{onClick:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors",children:"ایجاد اولین پکیج"})]}):a.jsx("div",{className:"space-y-4",children:e.map(p=>a.jsxs("div",{className:`${f?"bg-slate-800":"bg-white"} rounded-2xl p-4 shadow-sm ${p.status==="draft"&&!p.is_complete||["pending","approved","rejected"].includes(p.status)?"cursor-pointer hover:shadow-md transition-shadow":""}`,onClick:()=>i(p),children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[p.status==="draft"&&a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l(p.status)}`,children:u(p.status)}),p.is_active&&a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full text-green-600 bg-green-100",children:"فعال"})]})}),a.jsxs("div",{className:"space-y-3 mb-4",children:[(p.start_date||p.end_date)&&a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.start_date&&a.jsxs("div",{className:`flex items-center ${f?"text-slate-400":"text-gray-500"}`,children:[a.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"شروع: ",new Date(p.start_date).toLocaleDateString("fa-IR")]}),p.end_date&&a.jsxs("div",{className:`flex items-center ${f?"text-slate-400":"text-gray-500"}`,children:[a.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"پایان: ",new Date(p.end_date).toLocaleDateString("fa-IR")]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[p.discount_percentage&&a.jsxs("div",{className:`flex items-center ${f?"text-slate-300":"text-gray-700"}`,children:[a.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center ml-2",children:a.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.99 1.99 0 013 12V7a4 4 0 014-4z"})})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"تخفیف"}),a.jsxs("div",{className:"text-red-600 font-bold",children:["%",p.discount_percentage]})]})]}),p.elite_gift_title&&a.jsxs("div",{className:`flex items-center ${f?"text-slate-300":"text-gray-700"}`,children:[a.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center ml-2",children:a.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"هدیه"}),a.jsx("div",{className:"text-purple-600 text-xs truncate",children:p.elite_gift_title})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:`flex items-center ${f?"text-slate-400":"text-gray-500"}`,children:[a.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),p.vip_experiences_count," تجربه VIP"]}),p.days_remaining!==null&&p.days_remaining!==void 0&&a.jsxs("div",{className:`flex items-center ${p.days_remaining>7?"text-green-600":p.days_remaining>0?"text-orange-600":"text-red-600"}`,children:[a.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),p.days_remaining>0?`${p.days_remaining} روز باقی‌مانده`:"منقضی شده"]})]})]}),p.status==="draft"&&a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-blue-600 text-sm",children:"کلیک کنید تا ویرایش کنید"})}),p.status==="pending"&&a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-orange-600 text-sm",children:"در حال بررسی"})}),p.status==="approved"&&a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-green-600 text-sm",children:"تایید شده"})}),p.status==="rejected"&&a.jsx("div",{className:"text-center",children:a.jsx("span",{className:"text-red-600 text-sm",children:"نیاز به ویرایش"})})]},p.id))}),a.jsx("div",{className:"h-4"})]}),e.length>0&&a.jsx("button",{onClick:r,className:"fixed bottom-24 right-4 w-12 h-12 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-300 z-40 hover:scale-110 shadow-blue-500/25",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})},Fw=({onClose:e,onSuccess:t,editingPackageId:r,vipExperiences:i})=>{const{isDark:l}=Et(),[u,f]=z.useState(1),[p,v]=z.useState(!1),[_,C]=z.useState(null),[k]=z.useState(r||null),[M,O]=z.useState({globalDiscountPercentage:"",specificTitle:"",specificDescription:"",specificPercentage:"",showSpecificDiscount:!1,giftType:"amount",giftAmount:"",giftCount:"",giftDescription:"",oneStarFeatures:[],twoStarFeatures:[],duration:""});z.useEffect(()=>{r&&T(r)},[r]);const T=async X=>{try{v(!0);const U=await pe.getPackageStatus(X);if(U.data){const ae=U.data;if(ae.discount_all&&O(Y=>({...Y,globalDiscountPercentage:ae.discount_all.toString()})),ae.specific_discount&&O(Y=>({...Y,showSpecificDiscount:!0,specificTitle:ae.specific_discount.title,specificDescription:ae.specific_discount.description||"",specificPercentage:ae.specific_discount.percentage.toString()})),ae.elite_gift){const Y=ae.elite_gift;O(de=>({...de,giftDescription:Y.gift,giftType:Y.amount?"amount":"count",giftAmount:Y.amount?Y.amount.toString():"",giftCount:Y.count?Y.count.toString():""}))}if(ae.vip_experiences&&ae.vip_experiences.length>0){const Y=ae.vip_experiences.filter(je=>je.vip_type==="VIP").map(je=>je.id.toString()),de=ae.vip_experiences.filter(je=>je.vip_type==="VIP+").map(je=>je.id.toString());O(je=>({...je,oneStarFeatures:Y,twoStarFeatures:de}))}}}catch{C("خطا در بارگذاری داده‌های پکیج")}finally{v(!1)}},N=[{id:1,title:"تخفیف",icon:"💰"},{id:2,title:"هدیه",icon:"🎁"},{id:3,title:"VIP",icon:"⭐"},{id:4,title:"تایید",icon:"✅"}],S=[{value:"3months",label:"3 ماهه"},{value:"6months",label:"6 ماهه"},{value:"9months",label:"9 ماهه"},{value:"12months",label:"12 ماهه"}],b=(X,U)=>{O(ae=>({...ae,[X]:U}))},w=(X,U,ae)=>{O(Y=>({...Y,[X]:ae?[...Y[X],U]:Y[X].filter(de=>de!==U)}))},P=async()=>{if(u<4){let X=!1;switch(u){case 1:if(!M.globalDiscountPercentage){C("درصد تخفیف کلی الزامی است.");return}if(M.showSpecificDiscount&&M.specificTitle&&!M.specificPercentage){C("درصد تخفیف اختصاصی الزامی است.");return}if(M.showSpecificDiscount&&M.specificTitle&&M.specificPercentage){const U=parseFloat(M.globalDiscountPercentage);if(parseFloat(M.specificPercentage)<=U){C("درصد تخفیف اختصاصی باید از تخفیف کلی بیشتر باشد.");return}}X=await B();break;case 2:if(!M.giftDescription){C("فیلد هدیه الزامی است.");return}if(M.giftType==="amount"&&!M.giftAmount){C("مبلغ کل خرید الزامی است.");return}if(M.giftType==="count"&&!M.giftCount){C("تعداد خرید الزامی است.");return}X=await V();break;case 3:if(M.oneStarFeatures.length===0){C("حداقل یک گزینه از گروه VIP الزامی است.");return}X=await Q();break}X&&f(u+1)}},I=()=>{u>1&&f(u-1)},A=async()=>{if(!k)return!1;try{v(!0),C(null);const X={percentage:parseFloat(M.globalDiscountPercentage)},U=await pe.savePackageDiscounts(k,X,void 0,!0);return U.error?(C(U.error),!1):(b("showSpecificDiscount",!1),b("specificTitle",""),b("specificDescription",""),b("specificPercentage",""),!0)}catch{return C("خطا در حذف تخفیف اختصاصی"),!1}finally{v(!1)}},B=async()=>{if(!k)return!1;try{v(!0),C(null);const X={percentage:parseFloat(M.globalDiscountPercentage)},U=M.showSpecificDiscount&&M.specificTitle?{title:M.specificTitle,description:M.specificDescription,percentage:parseFloat(M.specificPercentage)}:void 0,ae=await pe.savePackageDiscounts(k,X,U,!M.showSpecificDiscount);return ae.error?(C(ae.error),!1):!0}catch{return C("خطا در ذخیره تخفیفات"),!1}finally{v(!1)}},V=async()=>{if(!k)return!1;try{v(!0),C(null);const X=M.giftType==="amount"&&M.giftAmount?parseFloat(M.giftAmount):void 0,U=M.giftType==="count"&&M.giftCount?parseInt(M.giftCount):void 0,ae=await pe.savePackageLoyalGift(k,M.giftDescription,X,U);return ae.error?(C(ae.error),!1):!0}catch{return C("خطا در ذخیره هدیه"),!1}finally{v(!1)}},Q=async()=>{if(!k)return!1;try{v(!0),C(null);const X=[...M.oneStarFeatures,...M.twoStarFeatures].map(ae=>parseInt(ae)).filter(ae=>!isNaN(ae)),U=await pe.savePackageVip(k,X);return U.error?(C(U.error),!1):!0}catch{return C("خطا در ذخیره VIP"),!1}finally{v(!1)}},ce=async()=>{if(!k)return!1;try{v(!0),C(null);const X={"3months":3,"6months":6,"9months":9,"12months":12},U=await pe.finalizePackage(k,X[M.duration],!0);return U.error?(C(U.error),!1):(t(),!0)}catch{return C("خطا در تکمیل پکیج"),!1}finally{v(!1)}},ne=X=>{switch(X){case 1:return"در این بخش می‌توانید تخفیف کلی یا تخفیف اختصاصی برای کسب‌وکار خود تعیین کنید.";case 2:return"در این بخش می‌توانید هدایای ویژه برای مشتریان خود تعریف کنید.";case 3:return"در این بخش می‌توانید ویژگی‌های VIP و امتیازات ویژه را انتخاب کنید.";case 4:return"در این بخش مدت زمان طرح و خلاصه‌ای از پکیج خود را مشاهده کنید.";default:return""}},ge=()=>{var X;switch(u){case 1:return a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:`${l?"bg-slate-700":"bg-gray-50"} rounded-lg p-3 border border-gray-200`,children:a.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:ne(u)})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"تخفیف کلی (%)"}),a.jsx("input",{type:"number",value:M.globalDiscountPercentage,onChange:U=>b("globalDiscountPercentage",U.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"مثال: 20"})]}),M.showSpecificDiscount?a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"تخفیف اختصاصی"}),a.jsx("button",{onClick:A,disabled:p,className:"text-red-600 hover:text-red-800 text-sm disabled:opacity-50",children:p?"در حال حذف...":"حذف تخفیف اختصاصی ✕"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"عنوان تخفیف اختصاصی"}),a.jsx("input",{type:"text",value:M.specificTitle,onChange:U=>b("specificTitle",U.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"مثال: تخفیف ویژه محصولات جدید"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"توضیحات تخفیف"}),a.jsx("textarea",{value:M.specificDescription,onChange:U=>b("specificDescription",U.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"توضیحات بیشتر در مورد تخفیف..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"درصد تخفیف اختصاصی"}),a.jsx("input",{type:"number",value:M.specificPercentage,onChange:U=>b("specificPercentage",U.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"مثال: 30"})]})]}):a.jsxs("button",{onClick:()=>b("showSpecificDiscount",!0),className:"w-full flex items-center justify-center space-x-2 space-x-reverse px-4 py-3 border-2 border-dashed border-blue-300 rounded-lg text-blue-600 hover:border-blue-400 hover:bg-blue-50 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),a.jsx("span",{className:"text-sm font-medium",children:"ایجاد تخفیف اختصاصی"})]})]});case 2:return a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:`${l?"bg-slate-700":"bg-gray-50"} rounded-lg p-3 border border-gray-200`,children:a.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:ne(u)})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"شرط دریافت هدیه"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"giftType",value:"amount",checked:M.giftType==="amount",onChange:U=>b("giftType",U.target.value),className:"ml-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"جمع مبلغ خرید"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"giftType",value:"count",checked:M.giftType==="count",onChange:U=>b("giftType",U.target.value),className:"ml-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:"تعداد مراجعه"})]})]})]}),M.giftType==="amount"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"مبلغ کل خرید"}),a.jsx("input",{type:"number",value:M.giftAmount,onChange:U=>b("giftAmount",U.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"مثال: 1000000"})]}),M.giftType==="count"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"تعداد خرید"}),a.jsx("input",{type:"number",value:M.giftCount,onChange:U=>b("giftCount",U.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"مثال: 5"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"هدیه"}),a.jsx("input",{type:"text",value:M.giftDescription,onChange:U=>b("giftDescription",U.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"مثال: کارت هدیه 100 هزار تومانی"})]})]});case 3:return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:`${l?"bg-slate-700":"bg-gray-50"} rounded-lg p-3 border border-gray-200`,children:a.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:ne(u)})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"VIP"}),a.jsxs("div",{className:"space-y-2",children:[i&&i.length>0?i.filter(U=>U.vip_type==="VIP").map(U=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:M.oneStarFeatures.includes(U.id.toString()),onChange:ae=>w("oneStarFeatures",U.id.toString(),ae.target.checked),className:"ml-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs font-medium text-gray-700",children:U.name}),U.description&&a.jsx("span",{className:"text-xs text-gray-500",children:U.description})]})]},U.id)):a.jsx("p",{className:"text-xs text-gray-500",children:"در حال بارگذاری..."}),i&&i.filter(U=>U.vip_type==="VIP").length===0&&a.jsx("p",{className:"text-xs text-gray-500",children:"هیچ گزینه VIP برای دسته‌بندی کسب و کار شما تعریف نشده است."})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"VIP+"}),a.jsxs("div",{className:"space-y-2",children:[i&&i.length>0?i.filter(U=>U.vip_type==="VIP+").map(U=>a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:M.twoStarFeatures.includes(U.id.toString()),onChange:ae=>w("twoStarFeatures",U.id.toString(),ae.target.checked),className:"ml-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs font-medium text-gray-700",children:U.name}),U.description&&a.jsx("span",{className:"text-xs text-gray-500",children:U.description})]})]},U.id)):a.jsx("p",{className:"text-xs text-gray-500",children:"در حال بارگذاری..."}),i&&i.filter(U=>U.vip_type==="VIP+").length===0&&a.jsx("p",{className:"text-xs text-gray-500",children:"هیچ گزینه VIP+ برای دسته‌بندی کسب و کار شما تعریف نشده است."})]})]})]});case 4:return a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:`${l?"bg-slate-700":"bg-gray-50"} rounded-lg p-3 border border-gray-200`,children:a.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:ne(u)})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"مدت زمان طرح"}),a.jsxs("select",{value:M.duration,onChange:U=>b("duration",U.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"انتخاب کنید..."}),S.map(U=>a.jsx("option",{value:U.value,children:U.label},U.value))]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"خلاصه پکیج"}),a.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[M.globalDiscountPercentage&&a.jsxs("p",{children:["تخفیف کلی: ",M.globalDiscountPercentage,"%"]}),M.showSpecificDiscount&&M.specificTitle&&a.jsxs("p",{children:["تخفیف اختصاصی: ",M.specificTitle," (",M.specificPercentage,"%)"]}),M.giftDescription&&a.jsxs("p",{children:["هدیه: ",M.giftDescription,M.giftType==="amount"&&M.giftAmount&&` (مبلغ: ${M.giftAmount})`,M.giftType==="count"&&M.giftCount&&` (تعداد: ${M.giftCount})`]}),M.oneStarFeatures.length>0&&a.jsxs("p",{children:["ویژگی‌های VIP: ",M.oneStarFeatures.map(U=>{const ae=i==null?void 0:i.find(Y=>Y.id.toString()===U);return ae?ae.name:U}).join(", ")]}),M.twoStarFeatures.length>0&&a.jsxs("p",{children:["ویژگی‌های VIP+: ",M.twoStarFeatures.map(U=>{const ae=i==null?void 0:i.find(Y=>Y.id.toString()===U);return ae?ae.name:U}).join(", ")]}),M.duration&&a.jsxs("p",{children:["مدت زمان: ",(X=S.find(U=>U.value===M.duration))==null?void 0:X.label]})]})]})]});default:return null}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2",children:a.jsxs("div",{className:`${l?"bg-slate-800":"bg-white"} rounded-lg w-full max-w-lg max-h-[95vh] overflow-y-auto`,children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[a.jsx("h2",{className:`text-lg font-bold ${l?"text-white":"text-gray-900"}`,children:"ایجاد پکیج جدید"}),a.jsx("button",{onClick:e,className:`${l?"text-slate-400 hover:text-white":"text-gray-400 hover:text-gray-600"}`,children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-3 border-b border-gray-200",children:a.jsx("div",{className:"flex items-center justify-between",children:N.map((X,U)=>a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`text-xs font-medium mb-1 ${u>=X.id?l?"text-white":"text-gray-900":l?"text-slate-400":"text-gray-500"}`,children:X.title}),a.jsx("div",{className:`flex items-center justify-center w-7 h-7 rounded-full ${u>=X.id?"bg-blue-600 text-white":l?"bg-slate-700 text-slate-400":"bg-gray-200 text-gray-500"}`,children:u>X.id?a.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):u===X.id?a.jsx("span",{className:"text-xs font-bold",children:X.id}):a.jsx("span",{className:"text-xs",children:X.icon})}),U<N.length-1&&a.jsx("div",{className:`w-20 h-0.5 mx-2 mt-3.5 ${u>X.id?"bg-blue-600":l?"bg-slate-600":"bg-gray-300"}`}),U===N.length-1&&u>=X.id&&a.jsx("div",{className:`w-8 h-0.5 mx-2 mt-3.5 ${u>X.id?"bg-blue-600":l?"bg-slate-600":"bg-gray-300"}`})]},X.id))})}),a.jsxs("div",{className:"p-4",children:[_&&a.jsx("div",{className:"mb-3 bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-lg text-sm",children:_}),ge()]}),a.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-gray-200",children:[a.jsx("button",{onClick:I,disabled:u===1,className:`px-3 py-2 rounded-lg transition-colors text-sm ${u===1?"bg-gray-100 text-gray-400 cursor-not-allowed":l?"bg-slate-700 text-white hover:bg-slate-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"قبلی"}),a.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[a.jsx("button",{onClick:e,className:`px-3 py-2 rounded-lg transition-colors text-sm ${l?"bg-slate-700 text-white hover:bg-slate-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"انصراف"}),u<4?a.jsx("button",{onClick:P,disabled:p,className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 text-sm",children:p?"در حال ذخیره...":"بعدی"}):a.jsx("button",{onClick:ce,disabled:p||!M.duration,className:"px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 text-sm",children:p?"در حال تکمیل...":"تکمیل پکیج"})]})]})]})})},$w=({package:e,onClose:t})=>{const{isDark:r}=Et(),i=u=>{switch(u){case"draft":return"text-blue-600 bg-blue-100";case"approved":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"rejected":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},l=u=>{switch(u){case"draft":return"پیش‌نویس";case"approved":return"تایید شده";case"pending":return"در حال بررسی";case"rejected":return"نیاز به ویرایش";default:return u}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${r?"bg-slate-800":"bg-white"} rounded-2xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden`,children:[a.jsxs("div",{className:`${r?"bg-slate-700 border-slate-600":"bg-gray-50 border-gray-200"} px-6 py-4 border-b flex items-center justify-between`,children:[a.jsx("h2",{className:`text-xl font-bold ${r?"text-white":"text-gray-900"}`,children:"جزئیات پکیج تبلیغاتی"}),a.jsx("button",{onClick:t,className:`${r?"text-slate-400 hover:text-white":"text-gray-400 hover:text-gray-600"} transition-colors`,children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:`${r?"bg-slate-700":"bg-gray-50"} rounded-xl p-4`,children:[a.jsx("h3",{className:`text-lg font-semibold ${r?"text-white":"text-gray-900"} mb-4`,children:"اطلاعات کلی"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`text-sm font-medium ${r?"text-slate-300":"text-gray-700"}`,children:"وضعیت پکیج"}),a.jsxs("div",{className:"mt-1",children:[a.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${i(e.status)}`,children:l(e.status)}),e.is_active&&a.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-semibold rounded-full text-green-600 bg-green-100 mr-2",children:"فعال"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`text-sm font-medium ${r?"text-slate-300":"text-gray-700"}`,children:"وضعیت تکمیل"}),a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${e.is_complete?"text-green-600 bg-green-100":"text-gray-600 bg-gray-100"}`,children:e.is_complete?"کامل":"ناقص"})})]}),e.start_date&&a.jsxs("div",{children:[a.jsx("label",{className:`text-sm font-medium ${r?"text-slate-300":"text-gray-700"}`,children:"تاریخ شروع"}),a.jsx("p",{className:`mt-1 ${r?"text-slate-400":"text-gray-600"}`,children:new Date(e.start_date).toLocaleDateString("fa-IR")})]}),e.end_date&&a.jsxs("div",{children:[a.jsx("label",{className:`text-sm font-medium ${r?"text-slate-300":"text-gray-700"}`,children:"تاریخ پایان"}),a.jsx("p",{className:`mt-1 ${r?"text-slate-400":"text-gray-600"}`,children:new Date(e.end_date).toLocaleDateString("fa-IR")})]}),e.days_remaining!==null&&e.days_remaining!==void 0&&a.jsxs("div",{children:[a.jsx("label",{className:`text-sm font-medium ${r?"text-slate-300":"text-gray-700"}`,children:"روزهای باقی‌مانده"}),a.jsx("p",{className:`mt-1 font-medium ${e.days_remaining>7?"text-green-600":e.days_remaining>0?"text-orange-600":"text-red-600"}`,children:e.days_remaining>0?`${e.days_remaining} روز`:"منقضی شده"})]})]})]}),e.discount_all&&a.jsxs("div",{className:`${r?"bg-slate-700":"bg-gray-50"} rounded-xl p-4`,children:[a.jsxs("h3",{className:`text-lg font-semibold ${r?"text-white":"text-gray-900"} mb-4 flex items-center`,children:[a.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center ml-2",children:a.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.99 1.99 0 013 12V7a4 4 0 014-4z"})})}),"تخفیف روی تمام محصولات"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`text-sm font-medium ${r?"text-slate-300":"text-gray-700"}`,children:"درصد تخفیف"}),a.jsxs("p",{className:"mt-1 text-2xl font-bold text-red-600",children:["%",e.discount_all.percentage]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`text-sm font-medium ${r?"text-slate-300":"text-gray-700"}`,children:"امتیاز"}),a.jsxs("p",{className:`mt-1 ${r?"text-slate-400":"text-gray-600"}`,children:[e.discount_all.score," از 5"]})]})]})]}),e.specific_discount&&a.jsxs("div",{className:`${r?"bg-slate-700":"bg-gray-50"} rounded-xl p-4`,children:[a.jsxs("h3",{className:`text-lg font-semibold ${r?"text-white":"text-gray-900"} mb-4 flex items-center`,children:[a.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center ml-2",children:a.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.99 1.99 0 013 12V7a4 4 0 014-4z"})})}),"تخفیف ویژه"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`text-sm font-medium ${r?"text-slate-300":"text-gray-700"}`,children:"عنوان"}),a.jsx("p",{className:`mt-1 ${r?"text-slate-400":"text-gray-600"}`,children:e.specific_discount.title})]}),a.jsxs("div",{children:[a.jsx("label",{className:`text-sm font-medium ${r?"text-slate-300":"text-gray-700"}`,children:"درصد تخفیف"}),a.jsxs("p",{className:"mt-1 text-xl font-bold text-orange-600",children:["%",e.specific_discount.percentage]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:`text-sm font-medium ${r?"text-slate-300":"text-gray-700"}`,children:"توضیحات"}),a.jsx("p",{className:`mt-1 ${r?"text-slate-400":"text-gray-600"}`,children:e.specific_discount.description})]})]})]}),e.elite_gift&&a.jsxs("div",{className:`${r?"bg-slate-700":"bg-gray-50"} rounded-xl p-4`,children:[a.jsxs("h3",{className:`text-lg font-semibold ${r?"text-white":"text-gray-900"} mb-4 flex items-center`,children:[a.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center ml-2",children:a.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})})}),"هدیه ویژه"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`text-sm font-medium ${r?"text-slate-300":"text-gray-700"}`,children:"عنوان هدیه"}),a.jsx("p",{className:`mt-1 ${r?"text-slate-400":"text-gray-600"}`,children:e.elite_gift.gift})]}),e.elite_gift.amount&&a.jsxs("div",{children:[a.jsx("label",{className:`text-sm font-medium ${r?"text-slate-300":"text-gray-700"}`,children:"مبلغ"}),a.jsxs("p",{className:"mt-1 text-lg font-bold text-purple-600",children:[e.elite_gift.amount.toLocaleString()," تومان"]})]}),e.elite_gift.count&&a.jsxs("div",{children:[a.jsx("label",{className:`text-sm font-medium ${r?"text-slate-300":"text-gray-700"}`,children:"تعداد"}),a.jsxs("p",{className:`mt-1 ${r?"text-slate-400":"text-gray-600"}`,children:[e.elite_gift.count," عدد"]})]})]})]}),e.experiences&&e.experiences.length>0&&a.jsxs("div",{className:`${r?"bg-slate-700":"bg-gray-50"} rounded-xl p-4`,children:[a.jsxs("h3",{className:`text-lg font-semibold ${r?"text-white":"text-gray-900"} mb-4 flex items-center`,children:[a.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center ml-2",children:a.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),"تجربیات VIP (",e.experiences.length," تجربه)"]}),a.jsx("div",{className:"space-y-3",children:e.experiences.map((u,f)=>{var p,v;return a.jsx("div",{className:`${r?"bg-slate-600":"bg-white"} rounded-lg p-3 border ${r?"border-slate-500":"border-gray-200"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:`font-medium ${r?"text-white":"text-gray-900"}`,children:(p=u.vip_experience_category)==null?void 0:p.name}),a.jsx("p",{className:`text-sm ${r?"text-slate-400":"text-gray-600"}`,children:(v=u.vip_experience_category)==null?void 0:v.description})]}),a.jsx("div",{className:"text-left",children:a.jsxs("span",{className:`text-sm ${r?"text-slate-400":"text-gray-600"}`,children:["امتیاز: ",u.score,"/5"]})})]})},f)})})]}),a.jsxs("div",{className:`${r?"bg-slate-700":"bg-gray-50"} rounded-xl p-4`,children:[a.jsx("h3",{className:`text-lg font-semibold ${r?"text-white":"text-gray-900"} mb-4`,children:"اطلاعات زمانی"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`text-sm font-medium ${r?"text-slate-300":"text-gray-700"}`,children:"تاریخ ایجاد"}),a.jsxs("p",{className:`mt-1 ${r?"text-slate-400":"text-gray-600"}`,children:[new Date(e.created_at).toLocaleDateString("fa-IR")," - ",new Date(e.created_at).toLocaleTimeString("fa-IR")]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`text-sm font-medium ${r?"text-slate-300":"text-gray-700"}`,children:"آخرین ویرایش"}),a.jsxs("p",{className:`mt-1 ${r?"text-slate-400":"text-gray-600"}`,children:[new Date(e.modified_at).toLocaleDateString("fa-IR")," - ",new Date(e.modified_at).toLocaleTimeString("fa-IR")]})]})]})]})]})}),a.jsx("div",{className:`${r?"bg-slate-700 border-slate-600":"bg-gray-50 border-gray-200"} px-6 py-4 border-t flex justify-end`,children:a.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"بستن"})})]})})},Yw=()=>{const{user:e}=Ht();return e?a.jsxs(Mg,{children:[a.jsx($t,{path:"profile",element:a.jsx(Iw,{})}),a.jsx($t,{path:"packages",element:a.jsx(Rl,{children:a.jsx(Rw,{})})}),a.jsx($t,{path:"explore",element:a.jsx(Rl,{children:a.jsx(A1,{})})}),a.jsx($t,{path:"",element:a.jsx(Rl,{children:a.jsx(qm,{})})}),a.jsx($t,{path:"*",element:a.jsx(Rl,{children:a.jsx(qm,{})})})]}):a.jsx(Wa,{children:a.jsx(Eg,{})})};function Bw(){return a.jsx(C1,{children:a.jsx(T1,{children:a.jsx(N1,{children:a.jsxs(Mg,{children:[a.jsx($t,{path:"/",element:a.jsx(Wa,{children:a.jsx(Eg,{})})}),a.jsx($t,{path:"/businesses",element:a.jsx(Wa,{children:a.jsx(O1,{})})}),a.jsx($t,{path:"/about",element:a.jsx(Wa,{children:a.jsx(z1,{})})}),a.jsx($t,{path:"/contact",element:a.jsx(Wa,{children:a.jsx(I1,{})})}),a.jsx($t,{path:"/login",element:a.jsx(Xa,{to:"/",replace:!0})}),a.jsx($t,{path:"/register",element:a.jsx(Xa,{to:"/",replace:!0})}),a.jsx($t,{path:"/dashboard/*",element:a.jsx(Yw,{})}),a.jsx($t,{path:"/test-users",element:a.jsx(R1,{})})]})})})})}md.createRoot(document.getElementById("root")).render(a.jsx(zi.StrictMode,{children:a.jsx(Bw,{})}));
